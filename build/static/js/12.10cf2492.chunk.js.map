{"version":3,"sources":["api/callComponent.tsx","components/Select.tsx","components/IconButton.tsx","components/EmptyScreen.tsx","components/Label.tsx","assets/one-to-one.svg","assets/one-to-many.svg","components/ToupleInput.tsx","pages/CollectionTypes/CollectionModal.tsx","assets/subcollection.svg","components/fieldTypes/String.tsx","components/fieldTypes/Number.tsx","components/fieldTypes/Map.tsx","components/fieldTypes/Array.tsx","components/fieldTypes/Boolean.tsx","components/fieldTypes/Date.tsx","components/fieldTypes/Media.tsx","components/fieldTypes/RichText.tsx","components/fieldTypes/Json.tsx","components/fieldTypes/Enum.tsx","components/fieldTypes/Password.tsx","components/fieldTypes/Relation.tsx","components/fieldTypes/index.tsx","components/fieldTypes/Subcollection.tsx","pages/CollectionTypes/SelectFieldType.tsx","pages/CollectionTypes/GetCollectionField.ts","pages/CollectionTypes/SpecifyFieldDetails.tsx","pages/CollectionTypes/InterfaceModal.tsx","pages/CollectionTypes/index.tsx"],"names":["callComponent","Component","props","Promise","resolve","reject","wrapper","document","getElementById","appendChild","createElement","ReactDOM","render","store","proceed","val","unmountComponentAtNode","parentNode","removeChild","WarningIcon","React","forwardRef","ref","className","size","Select","options","error","white","classNames","spellCheck","map","x","i","value","label","title","placement","IconButton","variant","rest","EmptyScreen","onCreate","buttonTitle","onClick","fontSize","Label","children","_path","_circle","_circle2","_extends","Object","assign","target","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgOneToOne","_ref","svgRef","titleId","width","height","viewBox","fill","xmlns","id","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","ForwardRef","_path2","_circle3","SvgOneToMany","ToupleInput","setValue","disabled","opt","icon","createId","string","str","char","toLowerCase","toUpperCase","match","AddNewCollection","open","onClose","collections","editingCollectionIndex","onUpdate","onDelete","notify","useNotify","formIntialState","name","single","draftable","fields","type","displayOnTable","isDefault","lastIndex","docId","useFormik","enableReinitialize","onSubmit","vals","a","resetForm","updateCollectionType","values","createCollectionType","res","actionType","initialValues","validate","errors","index","findIndex","handleSubmit","handleChange","setFieldValue","isSubmitting","submitCount","Modal","hideBackdrop","onChange","onKeyDown","e","Button","confirm","confirmation","deleteDocId","deleteCollectionType","String","Number","Map","Array","Boolean","Media","Enum","Password","Relation","SvgSubcollection","fieldTypes","Badge","Date","RichText","Json","SelectFieldType","useState","fieldType","setFieldType","FieldTypes","replace","getCollectionField","editableField","existingFieldNames","SpecifyFieldDetails","res1","mediaSingle","enumOptions","relatedCollectionTypeDocId","relationOneToOne","stringLong","collectionFields","enumOption","setEnumOption","SelectedFieldType","find","useSelector","state","collectionTypes","onDragEnd","result","destination","reorder","addEnumOption","arr","push","splice","toString","c","OneToOneIcon","OneToManyIcon","field","droppableId","provided","snapshot","droppableProps","innerRef","t","draggableId","draggableProps","dragHandleProps","f","filter","placeholder","getGap","count","reduce","b","getType","ident","identStep","docType","multiple","includes","types","password","json","array","media","date","enum","number","boolean","relation","collection","documentFields","script","generateInterface","colType","InterfaceModal","collectionType","stopPropagation","list","startIndex","endIndex","from","removed","CollectionsBuilder","collectionModalOpen","setCollectionModalOpen","dispatch","useDispatch","setEditingCollectionIndex","selectedCollection","setSelectedCollection","interfaceColType","setInterfaceColType","editField","selectedField","newFields","JSON","parse","stringify","payload","success","addField","parseInt","autoHide","noMinWidth","updatedCollection","CollectionModal","undefined"],"mappings":"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","file":"static/js/12.10cf2492.chunk.js","sourcesContent":["import ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"store\";\r\n\r\nexport interface CallableComponent<T> {\r\n  proceed: (v: T) => void;\r\n}\r\n\r\ninterface callComponentArgs<T> {\r\n  Component: React.FC<any>;\r\n  props: Omit<T, \"proceed\">;\r\n}\r\n\r\nexport function callComponent<T, RT>({ Component, props }: callComponentArgs<T>): Promise<RT> {\r\n  return new Promise((resolve, reject) => {\r\n    const wrapper = document.getElementById(\"root\")?.appendChild(document.createElement(\"div\"));\r\n    if (wrapper) {\r\n      ReactDOM.render(\r\n        <Provider store={store}>\r\n          <Component\r\n            {...props}\r\n            proceed={(val: RT) => {\r\n              ReactDOM.unmountComponentAtNode(wrapper);\r\n              wrapper.parentNode?.removeChild(wrapper);\r\n              resolve(val);\r\n            }}\r\n          />\r\n        </Provider>,\r\n        wrapper\r\n      );\r\n    }\r\n  });\r\n}\r\n","import { IoAlertCircleOutline } from \"react-icons/io5\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport React, { SelectHTMLAttributes } from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst WarningIcon = React.forwardRef(function MyComponent(props: any, ref: any) {\r\n  return (\r\n    <div {...props} ref={ref}>\r\n      <IoAlertCircleOutline className=\"text-red-500\" size={20}></IoAlertCircleOutline>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\r\n  className?: string;\r\n  options: { label: string; value: string | number }[];\r\n  error?: string | boolean;\r\n  white?: boolean;\r\n}\r\n\r\nconst Select: React.FC<SelectProps> = ({\r\n  className = \"\",\r\n  options,\r\n  error,\r\n  white = false,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div className={`${className} relative flex items-center`}>\r\n      <select\r\n        className={classNames(\"px-3 h-34px border-2 border-solid w-full rounded outline-none\", {\r\n          \"border-red-400\": error,\r\n          \"focus:border-blue-300\": !error,\r\n          \"border-gray-300 bg-gray-300\": !white,\r\n          \"border-white bg-white\": white,\r\n        })}\r\n        {...props}\r\n        spellCheck={false}\r\n      >\r\n        {options.map((x, i) => (\r\n          <option key={\"opt-\" + i} value={x.value}>\r\n            {x.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      {error ? (\r\n        <Tooltip title={error} placement=\"top\">\r\n          <WarningIcon className=\"absolute right-2 my-auto w-auto\"></WarningIcon>\r\n        </Tooltip>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import ButtonBase from \"@material-ui/core/ButtonBase\";\r\n\r\nexport type IconButtonVariant = \"transparent\" | \"standard\";\r\n\r\nexport interface IconButtonProps {\r\n  className?: string;\r\n  variant?: IconButtonVariant;\r\n  [x: string]: any;\r\n}\r\n\r\nconst IconButton: React.FC<IconButtonProps> = ({\r\n  className = \"\",\r\n  variant = \"standard\",\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <ButtonBase\r\n      {...rest}\r\n      className={\r\n        `outline-none h-26px w-26px rounded ${\r\n          variant === \"standard\"\r\n            ? \"bg-orange-300 hover:bg-orange-301\"\r\n            : \"hover:bg-black hover:bg-opacity-5\"\r\n        }  ` + className\r\n      }\r\n    ></ButtonBase>\r\n  );\r\n};\r\n\r\nexport default IconButton;\r\n","import Button from \"components/Button\";\r\n\r\nexport interface EmptyScreenProps {\r\n  title: string;\r\n  buttonTitle: string;\r\n  onCreate: () => void;\r\n}\r\n\r\nconst EmptyScreen: React.FC<EmptyScreenProps> = ({ title, onCreate, buttonTitle }) => {\r\n  return (\r\n    <div className=\"h-96 bg-gray-300 rounded-md flex w-full p-12\">\r\n      <div className=\"m-auto\">\r\n        <div className=\"text-22px mb-5 font-medium text-center\">{title}</div>\r\n        <Button className=\"mx-auto bg-orange-300 hover:bg-orange-301 block\" onClick={onCreate}>\r\n          {buttonTitle}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmptyScreen;\r\n","import React from \"react\";\r\nimport ErrorRounded from \"@material-ui/icons/ErrorRounded\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nexport interface LabelProps {\r\n  error?: string | undefined | null;\r\n  className?: string;\r\n  children: any;\r\n}\r\n\r\nconst WarningIcon = React.forwardRef(function MyComponent(props: any, ref: any) {\r\n  return (\r\n    <div {...props} ref={ref}>\r\n      <ErrorRounded className=\"text-red-500 text-xl\" fontSize=\"inherit\"></ErrorRounded>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst Label: React.FC<LabelProps> = ({ className = \"\", children, error }) => {\r\n  return (\r\n    <div className={`flex justify-between relative ${className}`}>\r\n      <div>{children}</div>\r\n      {error ? (\r\n        <Tooltip title={error} placement=\"top\">\r\n          <WarningIcon className=\"absolute right-2 my-auto w-auto\"></WarningIcon>\r\n        </Tooltip>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Label;\r\n","var _path, _circle, _circle2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOneToOne(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 9,\n    viewBox: \"0 0 40 9\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.36621 4.67223H30.7241M30.7241 4.67223L28.3085 2.25659M30.7241 4.67223L28.3085 7.08786\",\n    stroke: \"black\",\n    strokeWidth: 1.37296,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 4.69562,\n    cy: 4.49835,\n    r: 3.31773,\n    stroke: \"black\",\n    strokeWidth: 1.37296\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 35.3948,\n    cy: 4.49835,\n    r: 3.31773,\n    stroke: \"black\",\n    strokeWidth: 1.37296\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOneToOne);\nexport default __webpack_public_path__ + \"static/media/one-to-one.4a14dbcb.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _circle, _circle2, _circle3;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOneToMany(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 37,\n    viewBox: \"0 0 40 37\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5875 18.8431L30.4119 7.39751M30.4119 7.39751L26.8752 6.44984M30.4119 7.39751L29.4643 10.9342\",\n    stroke: \"black\",\n    strokeWidth: 1.47153,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5873 18.8433L30.4117 30.2889M30.4117 30.2889L29.4641 26.7522M30.4117 30.2889L26.875 31.2366\",\n    stroke: \"black\",\n    strokeWidth: 1.47153,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 5.00165,\n    cy: 18.7858,\n    r: 3.55593,\n    stroke: \"black\",\n    strokeWidth: 1.47153\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 35.2653,\n    cy: 32.5311,\n    r: 3.55593,\n    stroke: \"black\",\n    strokeWidth: 1.47153\n  })), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 35.2653,\n    cy: 5.15558,\n    r: 3.55593,\n    stroke: \"black\",\n    strokeWidth: 1.47153\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOneToMany);\nexport default __webpack_public_path__ + \"static/media/one-to-many.5e6efcfb.svg\";\nexport { ForwardRef as ReactComponent };","export interface ToupleInputProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  setValue: (a: any) => void;\r\n  options: {\r\n    value: any;\r\n    label: string;\r\n    icon?: React.FunctionComponent<React.SVGProps<SVGSVGElement>>;\r\n  }[];\r\n  value: any;\r\n  disabled?: boolean;\r\n}\r\n\r\nconst ToupleInput: React.FC<ToupleInputProps> = ({\r\n  className = \"\",\r\n  options,\r\n  value,\r\n  setValue,\r\n  disabled,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <div className={\"flex -mx-2 flex-wrap sm:flex-nowrap mb-10 \" + className} {...rest}>\r\n      {options.map((opt, i) => (\r\n        <div\r\n          key={opt.value}\r\n          onClick={() => setValue(opt.value)}\r\n          className={`sm:w-1/2 w-full mx-2 mb-3 sm:mb-0 py-7 select-none ${\r\n            disabled ? \"cursor-default\" : \"cursor-pointer\"\r\n          } flex items-center justify-center rounded ${\r\n            value === opt.value\r\n              ? \"border-4 border-orange-300\"\r\n              : `bg-gray-300 ${disabled ? \"\" : \"hover:bg-gray-301\"}`\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <div className={opt.icon ? \"mr-7\" : \"\"}>{opt.label}</div>\r\n            {opt.icon ? <opt.icon></opt.icon> : null}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToupleInput;\r\n","import Modal from \"@material-ui/core/Modal\";\r\nimport Input from \"components/GrayInput\";\r\nimport React from \"react\";\r\nimport Button from \"components/Button\";\r\nimport {\r\n  createCollectionType,\r\n  updateCollectionType,\r\n  CollectionType,\r\n  deleteCollectionType,\r\n} from \"api/collectionTypes\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport { useFormik } from \"formik\";\r\nimport ToupleInput from \"components/ToupleInput\";\r\n\r\nexport interface AddNewCollectionProps {\r\n  open: boolean;\r\n  onClose: Function;\r\n  collections: Array<CollectionType>;\r\n  editingCollectionIndex: number;\r\n  onCreate: (val: CollectionType) => void;\r\n  onUpdate: (val: Partial<CollectionType>) => void;\r\n  onDelete: (docId: string) => void;\r\n}\r\n\r\nfunction isNumeric(char: any) {\r\n  return char >= \"0\" && char <= \"9\";\r\n}\r\n\r\nfunction isLetter(str: any) {\r\n  return str.length === 1 && str.match(/[a-z]/i);\r\n}\r\n\r\nconst createId = (string: string) => {\r\n  let id = \"\";\r\n  for (let i = 0; i < string.length; i++) {\r\n    if (string[i] === \" \") {\r\n      id += \"-\";\r\n    } else if (\r\n      i > 0 &&\r\n      string[i - 1].toLowerCase() === string[i - 1] &&\r\n      string[i - 1] !== \" \" &&\r\n      string[i].toUpperCase() === string[i] &&\r\n      !isNumeric(string[i]) &&\r\n      isLetter(string[i])\r\n    ) {\r\n      id += \"-\" + string[i].toLowerCase();\r\n    } else {\r\n      id += string[i].toLowerCase();\r\n    }\r\n  }\r\n  return id;\r\n};\r\n\r\nconst AddNewCollection: React.FC<AddNewCollectionProps> = ({\r\n  open,\r\n  onClose,\r\n  collections,\r\n  editingCollectionIndex,\r\n  onCreate,\r\n  onUpdate,\r\n  onDelete,\r\n}) => {\r\n  const initialData = {\r\n    name: \"\",\r\n    id: \"\",\r\n    single: false,\r\n    draftable: true,\r\n    fields: [\r\n      { id: \"createdAt\", type: \"date\", displayOnTable: true, isDefault: true },\r\n      { id: \"modifiedAt\", type: \"date\", displayOnTable: true, isDefault: true },\r\n      { id: \"docId\", type: \"string\", displayOnTable: true, isDefault: true },\r\n    ],\r\n    size: 0,\r\n    lastIndex: 0,\r\n    docId: \"\",\r\n  } as CollectionType;\r\n\r\n  const notify = useNotify();\r\n\r\n  const formIntialState =\r\n    editingCollectionIndex >= 0 ? collections[editingCollectionIndex] : initialData;\r\n\r\n  const { values, errors, handleSubmit, handleChange, setFieldValue, isSubmitting, submitCount } =\r\n    useFormik({\r\n      enableReinitialize: true,\r\n      onSubmit: async (vals, { resetForm }) => {\r\n        const id = createId(vals.name);\r\n\r\n        const res =\r\n          editingCollectionIndex > -1\r\n            ? await updateCollectionType(values.docId, { ...values, id })\r\n            : await createCollectionType({ ...values, id });\r\n        const actionType = editingCollectionIndex > -1 ? \"updated\" : \"created\";\r\n        if (!res.error) {\r\n          if (editingCollectionIndex > -1) {\r\n            onUpdate(res);\r\n          } else {\r\n            onCreate(res);\r\n          }\r\n          resetForm();\r\n          onClose();\r\n          notify(\"Collection type \" + actionType + \"!\", { variant: \"success\" });\r\n        } else {\r\n          notify(\"Collection type was not \" + actionType, { variant: \"error\" });\r\n        }\r\n      },\r\n      initialValues: formIntialState,\r\n      validate: (vals) => {\r\n        let errors: { [key: string]: string } = {};\r\n        if (!vals.name) {\r\n          errors.name = \"Collection name is required\";\r\n        } else {\r\n          const id = createId(vals.name);\r\n          const index = collections.findIndex((x) => x.id === id);\r\n          if (index !== -1 && index !== editingCollectionIndex) {\r\n            errors.name = \"There is collection with the same name\";\r\n          }\r\n        }\r\n        return errors;\r\n      },\r\n    });\r\n\r\n  return (\r\n    <Modal open={open} hideBackdrop>\r\n      <div className=\"w-full h-full flex overflow-auto bg-black bg-opacity-40\">\r\n        <div className=\"m-auto rounded bg-white max-w-644px w-full p-9\">\r\n          <div className=\"text-22px font-medium mb-12\">\r\n            {editingCollectionIndex > -1 ? \"Edit\" : \"Create\"} collection type\r\n          </div>\r\n          <div className=\"flex flex-wrap mb-7\">\r\n            <div className=\"mb-3 sm:w-1/2 w-full sm:pr-2\">\r\n              <div className=\"mb-2\">Collection name</div>\r\n              <Input\r\n                error={submitCount > 0 && errors.name ? errors.name : false}\r\n                value={values.name}\r\n                name=\"name\"\r\n                onChange={handleChange}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === \"Enter\") {\r\n                    handleSubmit();\r\n                  }\r\n                }}\r\n              ></Input>\r\n            </div>\r\n            <div className=\"mb-3 sm:w-1/2 w-full sm:pl-2\">\r\n              <div className=\"mb-2\">UID</div>\r\n              <Input disabled value={createId(values.name)} name=\"id\"></Input>\r\n            </div>\r\n          </div>\r\n          <ToupleInput\r\n            disabled={editingCollectionIndex !== -1}\r\n            value={values.single}\r\n            options={[\r\n              { value: false, label: \"Multiple elements\" },\r\n              { value: true, label: \"Single element\" },\r\n            ]}\r\n            setValue={(val) => (editingCollectionIndex === -1 ? setFieldValue(\"single\", val) : {})}\r\n          ></ToupleInput>\r\n          {editingCollectionIndex > -1 ? (\r\n            <Button\r\n              onClick={async () => {\r\n                if (\r\n                  await confirm({\r\n                    confirmation: \"Do you really want to delete collection type?\",\r\n                  })\r\n                ) {\r\n                  const deleteDocId = collections[editingCollectionIndex].docId;\r\n                  let res = await deleteCollectionType(deleteDocId);\r\n                  if (!res.error) {\r\n                    onClose();\r\n                    onDelete(deleteDocId);\r\n                    notify(\"Collection type deleted!\", { variant: \"success\" });\r\n                  } else {\r\n                    notify(\"Collection type was not deleted\", { variant: \"error\" });\r\n                  }\r\n                  onClose();\r\n                }\r\n              }}\r\n              className=\"border-2 border-red-500 text-red-500 mb-10 hover:bg-red-500 hover:text-white\"\r\n            >\r\n              Delete collection\r\n            </Button>\r\n          ) : null}\r\n\r\n          <div className=\"flex justify-between\">\r\n            <Button onClick={() => onClose()} className=\"bg-blue-300 hover:bg-blue-400 text-white\">\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              disabled={isSubmitting}\r\n              onClick={() => handleSubmit()}\r\n              className=\"bg-orange-300 hover:bg-orange-301\"\r\n            >\r\n              {isSubmitting ? \"Loading...\" : \"Submit\"}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddNewCollection;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSubcollection(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 19 19\",\n    fill: \"white\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.570312 0.778809H6.57031V4.77881H0.570312V0.778809ZM12.5703 7.77881H18.5703V11.7788H12.5703V7.77881ZM12.5703 14.7788H18.5703V18.7788H12.5703V14.7788ZM10.5703 10.7788H4.57031V15.7788H10.5703V17.7788H4.57031H2.57031V6.77881H4.57031V8.77881H10.5703V10.7788Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSubcollection);\nexport default __webpack_public_path__ + \"static/media/subcollection.68a53ff9.svg\";\nexport { ForwardRef as ReactComponent };","const String: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium\">\r\n      Ab\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default String;\r\n","const Number: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium\">\r\n      123\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Number;\r\n","const Map: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium\">\r\n      {\"{ }\"}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","const Array: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium\">\r\n      [ ]\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Array;\r\n","import ToggleOnOutlinedIcon from \"@material-ui/icons/ToggleOnOutlined\";\r\n\r\nconst Boolean: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium\">\r\n      <ToggleOnOutlinedIcon fontSize=\"inherit\" className=\"text-lg\"></ToggleOnOutlinedIcon>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Boolean;\r\n","import CalendarTodayOutlinedIcon from \"@material-ui/icons/CalendarTodayOutlined\";\r\n\r\nconst Boolean: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium\">\r\n      <CalendarTodayOutlinedIcon\r\n        fontSize=\"inherit\"\r\n        className=\"text-base\"\r\n      ></CalendarTodayOutlinedIcon>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Boolean;\r\n","import PanoramaOutlinedIcon from \"@material-ui/icons/PanoramaOutlined\";\r\n\r\nconst Media: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-blue-300 text-white text-center leading-28px text-xs font-medium\">\r\n      <PanoramaOutlinedIcon fontSize=\"inherit\" className=\"text-base\"></PanoramaOutlinedIcon>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","import NotesIcon from \"@material-ui/icons/Notes\";\r\n\r\nconst Media: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-blue-300 text-white text-center leading-28px text-xs font-medium\">\r\n      <NotesIcon fontSize=\"inherit\" className=\"text-base\"></NotesIcon>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","const Boolean: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-blue-300 text-center text-white leading-28px text-xs font-medium\">\r\n      JSON\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Boolean;\r\n","import ListRounded from \"@material-ui/icons/ListRounded\";\r\n\r\nconst Enum: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-blue-300 text-center text-white leading-28px text-xs font-medium\">\r\n      <ListRounded fontSize=\"inherit\" className=\"text-xl\"></ListRounded>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Enum;\r\n","import VpnKeyRounded from \"@material-ui/icons/VpnKeyRounded\";\r\n\r\nconst Password: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-blue-300 text-white text-center leading-28px text-xs font-medium\">\r\n      <VpnKeyRounded fontSize=\"inherit\" className=\"text-base\"></VpnKeyRounded>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Password;\r\n","import Link from \"@material-ui/icons/Link\";\r\n\r\nconst Relation: React.FC = () => {\r\n  return (\r\n    <div className=\"w-42px rounded h-28px bg-blue-300 text-white text-center leading-28px text-xs font-medium\">\r\n      <Link fontSize=\"inherit\" className=\"text-xl\"></Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Relation;\r\n","import String from \"./String\";\r\nimport Number from \"./Number\";\r\nimport Map from \"./Map\";\r\nimport Array from \"./Array\";\r\nimport Boolean from \"./Boolean\";\r\nimport Date from \"./Date\";\r\nimport Media from \"./Media\";\r\nimport RichText from \"./RichText\";\r\nimport Json from \"./Json\";\r\nimport Enum from \"./Enum\";\r\nimport Password from \"./Password\";\r\nimport Relation from \"./Relation\";\r\nimport Subcollection from \"./Subcollection\";\r\n\r\nconst fieldTypes = [\r\n  { type: \"string\", Badge: String },\r\n  { type: \"number\", Badge: Number },\r\n  { type: \"map\", Badge: Map },\r\n  { type: \"array\", Badge: Array },\r\n  { type: \"boolean\", Badge: Boolean },\r\n  { type: \"date\", Badge: Date },\r\n  { type: \"media\", Badge: Media },\r\n  { type: \"rich-text\", Badge: RichText },\r\n  { type: \"json\", Badge: Json },\r\n  { type: \"enum\", Badge: Enum },\r\n  { type: \"password\", Badge: Password },\r\n  { type: \"relation\", Badge: Relation },\r\n  { type: \"collection\", Badge: Subcollection },\r\n];\r\n\r\nexport default fieldTypes;\r\n","import { ReactComponent as SubColIcon } from \"assets/subcollection.svg\";\r\n\r\nconst Media: React.FC = () => {\r\n  return (\r\n    <div className=\"flex-shrink-0 flex w-42px rounded h-28px bg-blue-300 text-white text-center leading-28px text-xs font-medium\">\r\n      <SubColIcon className=\"m-auto\"></SubColIcon>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","import FieldTypes from \"components/fieldTypes\";\r\nimport React from \"react\";\r\nimport { FieldInputType } from \"api/collectionTypes\";\r\nimport Button from \"components/Button\";\r\n\r\nexport interface SelectFieldTypeProps {\r\n  proceed: Function;\r\n}\r\n\r\nconst SelectFieldType: React.FC<SelectFieldTypeProps> = ({ proceed }) => {\r\n  const [fieldType, setFieldType] = React.useState(\"string\" as FieldInputType);\r\n\r\n  return (\r\n    <div className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40\">\r\n      <div className=\"m-auto rounded bg-white p-9 max-w-600px w-full\">\r\n        <div className=\"text-22px font-medium mb-9\">Select field type</div>\r\n        <div className=\"mb-12\">\r\n          <div className=\"flex flex-wrap\">\r\n            {FieldTypes.map((x, i) => (\r\n              <div\r\n                onClick={() => setFieldType(x.type as FieldInputType)}\r\n                key={`field-type-${i}`}\r\n                className={`flex md:w-1/3 sm:w-1/2 w-full select-none p-4 border-4 border-solid border-white items-center cursor-pointer rounded  ${\r\n                  fieldType === x.type\r\n                    ? \"border-orange-300\"\r\n                    : \"hover:border-gray-300 hover:bg-gray-300\"\r\n                }`}\r\n              >\r\n                <x.Badge></x.Badge>\r\n                <span className=\"capitalize ml-2 line-clamp-1\">{x.type.replace(\"-\", \" \")}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"flex justify-between\">\r\n          <Button\r\n            onClick={() => {\r\n              proceed(false);\r\n            }}\r\n            className=\"bg-blue-300 hover:bg-blue-400 text-white\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={() => {\r\n              proceed(fieldType);\r\n            }}\r\n            className=\"bg-orange-300 hover:bg-orange-301\"\r\n          >\r\n            Submit\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectFieldType;\r\n","import { callComponent } from \"api/callComponent\";\r\nimport { FieldInputType, FieldType } from \"api/collectionTypes\";\r\nimport SelectFieldType, { SelectFieldTypeProps } from \"./SelectFieldType\";\r\nimport SpecifyFieldDetails, { SpecifyFieldDetailsProps } from \"./SpecifyFieldDetails\";\r\n\r\nexport const getCollectionField = async ({\r\n  editableField,\r\n  existingFieldNames,\r\n}: {\r\n  editableField?: FieldType;\r\n  existingFieldNames?: string[];\r\n}) => {\r\n  let res = editableField\r\n    ? editableField.type\r\n    : await callComponent<SelectFieldTypeProps, FieldInputType | boolean>({\r\n        Component: SelectFieldType,\r\n        props: {},\r\n      });\r\n\r\n  if (typeof res === \"boolean\") return null;\r\n\r\n  const fieldType = res;\r\n  let res1 = await callComponent<SpecifyFieldDetailsProps, Omit<FieldType, \"type\"> | boolean>({\r\n    Component: SpecifyFieldDetails,\r\n    props: {\r\n      fieldType,\r\n      editableField,\r\n      existingFieldNames,\r\n    },\r\n  });\r\n  if (typeof res1 === \"boolean\") return null;\r\n\r\n  return { ...res1, type: res };\r\n};\r\n","import React from \"react\";\r\nimport Input from \"components/GrayInput\";\r\nimport Button from \"components/Button\";\r\nimport { FieldInputType, FieldType } from \"api/collectionTypes\";\r\nimport FieldTypes from \"components/fieldTypes\";\r\nimport Select from \"components/Select\";\r\nimport { ReactComponent as OneToOneIcon } from \"assets/one-to-one.svg\";\r\nimport { ReactComponent as OneToManyIcon } from \"assets/one-to-many.svg\";\r\nimport Label from \"components/Label\";\r\nimport ToupleInput from \"components/ToupleInput\";\r\nimport { useFormik } from \"formik\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport AddCircleOutlineRounded from \"@material-ui/icons/AddCircleOutlineRounded\";\r\nimport IconButton from \"components/IconButton\";\r\nimport EditOutlined from \"@material-ui/icons/EditOutlined\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport Delete from \"@material-ui/icons/DeleteOutlineOutlined\";\r\nimport { getCollectionField } from \"./GetCollectionField\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { reorder } from \".\";\r\n\r\nexport interface SpecifyFieldDetailsProps {\r\n  editableField?: FieldType;\r\n  existingFieldNames?: string[];\r\n  fieldType: FieldInputType;\r\n  proceed: Function;\r\n}\r\n\r\nconst SpecifyFieldDetails: React.FC<SpecifyFieldDetailsProps> = ({\r\n  editableField,\r\n  existingFieldNames,\r\n  proceed,\r\n  fieldType,\r\n}) => {\r\n  const initialValues = {\r\n    id: \"\",\r\n    mediaSingle: false,\r\n    enumOptions: [] as Array<string>,\r\n    relatedCollectionTypeDocId: \"\",\r\n    relationOneToOne: true,\r\n    displayOnTable: true,\r\n    stringLong: false,\r\n    collectionFields: [] as FieldType[],\r\n  };\r\n  const { values, errors, handleChange, handleSubmit, setFieldValue, submitCount } = useFormik({\r\n    onSubmit: (vals) => {\r\n      proceed(vals);\r\n    },\r\n    initialValues: editableField ? { ...initialValues, ...editableField } : initialValues,\r\n    validate: (vals) => {\r\n      const errors: any = {};\r\n\r\n      if (!vals.id) {\r\n        errors.id = \"Field name is required\";\r\n      } else if (existingFieldNames && existingFieldNames.findIndex((x) => x === vals.id) > -1) {\r\n        errors.id = \"There is field with the same name\";\r\n      }\r\n\r\n      if (fieldType === \"enum\" && vals.enumOptions.length < 2) {\r\n        errors.enumOptions = \"Enum requires at least two options\";\r\n      }\r\n\r\n      if (fieldType === \"relation\" && vals.relatedCollectionTypeDocId === \"\") {\r\n        errors.relatedCollectionTypeDocId = \"Select related collection\";\r\n      }\r\n\r\n      return errors;\r\n    },\r\n  });\r\n  const [enumOption, setEnumOption] = React.useState(\"\");\r\n\r\n  const SelectedFieldType = FieldTypes.find((x) => x.type === fieldType);\r\n  const collections = useSelector((state: RootState) => state.collectionTypes);\r\n\r\n  const onDragEnd = async (result: any) => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    const fields = reorder(values.collectionFields, result.source.index, result.destination.index);\r\n    setFieldValue(\"collectionFields\", fields);\r\n  };\r\n\r\n  const addEnumOption = () => {\r\n    if (enumOption) {\r\n      let arr = [...values.enumOptions];\r\n      arr.push(enumOption);\r\n      setFieldValue(\"enumOptions\", arr);\r\n      setEnumOption(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40\">\r\n      <div className=\"m-auto rounded bg-white p-9 max-w-600px w-full\">\r\n        <div className=\"text-22px font-medium mb-9 flex items-center\">\r\n          {SelectedFieldType ? <SelectedFieldType.Badge></SelectedFieldType.Badge> : null}\r\n          <span className=\"ml-3\">\r\n            {editableField ? \"Edit\" : \"Add\"} {SelectedFieldType ? SelectedFieldType.type : \"\"} field\r\n          </span>\r\n        </div>\r\n        <div className=\"mb-9\">\r\n          <div className=\"mb-2\">Field name</div>\r\n          <Input\r\n            error={submitCount > 0 ? errors.id : \"\"}\r\n            value={values.id}\r\n            name=\"id\"\r\n            onChange={handleChange}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\") {\r\n                handleSubmit();\r\n              }\r\n            }}\r\n          ></Input>\r\n        </div>\r\n\r\n        {fieldType === \"media\" ? (\r\n          <ToupleInput\r\n            options={[\r\n              { value: false, label: \"Multiple media\" },\r\n              { value: true, label: \"Single media\" },\r\n            ]}\r\n            value={values.mediaSingle}\r\n            setValue={(val) => setFieldValue(\"mediaSingle\", val)}\r\n          ></ToupleInput>\r\n        ) : fieldType === \"enum\" ? (\r\n          <div className=\"mb-10\">\r\n            <div className=\"mb-2\">Options</div>\r\n            <div className=\"flex flex-wrap\">\r\n              {values.enumOptions.map((x, i) => (\r\n                <div\r\n                  key={`enum-option-${i}`}\r\n                  className=\"bg-gray-300 rounded flex items-center px-3 h-34px mr-3 mb-3\"\r\n                >\r\n                  <div className=\"mr-4\">{x}</div>\r\n                  <div\r\n                    className=\"cursor-pointer text-xs\"\r\n                    onClick={() => {\r\n                      let arr = [...values.enumOptions];\r\n                      arr.splice(i, 1);\r\n                      setFieldValue(\"enumOptions\", arr);\r\n                    }}\r\n                  >\r\n                    ✕\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"flex\">\r\n              <Input\r\n                className=\"mr-3\"\r\n                error={submitCount > 0 ? errors.enumOptions?.toString() : \"\"}\r\n                type=\"text\"\r\n                value={enumOption}\r\n                onChange={(e) => setEnumOption(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === \"Enter\") {\r\n                    addEnumOption();\r\n                  }\r\n                }}\r\n              ></Input>\r\n              <Button onClick={addEnumOption} className=\"bg-orange-300 hover:bg-orange-301\">\r\n                Add option\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        ) : fieldType === \"relation\" ? (\r\n          <div className=\"mb-10\">\r\n            <div className=\"mb-9\">\r\n              <Label\r\n                error={submitCount > 0 ? errors.relatedCollectionTypeDocId : \"\"}\r\n                className=\"mb-2\"\r\n              >\r\n                Related collection\r\n              </Label>\r\n              <Select\r\n                options={[\r\n                  { value: \"\", label: \"Select\" },\r\n                  ...collections.map((c) => ({ label: c.id, value: c.docId })),\r\n                ]}\r\n                value={values.relatedCollectionTypeDocId}\r\n                onChange={(e) => setFieldValue(\"relatedCollectionTypeDocId\", e.target.value)}\r\n              ></Select>\r\n            </div>\r\n            <div className=\"mb-2\">Relation type</div>\r\n            <ToupleInput\r\n              value={values.relationOneToOne}\r\n              setValue={(val) => setFieldValue(\"relationOneToOne\", val)}\r\n              options={[\r\n                { value: true, label: \"One to one\", icon: OneToOneIcon },\r\n                { value: false, label: \"One to many\", icon: OneToManyIcon },\r\n              ]}\r\n            ></ToupleInput>\r\n          </div>\r\n        ) : fieldType === \"string\" ? (\r\n          <ToupleInput\r\n            value={values.stringLong}\r\n            setValue={(val) => setFieldValue(\"stringLong\", val)}\r\n            options={[\r\n              { label: \"Short text\", value: false },\r\n              { label: \"Long text\", value: true },\r\n            ]}\r\n          ></ToupleInput>\r\n        ) : fieldType === \"collection\" ? (\r\n          <div className=\"mb-9\">\r\n            <div className=\"flex mb-2\">\r\n              <div className=\"mr-2\">Fields</div>\r\n              <AddCircleOutlineRounded\r\n                className=\"cursor-pointer\"\r\n                onClick={async () => {\r\n                  const field = await getCollectionField({\r\n                    existingFieldNames: values.collectionFields.map((x) => x.id),\r\n                  });\r\n                  if (!field) return;\r\n                  const fields = [...values.collectionFields, field];\r\n                  setFieldValue(\"collectionFields\", fields);\r\n                }}\r\n              ></AddCircleOutlineRounded>\r\n            </div>\r\n            <DragDropContext onDragEnd={onDragEnd}>\r\n              <Droppable droppableId=\"droppable-sub\">\r\n                {(provided, snapshot) => (\r\n                  <div\r\n                    className=\" max-h-247px overflow-auto\"\r\n                    {...provided.droppableProps}\r\n                    ref={provided.innerRef}\r\n                  >\r\n                    {values.collectionFields.map((x, i) => {\r\n                      const Badge = FieldTypes.find((t) => t.type === x.type)?.Badge;\r\n                      return (\r\n                        <Draggable key={x.id} draggableId={x.id + 1} index={i}>\r\n                          {(provided, snapshot) => (\r\n                            <div\r\n                              key={`field-${i}`}\r\n                              className=\"rounded bg-gray-300 px-3 py-2 flex mb-2 items-center\"\r\n                              ref={provided.innerRef}\r\n                              {...provided.draggableProps}\r\n                              {...provided.dragHandleProps}\r\n                            >\r\n                              <div className=\"line-clamp-1 w-5/12 px-3\">{x.id}</div>\r\n                              <div className=\"flex w-4/12 flex-shrink-0\">\r\n                                {Badge ? <Badge></Badge> : null}\r\n                                <span className=\"ml-3 hidden sm:block line-clamp-1\">{x.type}</span>\r\n                              </div>\r\n                              <div className=\"flex items-center flex-grow justify-end\">\r\n                                <IconButton\r\n                                  variant=\"transparent\"\r\n                                  onClick={async () => {\r\n                                    const field = await getCollectionField({\r\n                                      editableField: x,\r\n                                      existingFieldNames: values.collectionFields\r\n                                        .map((f) => f.id)\r\n                                        .filter((f) => f !== x.id),\r\n                                    });\r\n\r\n                                    if (!field) return;\r\n\r\n                                    let fields = [...values.collectionFields];\r\n                                    fields[i] = { ...x, ...field };\r\n                                    setFieldValue(\"collectionFields\", fields);\r\n                                  }}\r\n                                >\r\n                                  <EditOutlined fontSize=\"small\"></EditOutlined>\r\n                                </IconButton>\r\n                                <IconButton\r\n                                  variant=\"transparent\"\r\n                                  onClick={async () => {\r\n                                    let res = await confirm({\r\n                                      confirmation: \"Do you really want to delete the field?\",\r\n                                    });\r\n                                    if (res) {\r\n                                      const fields = [...values.collectionFields];\r\n                                      fields.splice(i, 1);\r\n                                      setFieldValue(\"collectionFields\", fields);\r\n                                    }\r\n                                  }}\r\n                                >\r\n                                  <Delete fontSize=\"small\"></Delete>\r\n                                </IconButton>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </Draggable>\r\n                      );\r\n                    })}\r\n                    {provided.placeholder}\r\n                  </div>\r\n                )}\r\n              </Droppable>\r\n            </DragDropContext>\r\n          </div>\r\n        ) : null}\r\n        <div className=\"flex justify-between\">\r\n          <Button\r\n            onClick={() => {\r\n              proceed(false);\r\n            }}\r\n            className=\"bg-blue-300 hover:bg-blue-400 text-white\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            type=\"submit\"\r\n            onClick={() => handleSubmit()}\r\n            className=\"bg-orange-300 hover:bg-orange-301\"\r\n          >\r\n            Submit\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpecifyFieldDetails;\r\n","import Modal from \"@material-ui/core/Modal\";\r\nimport { CollectionType, FieldType } from \"api/collectionTypes\";\r\n\r\nexport interface InterfaceModalProps {\r\n  open: boolean;\r\n  collectionType?: CollectionType;\r\n  onClose: () => void;\r\n}\r\n\r\nconst getGap = (count: number) => {\r\n  return new Array(count).fill(0).reduce((a, b) => a + \" \", \"\");\r\n};\r\n\r\nconst getType = (type: FieldType, ident: number, identStep: number = 3): string => {\r\n  const docType = (fields: FieldType[], multiple: boolean = false) => {\r\n    return fields.length\r\n      ? `{\\n${fields.reduce(\r\n          (a, b) =>\r\n            a +\r\n            `${getGap(ident)}${b.id.includes(\" \") ? `\"${b.id}\"` : b.id}: ${getType(\r\n              b,\r\n              ident + identStep\r\n            )};\\n`,\r\n          \"\"\r\n        )}${getGap(ident - identStep)}${multiple ? \"}[]\" : \"}\"}`\r\n      : multiple\r\n      ? \"any[]\"\r\n      : \"null\";\r\n  };\r\n\r\n  const types = {\r\n    password: () => \"string\",\r\n    string: () => \"string\",\r\n    \"rich-text\": () => \"string\",\r\n    json: () => \"object\",\r\n    map: () => \"object\",\r\n    array: () => \"any[]\",\r\n    media: (x: FieldType) => (x.mediaSingle ? \"string\" : \"string[]\"),\r\n    date: () => \"string\",\r\n    enum: () => \"string[]\",\r\n    number: () => \"number\",\r\n    boolean: () => \"boolean\",\r\n    relation: (x: FieldType) => (x.relationOneToOne ? \"string\" : \"string[]\"),\r\n    collection: (x: FieldType) => docType(x.collectionFields, true),\r\n    document: (x: FieldType) => docType(x.documentFields),\r\n    script: () => \"object\",\r\n    \"script-V2\": () => \"object\",\r\n  };\r\n  return `${types[type.type](type)}`;\r\n};\r\n\r\nexport const generateInterface = (colType: CollectionType) => {\r\n  const docType: any = {\r\n    type: \"document\",\r\n    documentFields: colType.fields,\r\n  };\r\n\r\n  const intface = `interface Document ${getType(docType, 3)}`;\r\n  return intface;\r\n};\r\n\r\nconst InterfaceModal: React.FC<InterfaceModalProps> = ({ open, collectionType, onClose }) => {\r\n  return !collectionType ? null : (\r\n    <Modal open={open} hideBackdrop>\r\n      <div\r\n        className=\"fixed left-0 top-0 w-full h-full overflow-auto flex bg-black bg-opacity-40\"\r\n        onClick={onClose}\r\n      >\r\n        <div\r\n          className=\"bg-white p-7 m-auto rounded-md md:max-w-lg max-w-sm w-full\"\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          <div className=\"mb-7 text-22px capitalize font-medium\">\r\n            {collectionType.name} interface\r\n          </div>\r\n          <div className=\"rounded bg-gray-300 p-7 overflow-auto\">\r\n            <pre>{generateInterface(collectionType)}</pre>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default InterfaceModal;\r\n","import Button from \"components/Button\";\r\nimport { IoAdd } from \"react-icons/io5\";\r\nimport React from \"react\";\r\nimport {\r\n  updateCollectionType,\r\n  FieldInputType,\r\n  FieldType,\r\n  CollectionType,\r\n} from \"api/collectionTypes\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport Edit from \"@material-ui/icons/EditRounded\";\r\nimport EditOutlined from \"@material-ui/icons/EditOutlined\";\r\nimport DeleteIcon from \"@material-ui/icons/DeleteOutlineOutlined\";\r\nimport CollectionModal from \"./CollectionModal\";\r\nimport FieldTypes from \"components/fieldTypes\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport SpecifyFieldDetails, { SpecifyFieldDetailsProps } from \"./SpecifyFieldDetails\";\r\nimport SelectFieldType, { SelectFieldTypeProps } from \"./SelectFieldType\";\r\nimport { callComponent } from \"api/callComponent\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport DragIndicatorRounded from \"@material-ui/icons/DragIndicatorRounded\";\r\nimport IconButton from \"components/IconButton\";\r\nimport Select from \"components/Select\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport InterfaceModal from \"./InterfaceModal\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport EmptyScreen from \"components/EmptyScreen\";\r\n\r\nexport interface CollectionsBuilderProps {}\r\n\r\nexport const reorder = (list: any[], startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n\r\n  return result;\r\n};\r\n\r\nconst CollectionsBuilder: React.FC<CollectionsBuilderProps> = () => {\r\n  const [collectionModalOpen, setCollectionModalOpen] = React.useState(false as boolean);\r\n  const dispatch = useDispatch();\r\n  const notify = useNotify();\r\n  const [editingCollectionIndex, setEditingCollectionIndex] = React.useState(-1);\r\n  const [selectedCollection, setSelectedCollection] = React.useState(0);\r\n  const [interfaceColType, setInterfaceColType] = React.useState<CollectionType>();\r\n\r\n  const { collections } = useSelector((state: RootState) => ({\r\n    collections: state.collectionTypes,\r\n  }));\r\n\r\n  const editField = async (fieldType: FieldInputType, selectedField: number) => {\r\n    const collection = collections[selectedCollection];\r\n    let res = await callComponent<SpecifyFieldDetailsProps, FieldType | boolean>({\r\n      Component: SpecifyFieldDetails,\r\n      props: { fieldType, editableField: collection.fields[selectedField] },\r\n    });\r\n\r\n    if (!(typeof res === \"boolean\")) {\r\n      let newFields = JSON.parse(JSON.stringify(collection.fields));\r\n      newFields[selectedField] = { ...res };\r\n      dispatch({ type: \"UPDATE_COLLECTION_FIELDS\", payload: newFields, docId: collection.docId });\r\n      let res1 = await updateCollectionType(collection.docId, {\r\n        ...collection,\r\n        fields: newFields,\r\n      });\r\n      if (!res1.error) {\r\n        return { success: true };\r\n      }\r\n    }\r\n\r\n    return { success: false };\r\n  };\r\n\r\n  const addField = async () => {\r\n    const collection = collections[selectedCollection];\r\n    let res = await callComponent<SelectFieldTypeProps, FieldInputType | boolean>({\r\n      Component: SelectFieldType,\r\n      props: {},\r\n    });\r\n\r\n    if (!(typeof res === \"boolean\")) {\r\n      const fieldType = res;\r\n      let res1 = await callComponent<SpecifyFieldDetailsProps, Omit<FieldType, \"type\"> | boolean>({\r\n        Component: SpecifyFieldDetails,\r\n        props: {\r\n          fieldType,\r\n          existingFieldNames: collection.fields.map((x) => x.id),\r\n        },\r\n      });\r\n      if (!(typeof res1 === \"boolean\")) {\r\n        const newFields = [...collection.fields, { type: fieldType, ...res1 }];\r\n        dispatch({ type: \"UPDATE_COLLECTION_FIELDS\", payload: newFields, docId: collection.docId });\r\n        let res2 = await updateCollectionType(collection.docId, {\r\n          ...collection,\r\n          fields: newFields,\r\n        });\r\n        if (!res2.error) {\r\n          notify(\"Field added!\", { variant: \"success\" });\r\n          return { success: true };\r\n        } else {\r\n          notify(\"Field was not added\", { variant: \"error\" });\r\n        }\r\n      }\r\n    }\r\n\r\n    return { success: false };\r\n  };\r\n\r\n  const onDragEnd = async (result: any) => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    const fields = reorder(\r\n      collections[selectedCollection].fields,\r\n      result.source.index,\r\n      result.destination.index\r\n    );\r\n\r\n    const collection = collections[selectedCollection];\r\n    dispatch({ type: \"UPDATE_COLLECTION_FIELDS\", payload: fields, docId: collection.docId });\r\n    updateCollectionType(collection.docId, {\r\n      ...collection,\r\n      fields,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-wrap justify-between mb-6\">\r\n        <div className=\"font-medium text-36px leading-none mb-4 mr-4\">Collections</div>\r\n        <Button\r\n          onClick={() => setCollectionModalOpen(true)}\r\n          className=\"bg-orange-300 hover:bg-orange-301 mb-4\"\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <IoAdd className=\"mr-3\" size={18}></IoAdd>\r\n            <span>Add collection</span>\r\n          </div>\r\n        </Button>\r\n      </div>\r\n      {!collections.length ? (\r\n        <EmptyScreen\r\n          buttonTitle=\"Create\"\r\n          title=\"There are no collections\"\r\n          onCreate={() => setCollectionModalOpen(true)}\r\n        ></EmptyScreen>\r\n      ) : (\r\n        <div className=\"flex flex-wrap lg:flex-nowrap\">\r\n          <div className=\"max-w-192px mb-3 mr-4 block lg:hidden w-full\">\r\n            <Select\r\n              onChange={(e) => setSelectedCollection(parseInt(e.target.value))}\r\n              value={selectedCollection}\r\n              options={collections.map((x, i) => ({ label: x.name, value: i }))}\r\n            ></Select>\r\n          </div>\r\n          <SimpleBar\r\n            className=\"max-w-192px w-full flex-shrink-0 mr-4 hidden lg:block max-h-96 scrollbar-dark pr-3\"\r\n            autoHide={false}\r\n          >\r\n            {collections.map((x, i) => (\r\n              <div\r\n                onClick={() => setSelectedCollection(i)}\r\n                key={`collection-${i}`}\r\n                className={`mb-1 capitalize truncate cursor-pointer ${\r\n                  selectedCollection === i ? \"bg-orange-300\" : \"hover:bg-gray-300\"\r\n                } rounded h-34px leading-34px px-3`}\r\n              >\r\n                {x.name}\r\n              </div>\r\n            ))}\r\n          </SimpleBar>\r\n\r\n          <div className=\"lg:flex-grow w-full rounded-lg bg-gray-300 p-7\">\r\n            <div className=\"flex justify-between mb-3 flex-wrap\">\r\n              <div className=\"font-medium text-22px capitalize mb-3 mr-3\">\r\n                {selectedCollection < collections.length\r\n                  ? collections[selectedCollection].name\r\n                  : \"\"}\r\n                <Edit\r\n                  onClick={() => {\r\n                    setEditingCollectionIndex(selectedCollection);\r\n                    setCollectionModalOpen(true);\r\n                  }}\r\n                  className=\"ml-3 text-lg cursor-pointer\"\r\n                  fontSize=\"inherit\"\r\n                ></Edit>\r\n              </div>\r\n              <div className=\"flex flex-wrap\">\r\n                <Button\r\n                  onClick={() => setInterfaceColType(collections[selectedCollection])}\r\n                  noMinWidth\r\n                  className=\"bg-blue-300 hover:bg-blue-400 text-white mr-3 mb-3\"\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    <Visibility className=\"mr-3\"></Visibility>\r\n                    Interface\r\n                  </div>\r\n                </Button>\r\n                <Button\r\n                  onClick={async () => {\r\n                    addField();\r\n                  }}\r\n                  className=\" bg-blue-300 hover:bg-blue-400 text-white mb-3\"\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    <IoAdd className=\"mr-3\" size={18}></IoAdd>\r\n                    <span>Add new field</span>\r\n                  </div>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"-mr-4\">\r\n              <DragDropContext onDragEnd={onDragEnd}>\r\n                <Droppable droppableId=\"droppable\">\r\n                  {(provided, snapshot) => (\r\n                    <SimpleBar\r\n                      className=\"overflow-auto w-full sm:max-h-30vw max-h-96 scrollbar-dark pr-4\"\r\n                      autoHide={false}\r\n                    >\r\n                      <div\r\n                        className=\"min-w-430px\"\r\n                        {...provided.droppableProps}\r\n                        ref={provided.innerRef as any}\r\n                      >\r\n                        {selectedCollection < collections.length\r\n                          ? collections[selectedCollection].fields.map((x, i) => {\r\n                              const Badge = FieldTypes.find((t) => t.type === x.type)?.Badge;\r\n                              return (\r\n                                <Draggable key={x.id} draggableId={x.id} index={i}>\r\n                                  {(provided, snapshot) => (\r\n                                    <div\r\n                                      key={`field-${i}`}\r\n                                      className=\"rounded bg-white px-3 py-2 flex mb-2 items-center\"\r\n                                      ref={provided.innerRef}\r\n                                      {...provided.draggableProps}\r\n                                      {...provided.dragHandleProps}\r\n                                    >\r\n                                      <DragIndicatorRounded className=\"text-gray-400\" />\r\n                                      <div className=\"line-clamp-1 w-5/12 px-3\">{x.id}</div>\r\n                                      <div className=\"flex w-4/12 flex-shrink-0\">\r\n                                        {Badge ? <Badge></Badge> : null}\r\n                                        <span className=\"ml-3 hidden sm:block line-clamp-1\">\r\n                                          {x.type}\r\n                                        </span>\r\n                                      </div>\r\n                                      {x.isDefault ? null : (\r\n                                        <div className=\"flex items-center flex-grow justify-end\">\r\n                                          <IconButton\r\n                                            variant=\"transparent\"\r\n                                            onClick={() => {\r\n                                              editField(x.type, i);\r\n                                            }}\r\n                                          >\r\n                                            <EditOutlined fontSize=\"small\"></EditOutlined>\r\n                                          </IconButton>\r\n                                          <IconButton\r\n                                            variant=\"transparent\"\r\n                                            onClick={async () => {\r\n                                              let res = await confirm({\r\n                                                confirmation:\r\n                                                  \"Do you really want to delete the field?\",\r\n                                              });\r\n                                              if (res) {\r\n                                                let updatedCollection = JSON.parse(\r\n                                                  JSON.stringify(collections[selectedCollection])\r\n                                                );\r\n                                                updatedCollection.fields.splice(i, 1);\r\n                                                dispatch({\r\n                                                  type: \"UPDATE_COLLECTION_FIELDS\",\r\n                                                  payload: updatedCollection.fields,\r\n                                                  docId: updatedCollection.docId,\r\n                                                });\r\n\r\n                                                updateCollectionType(\r\n                                                  collections[selectedCollection].docId,\r\n                                                  updatedCollection\r\n                                                );\r\n                                              }\r\n                                            }}\r\n                                          >\r\n                                            <DeleteIcon fontSize=\"small\"></DeleteIcon>\r\n                                          </IconButton>\r\n                                        </div>\r\n                                      )}\r\n                                    </div>\r\n                                  )}\r\n                                </Draggable>\r\n                              );\r\n                            })\r\n                          : null}\r\n                        {provided.placeholder}\r\n                      </div>\r\n                    </SimpleBar>\r\n                  )}\r\n                </Droppable>\r\n              </DragDropContext>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <CollectionModal\r\n        editingCollectionIndex={editingCollectionIndex}\r\n        collections={collections}\r\n        onCreate={(val) => dispatch({ type: \"ADD_COLLECTION_TYPE\", payload: val })}\r\n        onUpdate={(val) => {\r\n          dispatch({ type: \"UPDATE_COLLECTION_TYPE\", payload: val, docId: val.docId });\r\n        }}\r\n        onDelete={(docId) => {\r\n          setSelectedCollection(0);\r\n          setEditingCollectionIndex(-1);\r\n          dispatch({ type: \"DELETE_COLLECTION_TYPE\", payload: docId });\r\n        }}\r\n        open={collectionModalOpen}\r\n        onClose={() => {\r\n          setCollectionModalOpen(false);\r\n          setEditingCollectionIndex(-1);\r\n        }}\r\n      ></CollectionModal>\r\n      <InterfaceModal\r\n        onClose={() => setInterfaceColType(undefined)}\r\n        open={interfaceColType ? true : false}\r\n        collectionType={interfaceColType}\r\n      ></InterfaceModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectionsBuilder;\r\n"],"sourceRoot":""}