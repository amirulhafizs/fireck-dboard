{"version":3,"sources":["api/collectionTypes.ts","components/ToupleInput.tsx","pages/CollectionTypes/CollectionModal.tsx","assets/subcollection.svg","components/FieldTypes/Wrapper.tsx","components/FieldTypes/String.tsx","components/FieldTypes/Number.tsx","components/FieldTypes/Map.tsx","components/FieldTypes/Array.tsx","components/FieldTypes/Boolean.tsx","components/FieldTypes/Date.tsx","components/FieldTypes/Media.tsx","components/FieldTypes/RichText.tsx","components/FieldTypes/Json.tsx","components/FieldTypes/Enum.tsx","components/FieldTypes/Password.tsx","components/FieldTypes/Relation.tsx","components/FieldTypes/index.tsx","components/FieldTypes/Subcollection.tsx","components/TypescriptSyntax.tsx","pages/CollectionTypes/InterfaceModal.tsx","pages/CollectionTypes/SelectFieldType.tsx","pages/CollectionTypes/SpecifyFieldDetails.tsx","pages/CollectionTypes/GetCollectionField.ts","pages/CollectionTypes/index.tsx","components/Select.tsx","api/callComponent.tsx","components/Label.tsx","components/SettingsPage.tsx","components/IconButton.tsx","assets/one-to-one.svg","assets/one-to-many.svg","hooks/useDraggableInPortal.ts","components/DraggableList.tsx","../node_modules/@material-ui/icons/EditOutlined.js","../node_modules/@material-ui/icons/DeleteOutlineOutlined.js","../node_modules/@material-ui/icons/ToggleOnOutlined.js","../node_modules/@material-ui/icons/CalendarTodayOutlined.js","../node_modules/@material-ui/icons/PanoramaOutlined.js","../node_modules/@material-ui/icons/Notes.js","../node_modules/@material-ui/icons/ListRounded.js","../node_modules/@material-ui/icons/VpnKeyRounded.js","../node_modules/@material-ui/icons/Link.js","../node_modules/@material-ui/icons/AddCircleOutlineRounded.js","../node_modules/@material-ui/icons/DragIndicatorRounded.js"],"names":["createCollectionType","type","a","ROLES_ID","finalType","fields","id","displayOnTable","isDefault","addDocument","doc","error","docId","getCollection","collectionId","limit","forEach","x","updateDocument","permissions","defaultPermissions","then","res","console","log","Promise","resolve","toString","ToupleInput","className","options","value","setValue","disabled","rest","map","opt","i","onClick","icon","label","_path","createId","string","str","char","length","toLowerCase","toUpperCase","match","COLLECTION_ID","AddNewCollection","open","onClose","collections","editingCollectionDocId","onCreate","onUpdate","onDelete","initialData","name","single","draftable","size","isSystem","notify","useNotify","formIntialState","find","useFormik","enableReinitialize","onSubmit","vals","resetForm","values","actionType","variant","initialValues","validate","errors","index","findIndex","handleSubmit","handleChange","setFieldValue","isSubmitting","submitCount","Modal","hideBackdrop","style","maxWidth","Input","groundColor","onChange","onKeyDown","e","key","val","Button","confirm","confirmation","deleteDocId","deleteDocument","Wrapper","props","String","Number","Map","Array","Boolean","fontSize","Media","Enum","Password","Relation","_extends","Object","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSubcollection","_ref","svgRef","title","titleId","width","height","viewBox","fill","xmlns","ref","d","ForwardRef","fieldTypes","Badge","Date","RichText","Json","TypescriptSyntax","code","theme","lineNumbers","readOnly","mode","getGap","count","reduce","b","getType","ident","identStep","docType","multiple","includes","types","password","json","array","media","mediaSingle","date","enum","number","boolean","relation","relationOneToOne","collection","collectionFields","document","documentFields","script","any","generateInterface","colType","InterfaceModal","collectionType","useState","copied","setCopied","interfaceString","onMouseDown","stopPropagation","navigator","clipboard","writeText","setTimeout","SelectFieldType","proceed","initialFieldInputType","React","fieldType","setFieldType","useEffect","FieldTypes","replace","SpecifyFieldDetails","editableField","existingFieldNames","zLevel","enumOptions","stringLong","relatedCollectionTypeDocId","enumOption","setEnumOption","SelectedFieldType","useSelector","state","collectionTypes","onDragEnd","result","destination","reorder","addEnumOption","arr","push","customErrors","splice","Label","Select","c","OneToOneIcon","OneToManyIcon","getCollectionField","field","DraggableList","items","t","containerClassName","Item","IconButton","f","filter","editedField","callComponent","Component","res1","list","startIndex","endIndex","from","removed","CollectionsBuilder","collectionModalOpen","setCollectionModalOpen","dispatch","useDispatch","setEditingCollectionDocId","selectedCollection","setSelectedCollection","interfaceColType","setInterfaceColType","shallowEqual","editField","selectedField","newFields","JSON","parse","stringify","payload","success","addField","res2","deleteField","fieldIndex","updatedCollection","col","SettingsPage","entityContent","droppableId","provided","snapshot","autoHide","droppableProps","innerRef","draggableId","draggableProps","dragHandleProps","classes","root","placeholder","selectedEntityId","entity","enitityPlural","entities","onSelectEntity","onAddEntity","onInvokeEntityEdit","entityButtons","CollectionModal","undefined","WarningIcon","forwardRef","classNames","spellCheck","placement","reject","wrapper","getElementById","appendChild","createElement","ReactDOM","render","store","unmountComponentAtNode","parentNode","removeChild","children","memo","search","setSearch","maxHeight","_circle","_circle2","_excluded","SvgOneToOne","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","_path2","_circle3","SvgOneToMany","useDraggableInPortal","self","useRef","current","div","position","pointerEvents","top","elt","body","args","element","createPortal","renderDraggable","uniqid","Math","random","formatId","keyword","_interopRequireDefault","require","_interopRequireWildcard","defineProperty","exports","default","_default"],"mappings":"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","file":"static/js/10.71714757.chunk.js","sourcesContent":["import { Document, addDocument, getCollection, updateDocument } from \"./collections\";\r\nimport { RoleDocument } from \"./roles\";\r\n\r\nexport type FieldInputType =\r\n  | \"string\"\r\n  | \"number\"\r\n  | \"boolean\"\r\n  | \"array\"\r\n  | \"map\"\r\n  | \"rich-text\"\r\n  | \"media\"\r\n  | \"date\"\r\n  | \"enum\"\r\n  | \"password\"\r\n  | \"relation\"\r\n  | \"json\"\r\n  | \"collection\"\r\n  | \"document\"\r\n  | \"any\";\r\n\r\ntype SimpleInputType =\r\n  | \"number\"\r\n  | \"boolean\"\r\n  | \"array\"\r\n  | \"map\"\r\n  | \"json\"\r\n  | \"rich-text\"\r\n  | \"date\"\r\n  | \"password\"\r\n  | \"any\";\r\n\r\nexport type BaseField = {\r\n  id: string;\r\n  isDefault: boolean;\r\n  displayOnTable: boolean;\r\n};\r\n\r\nexport type CmsEvent = \"find\" | \"find one\" | \"create\" | \"update\" | \"delete\";\r\n\r\nexport type HttpMethod = \"GET\" | \"POST\" | \"PUT\" | \"PATCH\" | \"DELETE\";\r\n\r\nexport interface Webhook {\r\n  event: string;\r\n  method: string;\r\n  url: string;\r\n  collectionId: string;\r\n}\r\n\r\nexport interface WebhookDocument extends Document, Webhook {}\r\n\r\nexport type AnyField =\r\n  | RelationField\r\n  | EnumField\r\n  | StringField\r\n  | MediaField\r\n  | CollectionField\r\n  | DocumentField\r\n  | SimpleField;\r\n\r\nexport interface SimpleField extends BaseField {\r\n  type: SimpleInputType;\r\n}\r\n\r\nexport interface RelationField extends BaseField {\r\n  type: \"relation\";\r\n  relatedCollectionTypeDocId: string;\r\n  relationOneToOne: boolean;\r\n}\r\n\r\nexport interface EnumField extends BaseField {\r\n  enumOptions: string[];\r\n  type: \"enum\";\r\n}\r\n\r\nexport interface StringField extends BaseField {\r\n  type: \"string\";\r\n  stringLong: boolean;\r\n}\r\n\r\nexport interface MediaField extends BaseField {\r\n  type: \"media\";\r\n  mediaSingle: boolean;\r\n}\r\n\r\nexport interface CollectionField extends BaseField {\r\n  type: \"collection\";\r\n  collectionFields: AnyField[];\r\n}\r\n\r\nexport interface DocumentField extends BaseField {\r\n  type: \"document\";\r\n  documentFields: AnyField[];\r\n}\r\n\r\nexport interface CollectionType extends Partial<Document> {\r\n  id: string;\r\n  name: string;\r\n  fields: Array<AnyField>;\r\n  draftable: boolean;\r\n  single: boolean;\r\n  docId: string;\r\n  size: number;\r\n  isSystem: boolean;\r\n}\r\n\r\nexport const createCollectionType = async (type: CollectionType) => {\r\n  try {\r\n    const ROLES_ID = \"RolesReservedCollection\";\r\n    const COLLECTIONS_ID = \"CollectionTypesReservedCollection\";\r\n\r\n    const finalType = {\r\n      ...type,\r\n      fields: [\r\n        ...type.fields,\r\n        {\r\n          id: \"createdAt\",\r\n          type: \"date\",\r\n          displayOnTable: true,\r\n          isDefault: true,\r\n        },\r\n        {\r\n          id: \"modifiedAt\",\r\n          type: \"date\",\r\n          displayOnTable: true,\r\n          isDefault: true,\r\n        },\r\n        {\r\n          id: \"docId\",\r\n          type: \"string\",\r\n          displayOnTable: true,\r\n          isDefault: true,\r\n        },\r\n      ],\r\n    };\r\n\r\n    let doc = await addDocument(COLLECTIONS_ID, finalType);\r\n\r\n    if (!doc.error && doc.docId) {\r\n      const roles: RoleDocument[] = await getCollection({\r\n        collectionId: ROLES_ID,\r\n        limit: 1000,\r\n      });\r\n\r\n      roles.forEach((x) =>\r\n        updateDocument(ROLES_ID, x.docId, {\r\n          ...x,\r\n          permissions: { ...x.permissions, [doc.docId]: x.defaultPermissions },\r\n        }).then((res: any) => console.log(res))\r\n      );\r\n    }\r\n\r\n    return doc;\r\n  } catch (error: any) {\r\n    return Promise.resolve({ error: error.toString() });\r\n  }\r\n\r\n  return;\r\n};\r\n","export interface ToupleInputProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  setValue: (a: any) => void;\r\n  options: {\r\n    value: any;\r\n    label: string;\r\n    icon?: React.FunctionComponent<React.SVGProps<SVGSVGElement>>;\r\n  }[];\r\n  value: any;\r\n  disabled?: boolean;\r\n}\r\n\r\nconst ToupleInput: React.FC<ToupleInputProps> = ({\r\n  className = \"\",\r\n  options,\r\n  value,\r\n  setValue,\r\n  disabled,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <div className={\"flex -mx-2 flex-wrap sm:flex-nowrap mb-10 \" + className} {...rest}>\r\n      {options.map((opt, i) => (\r\n        <div\r\n          data-testid={`touple-option-${opt.value}`}\r\n          key={opt.value}\r\n          onClick={() => setValue(opt.value)}\r\n          className={`sm:w-1/2 w-full mx-2 mb-3 sm:mb-0 py-7 select-none ${\r\n            disabled ? \"cursor-default\" : \"cursor-pointer\"\r\n          } flex items-center justify-center rounded ${\r\n            value === opt.value\r\n              ? \"border-4 border-fireck-4\"\r\n              : `bg-gray-300 ${disabled ? \"\" : \"hover:bg-gray-301\"}`\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center pointer-events-none\">\r\n            <div className={opt.icon ? \"mr-7\" : \"\"}>{opt.label}</div>\r\n            {opt.icon ? <opt.icon></opt.icon> : null}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToupleInput;\r\n","import Modal from \"@material-ui/core/Modal\";\r\nimport Input from \"components/Input\";\r\nimport React from \"react\";\r\nimport Button from \"components/Button\";\r\nimport { CollectionType, createCollectionType } from \"api/collectionTypes\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport { useFormik } from \"formik\";\r\nimport ToupleInput from \"components/ToupleInput\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\nimport { addDocument, deleteDocument, updateDocument } from \"api/collections\";\r\n\r\nexport interface AddNewCollectionProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  collections: Array<CollectionType>;\r\n  editingCollectionDocId: string;\r\n  onCreate: (val: CollectionType) => void;\r\n  onUpdate: (val: Partial<CollectionType>) => void;\r\n  onDelete: (docId: string) => void;\r\n}\r\n\r\nfunction isNumeric(char: any) {\r\n  return char >= \"0\" && char <= \"9\";\r\n}\r\n\r\nfunction isLetter(str: any) {\r\n  return str.length === 1 && str.match(/[a-z]/i);\r\n}\r\n\r\nconst createId = (string: string) => {\r\n  let id = \"\";\r\n  for (let i = 0; i < string.length; i++) {\r\n    if (string[i] === \" \") {\r\n      id += \"-\";\r\n    } else if (\r\n      i > 0 &&\r\n      string[i - 1].toLowerCase() === string[i - 1] &&\r\n      string[i - 1] !== \" \" &&\r\n      string[i].toUpperCase() === string[i] &&\r\n      !isNumeric(string[i]) &&\r\n      isLetter(string[i])\r\n    ) {\r\n      id += \"-\" + string[i].toLowerCase();\r\n    } else {\r\n      id += string[i].toLowerCase();\r\n    }\r\n  }\r\n  return id;\r\n};\r\n\r\nconst COLLECTION_ID = \"CollectionTypesReservedCollection\";\r\n\r\nconst AddNewCollection: React.FC<AddNewCollectionProps> = ({\r\n  open,\r\n  onClose,\r\n  collections,\r\n  editingCollectionDocId,\r\n  onCreate,\r\n  onUpdate,\r\n  onDelete,\r\n}) => {\r\n  const initialData = {\r\n    name: \"\",\r\n    id: \"\",\r\n    single: false,\r\n    draftable: true,\r\n    fields: [],\r\n    size: 0,\r\n    isSystem: false,\r\n    docId: \"\",\r\n  } as CollectionType;\r\n\r\n  const notify = useNotify();\r\n\r\n  const formIntialState = editingCollectionDocId.length\r\n    ? collections.find((x) => x.docId === editingCollectionDocId) || initialData\r\n    : initialData;\r\n\r\n  const { values, errors, handleSubmit, handleChange, setFieldValue, isSubmitting, submitCount } =\r\n    useFormik({\r\n      enableReinitialize: true,\r\n      onSubmit: async (vals, { resetForm }) => {\r\n        const id = createId(vals.name);\r\n\r\n        const res = editingCollectionDocId.length\r\n          ? await updateDocument(COLLECTION_ID, values.docId, { ...values, id })\r\n          : await createCollectionType({ ...values, id });\r\n        const actionType = editingCollectionDocId.length ? \"updated\" : \"created\";\r\n        if (!res.error) {\r\n          if (editingCollectionDocId.length) {\r\n            onUpdate(res);\r\n          } else {\r\n            onCreate(res);\r\n          }\r\n          resetForm();\r\n          onClose();\r\n          notify(\"Collection type \" + actionType + \"!\", { variant: \"success\" });\r\n        } else {\r\n          notify(res.error, { variant: \"error\" });\r\n        }\r\n      },\r\n      initialValues: formIntialState,\r\n      validate: (vals) => {\r\n        let errors: { [key: string]: string } = {};\r\n        if (!vals.name) {\r\n          errors.name = \"Collection name is required\";\r\n        } else {\r\n          const id = createId(vals.name);\r\n          const index = collections.findIndex((x) => x.id === id);\r\n          if (index !== -1 && collections[index].docId !== editingCollectionDocId) {\r\n            errors.name = \"There is collection with the same name\";\r\n          }\r\n        }\r\n        return errors;\r\n      },\r\n    });\r\n\r\n  return (\r\n    <Modal open={open} hideBackdrop>\r\n      <div className=\"w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7\">\r\n        <div\r\n          className=\"m-auto rounded bg-white w-full p-7 relative animate-littlemoveup\"\r\n          style={{ maxWidth: 600 }}\r\n        >\r\n          <CloseRounded\r\n            className=\"absolute top-0 right-0 cursor-pointer\"\r\n            onClick={onClose}\r\n          ></CloseRounded>\r\n          <div className=\"text-22px font-medium mb-12\">\r\n            {editingCollectionDocId.length ? \"Edit\" : \"Create\"} collection type\r\n          </div>\r\n          <div className=\"flex flex-wrap mb-7\">\r\n            <div className=\"mb-3 sm:w-1/2 w-full sm:pr-2\">\r\n              <div className=\"mb-2\">Collection name</div>\r\n              <Input\r\n                groundColor=\"white\"\r\n                className=\"h-34px\"\r\n                data-testid={`collection-name-input`}\r\n                error={submitCount > 0 && errors.name ? errors.name : false}\r\n                value={values.name}\r\n                name=\"name\"\r\n                onChange={handleChange}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === \"Enter\") {\r\n                    handleSubmit();\r\n                  }\r\n                }}\r\n              ></Input>\r\n            </div>\r\n            <div className=\"mb-3 sm:w-1/2 w-full sm:pl-2\">\r\n              <div className=\"mb-2\">UID</div>\r\n              <Input\r\n                className=\"h-34px\"\r\n                groundColor=\"white\"\r\n                disabled\r\n                value={createId(values.name)}\r\n                name=\"id\"\r\n              ></Input>\r\n            </div>\r\n          </div>\r\n          <ToupleInput\r\n            disabled={editingCollectionDocId.length > 0}\r\n            value={values.single}\r\n            options={[\r\n              { value: false, label: \"Multiple elements\" },\r\n              { value: true, label: \"Single element\" },\r\n            ]}\r\n            setValue={(val) => (!editingCollectionDocId ? setFieldValue(\"single\", val) : {})}\r\n          ></ToupleInput>\r\n          {editingCollectionDocId ? (\r\n            <Button\r\n              data-testid=\"delete-collection-btn\"\r\n              onClick={async () => {\r\n                if (\r\n                  await confirm({\r\n                    confirmation: \"Delete collection type?\",\r\n                  })\r\n                ) {\r\n                  const deleteDocId = editingCollectionDocId;\r\n                  let res = await deleteDocument(COLLECTION_ID, deleteDocId);\r\n                  if (!res.error) {\r\n                    onClose();\r\n                    onDelete(deleteDocId);\r\n                    notify(\"Collection type deleted!\", { variant: \"success\" });\r\n                  } else {\r\n                    notify(res.error, { variant: \"error\" });\r\n                  }\r\n                  onClose();\r\n                }\r\n              }}\r\n              className=\"border-2 min-w-unset h-34px px-4 border-red-FF0000 text-red-FF0000 mb-10 hover:bg-red-FF0000 hover:text-white\"\r\n            >\r\n              Delete collection\r\n            </Button>\r\n          ) : null}\r\n\r\n          <div className=\"flex justify-between\">\r\n            <Button\r\n              onClick={() => onClose()}\r\n              className=\"bg-fireck-5 hover:bg-fireck-5-hover text-white\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              data-testid=\"submit-btn\"\r\n              disabled={isSubmitting}\r\n              onClick={() => handleSubmit()}\r\n              className=\"bg-fireck-4 hover:bg-fireck-4-hover h-34px\"\r\n            >\r\n              {isSubmitting ? \"Loading...\" : \"Submit\"}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddNewCollection;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSubcollection(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 11,\n    height: 11,\n    viewBox: \"0 0 19 19\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.570312 0.778809H6.57031V4.77881H0.570312V0.778809ZM12.5703 7.77881H18.5703V11.7788H12.5703V7.77881ZM12.5703 14.7788H18.5703V18.7788H12.5703V14.7788ZM10.5703 10.7788H4.57031V15.7788H10.5703V17.7788H4.57031H2.57031V6.77881H4.57031V8.77881H10.5703V10.7788Z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSubcollection);\nexport default __webpack_public_path__ + \"static/media/subcollection.fddc67b1.svg\";\nexport { ForwardRef as ReactComponent };","interface WrapperProps {}\r\n\r\nconst Wrapper: React.FC<WrapperProps> = (props) => {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className=\"w-8 rounded h-5 bg-fireck-4 text-center flex justify-center items-center text-10px font-medium\"\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Wrapper;\r\n","import Wrapper from \"./Wrapper\";\r\n\r\nconst String: React.FC = () => {\r\n  return <Wrapper>Ab</Wrapper>;\r\n};\r\n\r\nexport default String;\r\n","import Wrapper from \"./Wrapper\";\r\n\r\nconst Number: React.FC = () => {\r\n  return <Wrapper>123</Wrapper>;\r\n};\r\n\r\nexport default Number;\r\n","import Wrapper from \"./Wrapper\";\r\n\r\nconst Map: React.FC = () => {\r\n  return <Wrapper>{\"{ }\"}</Wrapper>;\r\n};\r\n\r\nexport default Map;\r\n","import Wrapper from \"./Wrapper\";\r\n\r\nconst Array: React.FC = () => {\r\n  return <Wrapper>[ ]</Wrapper>;\r\n};\r\n\r\nexport default Array;\r\n","import ToggleOnOutlinedIcon from \"@material-ui/icons/ToggleOnOutlined\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Boolean: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <ToggleOnOutlinedIcon fontSize=\"inherit\" className=\"text-lg\"></ToggleOnOutlinedIcon>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Boolean;\r\n","import CalendarTodayOutlinedIcon from \"@material-ui/icons/CalendarTodayOutlined\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Boolean: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <CalendarTodayOutlinedIcon fontSize=\"inherit\" className=\"text-sm\"></CalendarTodayOutlinedIcon>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Boolean;\r\n","import PanoramaOutlinedIcon from \"@material-ui/icons/PanoramaOutlined\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Media: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <PanoramaOutlinedIcon fontSize=\"inherit\" className=\"text-base\"></PanoramaOutlinedIcon>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","import NotesIcon from \"@material-ui/icons/Notes\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Media: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <NotesIcon fontSize=\"inherit\" className=\"text-base\"></NotesIcon>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","import Wrapper from \"./Wrapper\";\r\n\r\nconst Boolean: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <span className=\"text-10px\">JSON</span>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Boolean;\r\n","import ListRounded from \"@material-ui/icons/ListRounded\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Enum: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <ListRounded fontSize=\"inherit\" className=\"text-xl\"></ListRounded>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Enum;\r\n","import VpnKeyRounded from \"@material-ui/icons/VpnKeyRounded\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Password: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <VpnKeyRounded fontSize=\"inherit\" className=\"text-base\"></VpnKeyRounded>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Password;\r\n","import Link from \"@material-ui/icons/Link\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Relation: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <Link fontSize=\"inherit\" className=\"text-lg\"></Link>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Relation;\r\n","import String from \"./String\";\r\nimport Number from \"./Number\";\r\nimport Map from \"./Map\";\r\nimport Array from \"./Array\";\r\nimport Boolean from \"./Boolean\";\r\nimport Date from \"./Date\";\r\nimport Media from \"./Media\";\r\nimport RichText from \"./RichText\";\r\nimport Json from \"./Json\";\r\nimport Enum from \"./Enum\";\r\nimport Password from \"./Password\";\r\nimport Relation from \"./Relation\";\r\nimport Subcollection from \"./Subcollection\";\r\n\r\nconst fieldTypes = [\r\n  { type: \"string\", Badge: String },\r\n  { type: \"number\", Badge: Number },\r\n  { type: \"map\", Badge: Map },\r\n  { type: \"array\", Badge: Array },\r\n  { type: \"boolean\", Badge: Boolean },\r\n  { type: \"date\", Badge: Date },\r\n  { type: \"media\", Badge: Media },\r\n  { type: \"rich-text\", Badge: RichText },\r\n  { type: \"json\", Badge: Json },\r\n  { type: \"enum\", Badge: Enum },\r\n  { type: \"password\", Badge: Password },\r\n  { type: \"relation\", Badge: Relation },\r\n  { type: \"collection\", Badge: Subcollection },\r\n];\r\n\r\nexport default fieldTypes;\r\n","import { ReactComponent as SubColIcon } from \"assets/subcollection.svg\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Media: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <SubColIcon className=\"m-auto\"></SubColIcon>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","import { UnControlled as CodeMirror } from \"react-codemirror2\";\r\nimport \"codemirror/lib/codemirror.css\";\r\nimport \"codemirror/theme/material.css\";\r\nimport \"codemirror/addon/edit/closebrackets\";\r\nimport \"codemirror/mode/javascript/javascript\";\r\nimport \"codemirror/addon/lint/lint\";\r\nimport \"codemirror/addon/lint/lint.css\";\r\n\r\ninterface TypescriptSyntaxProps {\r\n  code: string;\r\n}\r\n\r\nconst TypescriptSyntax: React.FC<TypescriptSyntaxProps> = ({ code }) => {\r\n  return (\r\n    <CodeMirror\r\n      value={code}\r\n      options={{\r\n        theme: \"material\",\r\n        lineNumbers: true,\r\n        readOnly: true,\r\n        mode: \"text/typescript\",\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TypescriptSyntax;\r\n","import Modal from \"@material-ui/core/Modal\";\r\nimport { CollectionType, AnyField } from \"api/collectionTypes\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\nimport { useState } from \"react\";\r\nimport Button from \"components/Button\";\r\nimport TypescriptSyntax from \"components/TypescriptSyntax\";\r\nimport SimpleBar from \"simplebar-react\";\r\n\r\nexport interface InterfaceModalProps {\r\n  open: boolean;\r\n  collectionType?: CollectionType;\r\n  onClose: () => void;\r\n}\r\n\r\nconst getGap = (count: number) => {\r\n  return new Array(count).fill(0).reduce((a, b) => a + \" \", \"\");\r\n};\r\n\r\nconst getType = (type: AnyField, ident: number, identStep: number = 3): string => {\r\n  const docType = (fields: AnyField[], multiple: boolean = false) => {\r\n    return fields.length\r\n      ? `{\\n${fields.reduce(\r\n          (a, b) =>\r\n            a +\r\n            `${getGap(ident)}${\r\n              b.id.includes(\" \") || b.id.includes(\"-\") ? `\"${b.id}\"` : b.id\r\n            }: ${getType(b, ident + identStep)};\\n`,\r\n          \"\"\r\n        )}${getGap(ident - identStep)}${multiple ? \"}[]\" : \"}\"}`\r\n      : multiple\r\n      ? \"any[]\"\r\n      : \"null\";\r\n  };\r\n\r\n  const types = {\r\n    password: () => \"string\",\r\n    string: () => \"string\",\r\n    \"rich-text\": () => \"string\",\r\n    json: () => \"object\",\r\n    map: () => \"object\",\r\n    array: () => \"any[]\",\r\n    media: (x: AnyField) => (x.type === \"media\" && x.mediaSingle ? \"string\" : \"string[]\"),\r\n    date: () => \"string\",\r\n    enum: () => \"string[]\",\r\n    number: () => \"number\",\r\n    boolean: () => \"boolean\",\r\n    relation: (x: AnyField) =>\r\n      x.type === \"relation\" && x.relationOneToOne ? \"string\" : \"string[]\",\r\n    collection: (x: AnyField) => docType(x.type === \"collection\" ? x.collectionFields : [], true),\r\n    document: (x: AnyField) => docType(x.type === \"document\" ? x.documentFields : []),\r\n    script: () => \"object\",\r\n    \"script-V2\": () => \"object\",\r\n    any: () => \"any\",\r\n  };\r\n  return `${types[type.type](type)}`;\r\n};\r\n\r\nexport const generateInterface = (colType: CollectionType) => {\r\n  const docType: any = {\r\n    type: \"document\",\r\n    documentFields: colType.fields,\r\n  };\r\n\r\n  const intface = `interface Document ${getType(docType, 3)}`;\r\n  return intface;\r\n};\r\n\r\nconst InterfaceModal: React.FC<InterfaceModalProps> = ({ open, collectionType, onClose }) => {\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const interfaceString = collectionType ? generateInterface(collectionType) : \"\";\r\n\r\n  return !collectionType ? null : (\r\n    <Modal open={open} hideBackdrop>\r\n      <div\r\n        className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-9\"\r\n        onMouseDown={onClose}\r\n      >\r\n        <div\r\n          className=\"bg-white p-7 m-auto rounded md:max-w-lg max-w-sm w-full relative animate-littlemoveup\"\r\n          onMouseDown={(e) => e.stopPropagation()}\r\n        >\r\n          <CloseRounded\r\n            className=\"absolute top-0 right-0 cursor-pointer\"\r\n            onClick={onClose}\r\n          ></CloseRounded>\r\n          <div className=\"mb-7 text-22px capitalize font-medium\">\r\n            {collectionType.name} interface\r\n          </div>\r\n          <div className=\"relative rounded overflow-hidden\">\r\n            {copied ? (\r\n              <div className=\"absolute z-20 text-white top-1 animate-littlemoveup right-1 cursor-pointer h-6 px-2 text-xs font-medium\">\r\n                Copied!\r\n              </div>\r\n            ) : (\r\n              <Button\r\n                onClick={() => {\r\n                  navigator.clipboard.writeText(interfaceString);\r\n                  setCopied(true);\r\n                  setTimeout(() => {\r\n                    setCopied(false);\r\n                  }, 2000);\r\n                }}\r\n                className=\"absolute min-w-unset z-20 top-1 right-1 text-xs cursor-pointer h-6 px-3 bg-fireck-4 hover:bg-fireck-4-hover\"\r\n              >\r\n                Copy\r\n              </Button>\r\n            )}\r\n\r\n            <TypescriptSyntax code={interfaceString}></TypescriptSyntax>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default InterfaceModal;\r\n","import FieldTypes from \"components/FieldTypes\";\r\nimport React, { useEffect } from \"react\";\r\nimport { FieldInputType } from \"api/collectionTypes\";\r\nimport Button from \"components/Button\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\n\r\nexport interface SelectFieldTypeProps {\r\n  proceed: Function;\r\n  initialFieldInputType?: FieldInputType;\r\n}\r\n\r\nconst SelectFieldType: React.FC<SelectFieldTypeProps> = ({ proceed, initialFieldInputType }) => {\r\n  const [fieldType, setFieldType] = React.useState(\"string\" as FieldInputType);\r\n\r\n  useEffect(() => {\r\n    if (initialFieldInputType) {\r\n      setFieldType(initialFieldInputType);\r\n    }\r\n  }, [initialFieldInputType]);\r\n\r\n  return (\r\n    <div className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7\">\r\n      <div\r\n        className=\"m-auto rounded bg-white p-7 w-full relative animate-littlemoveup\"\r\n        style={{ maxWidth: 550 }}\r\n      >\r\n        <CloseRounded\r\n          className=\"cursor-pointer absolute top-0 right-0\"\r\n          onClick={() => proceed(null)}\r\n        ></CloseRounded>\r\n        <div className=\"text-22px font-medium mb-7\">Select field type</div>\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex flex-wrap\">\r\n            {FieldTypes.map((x, i) => (\r\n              <div\r\n                data-testid={`fieldtype-option-${x.type}`}\r\n                onClick={() => setFieldType(x.type as FieldInputType)}\r\n                key={`field-type-${i}`}\r\n                className={`flex md:w-1/3 sm:w-1/2 w-full select-none p-3 border-4 border-solid border-white items-center cursor-pointer rounded  ${\r\n                  fieldType === x.type\r\n                    ? \"border-fireck-4\"\r\n                    : \"hover:border-gray-300 hover:bg-gray-300\"\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center pointer-events-none\">\r\n                  <x.Badge></x.Badge>\r\n                  <span className=\"capitalize ml-2 line-clamp-1\">{x.type.replace(\"-\", \" \")}</span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"flex justify-between\">\r\n          <Button\r\n            data-testid=\"cancel-field-type-btn\"\r\n            onClick={() => {\r\n              proceed(null);\r\n            }}\r\n            className=\"bg-fireck-5 hover:bg-fireck-5-hover text-white h-34px\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            data-testid=\"submit-field-type-btn\"\r\n            onClick={() => {\r\n              proceed(fieldType);\r\n            }}\r\n            className=\"bg-fireck-4 hover:bg-fireck-4-hover h-34px\"\r\n          >\r\n            Submit\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectFieldType;\r\n","import React from \"react\";\r\nimport Input from \"components/Input\";\r\nimport Button from \"components/Button\";\r\nimport { FieldInputType, BaseField, AnyField } from \"api/collectionTypes\";\r\nimport FieldTypes from \"components/FieldTypes\";\r\nimport Select from \"components/Select\";\r\nimport { ReactComponent as OneToOneIcon } from \"assets/one-to-one.svg\";\r\nimport { ReactComponent as OneToManyIcon } from \"assets/one-to-many.svg\";\r\nimport Label from \"components/Label\";\r\nimport ToupleInput from \"components/ToupleInput\";\r\nimport { useFormik } from \"formik\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport AddCircleOutlineRounded from \"@material-ui/icons/AddCircleOutlineRounded\";\r\nimport IconButton from \"components/IconButton\";\r\nimport EditOutlined from \"@material-ui/icons/EditOutlined\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport Delete from \"@material-ui/icons/DeleteOutlineOutlined\";\r\nimport { getCollectionField } from \"./GetCollectionField\";\r\nimport { reorder } from \".\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\nimport DraggableList from \"components/DraggableList\";\r\n\r\nexport interface SpecifyFieldDetailsProps {\r\n  editableField?: AnyField;\r\n  existingFieldNames?: string[];\r\n  fieldType: FieldInputType;\r\n  proceed: Function;\r\n  zLevel: number;\r\n}\r\n\r\ntype CustomErrors = { id?: string; enumOptions?: string; relatedCollectionTypeDocId?: string };\r\n\r\nconst SpecifyFieldDetails: React.FC<SpecifyFieldDetailsProps> = ({\r\n  editableField,\r\n  existingFieldNames,\r\n  proceed,\r\n  fieldType,\r\n  zLevel,\r\n}) => {\r\n  const baseIntialValues: BaseField = {\r\n    id: \"\",\r\n    displayOnTable: true,\r\n    isDefault: false,\r\n  };\r\n  const initialValues: AnyField = {\r\n    ...baseIntialValues,\r\n    ...(fieldType === \"collection\"\r\n      ? { collectionFields: [], type: fieldType }\r\n      : fieldType === \"enum\"\r\n      ? { enumOptions: [], type: fieldType }\r\n      : fieldType === \"string\"\r\n      ? { stringLong: false, type: fieldType }\r\n      : fieldType === \"media\"\r\n      ? { mediaSingle: false, type: fieldType }\r\n      : fieldType === \"relation\"\r\n      ? { relatedCollectionTypeDocId: \"\", relationOneToOne: true, type: fieldType }\r\n      : fieldType === \"document\"\r\n      ? { documentFields: [], type: fieldType }\r\n      : { type: fieldType }),\r\n  };\r\n\r\n  const { values, errors, handleChange, handleSubmit, setFieldValue, submitCount } = useFormik({\r\n    onSubmit: (vals) => {\r\n      proceed(vals);\r\n    },\r\n    initialValues: editableField ? { ...initialValues, ...editableField } : initialValues,\r\n    validate: (vals) => {\r\n      const errors: CustomErrors = {};\r\n\r\n      if (!vals.id) {\r\n        errors.id = \"Field name is required\";\r\n      } else if (existingFieldNames && existingFieldNames.findIndex((x) => x === vals.id) > -1) {\r\n        errors.id = \"There is field with the same name\";\r\n      }\r\n\r\n      if (vals.type === \"enum\" && vals.enumOptions.length < 2) {\r\n        errors.enumOptions = \"Enum requires at least two options\";\r\n      }\r\n\r\n      if (vals.type === \"relation\" && vals.relatedCollectionTypeDocId === \"\") {\r\n        errors.relatedCollectionTypeDocId = \"Select related collection\";\r\n      }\r\n\r\n      return errors;\r\n    },\r\n  });\r\n  const [enumOption, setEnumOption] = React.useState(\"\");\r\n\r\n  const SelectedFieldType = FieldTypes.find((x) => x.type === fieldType);\r\n  const collections = useSelector((state: RootState) => state.collectionTypes);\r\n\r\n  const onDragEnd = async (result: any) => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    if (values.type === \"collection\") {\r\n      const fields = reorder(\r\n        values.collectionFields,\r\n        result.source.index,\r\n        result.destination.index\r\n      );\r\n      setFieldValue(\"collectionFields\", fields);\r\n    }\r\n  };\r\n\r\n  const addEnumOption = () => {\r\n    if (enumOption && values.type === \"enum\") {\r\n      let arr = [...values.enumOptions];\r\n      arr.push(enumOption);\r\n      setFieldValue(\"enumOptions\", arr);\r\n      setEnumOption(\"\");\r\n    }\r\n  };\r\n\r\n  let customErrors = errors as CustomErrors;\r\n\r\n  return (\r\n    <div className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40\">\r\n      <div\r\n        style={{ maxWidth: 550 }}\r\n        className=\"m-auto rounded bg-white p-7 w-full relative animate-littlemoveup\"\r\n      >\r\n        <CloseRounded\r\n          className=\"absolute top-0 right-0 cursor-pointer\"\r\n          onClick={() => proceed(null)}\r\n        ></CloseRounded>\r\n        <div className=\"text-22px font-medium mb-9 flex items-center\">\r\n          {SelectedFieldType ? <SelectedFieldType.Badge></SelectedFieldType.Badge> : null}\r\n          <span className=\"ml-3\">\r\n            {editableField ? \"Edit\" : \"Add\"} {SelectedFieldType ? SelectedFieldType.type : \"\"} field\r\n          </span>\r\n        </div>\r\n        <div className=\"mb-9\">\r\n          <div className=\"mb-2\">Field name</div>\r\n          <Input\r\n            groundColor=\"white\"\r\n            className=\"h-34px\"\r\n            data-testid={`field-id-input-${zLevel}`}\r\n            error={submitCount > 0 ? errors.id : \"\"}\r\n            value={values.id}\r\n            name=\"id\"\r\n            onChange={handleChange}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\") {\r\n                handleSubmit();\r\n              }\r\n            }}\r\n          ></Input>\r\n        </div>\r\n\r\n        {values.type === \"media\" ? (\r\n          <ToupleInput\r\n            data-testid={`media-touple-${zLevel}`}\r\n            options={[\r\n              { value: false, label: \"Multiple media\" },\r\n              { value: true, label: \"Single media\" },\r\n            ]}\r\n            value={values.mediaSingle}\r\n            setValue={(val) => setFieldValue(\"mediaSingle\", val)}\r\n          ></ToupleInput>\r\n        ) : values.type === \"enum\" ? (\r\n          <div className=\"mb-10\">\r\n            <div className=\"mb-2\">Options</div>\r\n            <div className=\"flex flex-wrap\">\r\n              {values.enumOptions.map((x, i) => (\r\n                <div\r\n                  data-testid={`enum-option-${x}-${zLevel}`}\r\n                  key={`enum-option-${i}`}\r\n                  className=\"bg-gray-300 rounded flex items-center px-3 h-34px mr-3 mb-3\"\r\n                >\r\n                  <div className=\"mr-4\">{x}</div>\r\n                  <div\r\n                    className=\"cursor-pointer text-xs\"\r\n                    onClick={() => {\r\n                      let arr = [...values.enumOptions];\r\n                      arr.splice(i, 1);\r\n                      setFieldValue(\"enumOptions\", arr);\r\n                    }}\r\n                  >\r\n                    ✕\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"flex\">\r\n              <Input\r\n                groundColor=\"white\"\r\n                data-testid={`enum-option-input-${zLevel}`}\r\n                className=\"mr-3\"\r\n                error={submitCount > 0 ? customErrors.enumOptions?.toString() : \"\"}\r\n                type=\"text\"\r\n                value={enumOption}\r\n                onChange={(e) => setEnumOption(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === \"Enter\") {\r\n                    addEnumOption();\r\n                  }\r\n                }}\r\n              ></Input>\r\n              <Button\r\n                data-testid={`add-enum-option-btn-${zLevel}`}\r\n                onClick={addEnumOption}\r\n                className=\"bg-fireck-4 hover:bg-fireck-4-hover\"\r\n              >\r\n                Add option\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        ) : values.type === \"relation\" ? (\r\n          <div className=\"mb-10\">\r\n            <div className=\"mb-9\">\r\n              <Label\r\n                groundColor=\"white\"\r\n                error={submitCount > 0 ? customErrors.relatedCollectionTypeDocId : \"\"}\r\n                className=\"mb-2\"\r\n              >\r\n                Related collection\r\n              </Label>\r\n              <Select\r\n                className=\"h-34px\"\r\n                groundColor=\"white\"\r\n                data-testid={`related-collection-select-${zLevel}`}\r\n                options={[\r\n                  { value: \"\", label: \"Select\" },\r\n                  ...collections.map((c) => ({ label: c.id, value: c.docId })),\r\n                ]}\r\n                value={values.relatedCollectionTypeDocId}\r\n                onChange={(e) => setFieldValue(\"relatedCollectionTypeDocId\", e.target.value)}\r\n              ></Select>\r\n            </div>\r\n            <div className=\"mb-2\">Relation type</div>\r\n            <ToupleInput\r\n              data-testid={`relation-multiplicity-touple-${zLevel}`}\r\n              value={values.relationOneToOne}\r\n              setValue={(val) => setFieldValue(\"relationOneToOne\", val)}\r\n              options={[\r\n                { value: true, label: \"One to one\", icon: OneToOneIcon },\r\n                { value: false, label: \"One to many\", icon: OneToManyIcon },\r\n              ]}\r\n            ></ToupleInput>\r\n          </div>\r\n        ) : values.type === \"string\" ? (\r\n          <ToupleInput\r\n            data-testid={`string-type-touple-${zLevel}`}\r\n            value={values.stringLong}\r\n            setValue={(val) => setFieldValue(\"stringLong\", val)}\r\n            options={[\r\n              { label: \"Short text\", value: false },\r\n              { label: \"Long text\", value: true },\r\n            ]}\r\n          ></ToupleInput>\r\n        ) : values.type === \"collection\" ? (\r\n          <div className=\"mb-9\">\r\n            <div className=\"flex mb-2\">\r\n              <div className=\"mr-2\">Fields</div>\r\n              <AddCircleOutlineRounded\r\n                data-testid={`add-field-for-subcollection-btn-${zLevel}`}\r\n                className=\"cursor-pointer\"\r\n                onClick={async () => {\r\n                  const field = await getCollectionField({\r\n                    existingFieldNames: values.collectionFields.map((x) => x.id),\r\n                    zLevel: zLevel + 1,\r\n                  });\r\n                  console.log(\"FINAL FIELD\", field);\r\n                  if (!field) return;\r\n                  const fields = [...values.collectionFields, field];\r\n                  setFieldValue(\"collectionFields\", fields);\r\n                }}\r\n              ></AddCircleOutlineRounded>\r\n            </div>\r\n            <DraggableList\r\n              items={values.collectionFields.map((x) => ({\r\n                field: x,\r\n                Badge: FieldTypes.find((t) => t.type === x.type)?.Badge,\r\n              }))}\r\n              onDragEnd={onDragEnd}\r\n              containerClassName=\"max-h-247px overflow-auto\"\r\n              Item={({\r\n                Badge,\r\n                field,\r\n                index,\r\n                ...rest\r\n              }: {\r\n                Badge: React.FC;\r\n                field: AnyField;\r\n                index: number;\r\n                rest: any;\r\n              }) => {\r\n                return (\r\n                  <div className=\"pb-2\">\r\n                    <div className=\"rounded bg-gray-300 px-3 py-2 flex items-center\" {...rest}>\r\n                      <div className=\"line-clamp-1 w-5/12 px-3\">{field.id}</div>\r\n                      <div className=\"flex w-4/12 flex-shrink-0 items-center\">\r\n                        {Badge ? <Badge></Badge> : null}\r\n                        <span className=\"ml-3 hidden sm:block line-clamp-1\">{field.type}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center flex-grow justify-end text-base\">\r\n                        <IconButton\r\n                          className=\"mr-1\"\r\n                          variant=\"transparent\"\r\n                          onClick={async () => {\r\n                            const editedField = await getCollectionField({\r\n                              zLevel: zLevel + 1,\r\n                              editableField: field,\r\n                              existingFieldNames: values.collectionFields\r\n                                .map((f) => f.id)\r\n                                .filter((f) => f !== field.id),\r\n                            });\r\n\r\n                            if (!editedField) return;\r\n\r\n                            let fields = [...values.collectionFields];\r\n                            fields[index] = editedField;\r\n                            setFieldValue(\"collectionFields\", fields);\r\n                          }}\r\n                        >\r\n                          <EditOutlined fontSize=\"inherit\"></EditOutlined>\r\n                        </IconButton>\r\n                        <IconButton\r\n                          variant=\"transparent\"\r\n                          onClick={async () => {\r\n                            let res = await confirm({\r\n                              confirmation: \"Delete field?\",\r\n                            });\r\n                            if (res) {\r\n                              const fields = [...values.collectionFields];\r\n                              fields.splice(index, 1);\r\n                              setFieldValue(\"collectionFields\", fields);\r\n                            }\r\n                          }}\r\n                        >\r\n                          <Delete fontSize=\"inherit\"></Delete>\r\n                        </IconButton>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              }}\r\n            ></DraggableList>\r\n          </div>\r\n        ) : null}\r\n        <div className=\"flex justify-between\">\r\n          <Button\r\n            data-testid={`cancel-field-details-btn-${zLevel}`}\r\n            onClick={() => proceed(editableField ? null : \"back\")}\r\n            className=\"bg-fireck-5 hover:bg-fireck-5-hover text-white h-34px\"\r\n          >\r\n            {editableField ? \"Cancel\" : \"Back\"}\r\n          </Button>\r\n          <Button\r\n            data-testid={`submit-field-details-btn-${zLevel}`}\r\n            type=\"submit\"\r\n            onClick={() => handleSubmit()}\r\n            className=\"bg-fireck-4 hover:bg-fireck-4-hover h-34px\"\r\n          >\r\n            Submit\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpecifyFieldDetails;\r\n","import { callComponent } from \"api/callComponent\";\r\nimport { FieldInputType, AnyField } from \"api/collectionTypes\";\r\nimport SelectFieldType, { SelectFieldTypeProps } from \"./SelectFieldType\";\r\nimport SpecifyFieldDetails, { SpecifyFieldDetailsProps } from \"./SpecifyFieldDetails\";\r\n\r\nexport const getCollectionField = async ({\r\n  editableField,\r\n  existingFieldNames,\r\n  initialFieldInputType,\r\n  zLevel,\r\n}: {\r\n  editableField?: AnyField;\r\n  existingFieldNames?: string[];\r\n  initialFieldInputType?: FieldInputType;\r\n  zLevel: number;\r\n}): Promise<AnyField | null> => {\r\n  let res = editableField\r\n    ? editableField.type\r\n    : await callComponent<SelectFieldTypeProps, FieldInputType | null>({\r\n        Component: SelectFieldType,\r\n        props: initialFieldInputType ? { initialFieldInputType } : {},\r\n      });\r\n\r\n  if (res == null) return res;\r\n\r\n  const fieldType = res;\r\n  let res1: AnyField | null | \"back\" = await callComponent<\r\n    SpecifyFieldDetailsProps,\r\n    AnyField | null | \"back\"\r\n  >({\r\n    Component: SpecifyFieldDetails,\r\n    props: {\r\n      fieldType,\r\n      editableField,\r\n      existingFieldNames,\r\n      zLevel,\r\n    },\r\n  });\r\n  if (res1 === \"back\") {\r\n    return getCollectionField({\r\n      editableField,\r\n      existingFieldNames,\r\n      zLevel,\r\n      initialFieldInputType: fieldType,\r\n    });\r\n  } else {\r\n    return res1;\r\n  }\r\n};\r\n","import Button from \"components/Button\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport EditOutlined from \"@material-ui/icons/EditOutlined\";\r\nimport DeleteOutlineOutlined from \"@material-ui/icons/DeleteOutlineOutlined\";\r\nimport CollectionModal from \"./CollectionModal\";\r\nimport FieldTypes from \"components/FieldTypes\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport SpecifyFieldDetails, { SpecifyFieldDetailsProps } from \"./SpecifyFieldDetails\";\r\nimport SelectFieldType, { SelectFieldTypeProps } from \"./SelectFieldType\";\r\nimport { callComponent } from \"api/callComponent\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport DragIndicatorRounded from \"@material-ui/icons/DragIndicatorRounded\";\r\nimport InterfaceModal from \"./InterfaceModal\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport AddRounded from \"@material-ui/icons/AddRounded\";\r\nimport SettingsPage from \"components/SettingsPage\";\r\nimport { updateDocument } from \"api/collections\";\r\nimport { CollectionType, FieldInputType, AnyField } from \"api/collectionTypes\";\r\nimport { getCollectionField } from \"./GetCollectionField\";\r\n\r\nexport interface CollectionsBuilderProps {}\r\n\r\nexport const reorder = (list: any[], startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n\r\n  return result;\r\n};\r\n\r\nconst COLLECTION_ID = \"CollectionTypesReservedCollection\";\r\n\r\nconst CollectionsBuilder: React.FC<CollectionsBuilderProps> = () => {\r\n  const [collectionModalOpen, setCollectionModalOpen] = React.useState(false as boolean);\r\n  const dispatch = useDispatch();\r\n  const notify = useNotify();\r\n  const [editingCollectionDocId, setEditingCollectionDocId] = React.useState(\"\");\r\n  const [selectedCollection, setSelectedCollection] = React.useState(\"\");\r\n  const [interfaceColType, setInterfaceColType] = React.useState<CollectionType>();\r\n\r\n  const collections = useSelector(\r\n    (state: RootState) => state.collectionTypes.filter((x) => !x.isSystem),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (collections.length && !selectedCollection) {\r\n      setSelectedCollection(collections[0].docId);\r\n    }\r\n  }, [collections]);\r\n\r\n  const editField = async (selectedField: number) => {\r\n    const collection = collections.find((x) => x.docId === selectedCollection);\r\n    if (!collection) return;\r\n    let editableField = collection.fields[selectedField];\r\n\r\n    const field = await getCollectionField({\r\n      editableField,\r\n      zLevel: 0,\r\n      existingFieldNames: collection.fields\r\n        .filter((x) => x.id !== editableField.id)\r\n        .map((x) => x.id),\r\n    });\r\n\r\n    if (field) {\r\n      let newFields = JSON.parse(JSON.stringify(collection.fields));\r\n      newFields[selectedField] = field;\r\n      let res1 = await updateDocument(COLLECTION_ID, collection.docId, {\r\n        ...collection,\r\n        fields: newFields,\r\n      });\r\n      if (res1.error) {\r\n        notify(res1.error, { variant: \"error\" });\r\n      } else {\r\n        dispatch({ type: \"UPDATE_COLLECTION_FIELDS\", payload: newFields, docId: collection.docId });\r\n      }\r\n    }\r\n\r\n    return { success: false };\r\n  };\r\n\r\n  const addField = async () => {\r\n    const collection = collections.find((x) => x.docId === selectedCollection);\r\n    if (!collection) return;\r\n    const field = await getCollectionField({\r\n      zLevel: 0,\r\n      existingFieldNames: collection.fields.map((x) => x.id),\r\n    });\r\n    if (field) {\r\n      const newFields = [...collection.fields, field];\r\n\r\n      let res2 = await updateDocument(COLLECTION_ID, collection.docId, {\r\n        ...collection,\r\n        fields: newFields,\r\n      });\r\n\r\n      if (!res2.error) {\r\n        dispatch({\r\n          type: \"UPDATE_COLLECTION_FIELDS\",\r\n          payload: newFields,\r\n          docId: collection.docId,\r\n        });\r\n        notify(\"Field added!\", { variant: \"success\" });\r\n      } else {\r\n        notify(res2.error, { variant: \"error\" });\r\n      }\r\n    }\r\n\r\n    return { success: false };\r\n  };\r\n\r\n  const deleteField = async (fieldIndex: number) => {\r\n    let res = await confirm({\r\n      confirmation: \"Delete field?\",\r\n    });\r\n    if (res) {\r\n      let updatedCollection = JSON.parse(\r\n        JSON.stringify(collections.find((x) => x.docId === selectedCollection))\r\n      );\r\n      updatedCollection.fields.splice(fieldIndex, 1);\r\n      const res = await updateDocument(COLLECTION_ID, selectedCollection, updatedCollection);\r\n      if (res.error) {\r\n        notify(res.error, { variant: \"error\" });\r\n      } else {\r\n        dispatch({\r\n          type: \"UPDATE_COLLECTION_FIELDS\",\r\n          payload: updatedCollection.fields,\r\n          docId: selectedCollection,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const onDragEnd = async (result: any) => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    let col = collections.find((x) => x.docId === selectedCollection);\r\n    if (!col) return;\r\n\r\n    const fields = reorder(col.fields, result.source.index, result.destination.index);\r\n\r\n    dispatch({ type: \"UPDATE_COLLECTION_FIELDS\", payload: fields, docId: col.docId });\r\n    updateDocument(COLLECTION_ID, col.docId, {\r\n      ...col,\r\n      fields,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SettingsPage\r\n        entityContent={\r\n          <div className=\"h-full bg-white rounded overflow-hidden\">\r\n            <DragDropContext onDragEnd={onDragEnd}>\r\n              <Droppable droppableId=\"droppable\">\r\n                {(provided, snapshot) => (\r\n                  <SimpleBar\r\n                    className=\"overflow-auto w-full h-full scrollbar-light scrollbar-thin py-0.5\"\r\n                    autoHide={false}\r\n                  >\r\n                    <div\r\n                      className=\"min-w-430px\"\r\n                      {...provided.droppableProps}\r\n                      ref={provided.innerRef as any}\r\n                    >\r\n                      {collections\r\n                        .find((x) => x.docId === selectedCollection)\r\n                        ?.fields.map((x, i) => {\r\n                          const Badge = FieldTypes.find((t) => t.type === x.type)?.Badge;\r\n                          return (\r\n                            <Draggable key={x.id} draggableId={x.id} index={i}>\r\n                              {(provided, snapshot) => (\r\n                                <div\r\n                                  data-testid={`field-id-${x.id}`}\r\n                                  key={`field-${i}`}\r\n                                  className=\"bg-white hover:bg-fireck-4 flex mb-2 items-center px-2 py-0.5\"\r\n                                  ref={provided.innerRef}\r\n                                  {...provided.draggableProps}\r\n                                >\r\n                                  <div {...provided.dragHandleProps}>\r\n                                    <DragIndicatorRounded fontSize=\"inherit\" className=\"text-lg\" />\r\n                                  </div>\r\n\r\n                                  <div className=\"line-clamp-1 w-5/12 px-3\">{x.id}</div>\r\n                                  <div className=\"flex w-4/12 flex-shrink-0 items-center\">\r\n                                    {Badge ? <Badge></Badge> : null}\r\n                                    <span className=\"ml-3 hidden sm:block line-clamp-1\">\r\n                                      {x.type}\r\n                                    </span>\r\n                                  </div>\r\n                                  {x.isDefault ? null : (\r\n                                    <div className=\"flex items-center flex-grow justify-end\">\r\n                                      <div\r\n                                        data-testid={`edit-for-field-${x.id}`}\r\n                                        className=\"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-white\"\r\n                                        onClick={() => {\r\n                                          editField(i);\r\n                                        }}\r\n                                      >\r\n                                        <EditOutlined\r\n                                          fontSize=\"inherit\"\r\n                                          classes={{ root: \"pointer-events-none text-lg\" }}\r\n                                        ></EditOutlined>\r\n                                      </div>\r\n                                      <div\r\n                                        className=\"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white\"\r\n                                        data-testid={`delete-for-field-${x.id}`}\r\n                                        onClick={() => deleteField(i)}\r\n                                      >\r\n                                        <DeleteOutlineOutlined\r\n                                          classes={{ root: \"pointer-events-none text-lg\" }}\r\n                                          fontSize=\"inherit\"\r\n                                        ></DeleteOutlineOutlined>\r\n                                      </div>\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n                            </Draggable>\r\n                          );\r\n                        })}\r\n                      {provided.placeholder}\r\n                    </div>\r\n                  </SimpleBar>\r\n                )}\r\n              </Droppable>\r\n            </DragDropContext>\r\n          </div>\r\n        }\r\n        selectedEntityId={selectedCollection}\r\n        entity=\"collection\"\r\n        enitityPlural=\"collections\"\r\n        entities={collections}\r\n        onSelectEntity={(docId) => setSelectedCollection(docId)}\r\n        onAddEntity={() => setCollectionModalOpen(true)}\r\n        onInvokeEntityEdit={() => {\r\n          setEditingCollectionDocId(selectedCollection);\r\n          setCollectionModalOpen(true);\r\n        }}\r\n        entityButtons={\r\n          <div className=\"flex flex-wrap\">\r\n            <Button\r\n              data-testid=\"view-interface-btn\"\r\n              onClick={() =>\r\n                setInterfaceColType(collections.find((x) => x.docId === selectedCollection))\r\n              }\r\n              className=\"border border-white h-28px text-white mr-3 mb-3 px-5 min-w-unset\"\r\n            >\r\n              <div className=\"flex items-center pointer-events-none\">Interface</div>\r\n            </Button>\r\n            <Button\r\n              data-testid=\"add-new-field-btn\"\r\n              onClick={async () => {\r\n                addField();\r\n              }}\r\n              className=\"bg-fireck-4 hover:bg-fireck-4-hover mb-3 h-28px pl-3 min-w-unset\"\r\n            >\r\n              <div className=\"flex items-center pointer-events-none\">\r\n                <AddRounded className=\"mr-2 text-lg\" fontSize=\"inherit\"></AddRounded>\r\n                <span>Add field</span>\r\n              </div>\r\n            </Button>\r\n          </div>\r\n        }\r\n      ></SettingsPage>\r\n\r\n      <CollectionModal\r\n        editingCollectionDocId={editingCollectionDocId}\r\n        collections={collections}\r\n        onCreate={(val) => {\r\n          dispatch({ type: \"ADD_COLLECTION_TYPE\", payload: val });\r\n          setSelectedCollection(val.docId);\r\n        }}\r\n        onUpdate={(val) => {\r\n          dispatch({ type: \"UPDATE_COLLECTION_TYPE\", payload: val, docId: val.docId });\r\n        }}\r\n        onDelete={(docId) => {\r\n          setSelectedCollection(\"\");\r\n          setEditingCollectionDocId(\"\");\r\n          dispatch({ type: \"DELETE_COLLECTION_TYPE\", payload: docId });\r\n        }}\r\n        open={collectionModalOpen}\r\n        onClose={() => {\r\n          setCollectionModalOpen(false);\r\n          setEditingCollectionDocId(\"\");\r\n        }}\r\n      ></CollectionModal>\r\n      <InterfaceModal\r\n        onClose={() => setInterfaceColType(undefined)}\r\n        open={interfaceColType ? true : false}\r\n        collectionType={interfaceColType}\r\n      ></InterfaceModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CollectionsBuilder;\r\n","import { IoAlertCircleOutline } from \"react-icons/io5\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport React, { SelectHTMLAttributes } from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst WarningIcon = React.forwardRef(function MyComponent(props: any, ref: any) {\r\n  return (\r\n    <div {...props} ref={ref}>\r\n      <IoAlertCircleOutline className=\"text-red-FF0000\" size={20}></IoAlertCircleOutline>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\r\n  className?: string;\r\n  options: { label: string; value: string | number }[];\r\n  error?: string | boolean;\r\n  groundColor: \"white\" | \"black\";\r\n}\r\n\r\nconst Select: React.FC<SelectProps> = ({\r\n  className = \"\",\r\n  options,\r\n  error,\r\n  groundColor,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div className={`${className} relative flex items-center`}>\r\n      <select\r\n        className={classNames(\"px-3 h-full border-2 border-solid w-full rounded outline-none\", {\r\n          \"border-red-FF0000\": error,\r\n          \"focus:border-fireck-4\": !error,\r\n          \"border-gray-300 bg-gray-300\": groundColor === \"white\",\r\n          \"border-white bg-white\": groundColor === \"black\",\r\n        })}\r\n        {...props}\r\n        spellCheck={false}\r\n      >\r\n        {options.map((x, i) => (\r\n          <option data-testid={`select-option-${x.value}`} key={\"opt-\" + i} value={x.value}>\r\n            {x.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      {error ? (\r\n        <Tooltip title={error} placement=\"top\">\r\n          <WarningIcon className=\"absolute right-2 my-auto w-auto\"></WarningIcon>\r\n        </Tooltip>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"store\";\r\nimport NotificationsProvider from \"components/NotificationsProvider\";\r\n\r\nexport interface CallableComponent<T> {\r\n  proceed: (v: T) => void;\r\n}\r\n\r\ninterface callComponentArgs<T> {\r\n  Component: React.FC<any>;\r\n  props: Omit<T, \"proceed\">;\r\n}\r\n\r\nexport function callComponent<T, RT>({ Component, props }: callComponentArgs<T>): Promise<RT> {\r\n  return new Promise((resolve, reject) => {\r\n    const wrapper = document.getElementById(\"root\")?.appendChild(document.createElement(\"div\"));\r\n\r\n    if (wrapper) {\r\n      ReactDOM.render(\r\n        <Provider store={store}>\r\n          <NotificationsProvider>\r\n            <Component\r\n              {...props}\r\n              proceed={(val: RT) => {\r\n                ReactDOM.unmountComponentAtNode(wrapper);\r\n                wrapper.parentNode?.removeChild(wrapper);\r\n                resolve(val);\r\n              }}\r\n            />\r\n          </NotificationsProvider>\r\n        </Provider>,\r\n        wrapper\r\n      );\r\n    }\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport ErrorRounded from \"@mui/icons-material/ErrorRounded\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport classNames from \"classnames\";\r\n\r\nexport interface LabelProps {\r\n  error?: string | undefined | null;\r\n  className?: string;\r\n  children: any;\r\n  groundColor: \"black\" | \"white\";\r\n}\r\n\r\nconst WarningIcon = React.forwardRef(function MyComponent(props: any, ref: any) {\r\n  return (\r\n    <div {...props} ref={ref}>\r\n      <ErrorRounded className=\"text-red-500 text-xl\" fontSize=\"inherit\"></ErrorRounded>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst Label: React.FC<LabelProps> = ({ className = \"\", children, error, groundColor }) => {\r\n  return (\r\n    <div\r\n      className={classNames(`flex justify-between relative ${className}`, {\r\n        \"text-white\": groundColor === \"black\",\r\n        \"text-black\": groundColor === \"white\",\r\n      })}\r\n    >\r\n      <div>{children}</div>\r\n      {error ? (\r\n        <Tooltip title={error} placement=\"top\">\r\n          <WarningIcon className=\"absolute right-2 my-auto w-auto\"></WarningIcon>\r\n        </Tooltip>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Label;\r\n","import Button from \"components/Button\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport Edit from \"@material-ui/icons/EditRounded\";\r\nimport Select from \"components/Select\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport AddRounded from \"@material-ui/icons/AddRounded\";\r\nimport SearchRounded from \"@material-ui/icons/SearchRounded\";\r\n\r\nexport interface SettingsPageProps {\r\n  entity: string;\r\n  enitityPlural: string;\r\n  onAddEntity?: () => void;\r\n  entities: { name: string; docId: string }[];\r\n  onSelectEntity: (id: string) => void;\r\n  entityButtons: ReactElement;\r\n  onInvokeEntityEdit?: () => void;\r\n  entityContent: ReactElement;\r\n  selectedEntityId: string;\r\n}\r\n\r\nexport const reorder = (list: any[], startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n\r\n  return result;\r\n};\r\n\r\nconst SettingsPage: React.FC<SettingsPageProps> = React.memo(\r\n  ({\r\n    entity,\r\n    enitityPlural,\r\n    onAddEntity,\r\n    entities,\r\n    onSelectEntity,\r\n    entityButtons,\r\n    onInvokeEntityEdit,\r\n    entityContent,\r\n    selectedEntityId,\r\n  }) => {\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    return (\r\n      <div className=\"h-full flex flex-col\">\r\n        <div className=\"flex flex-wrap justify-between mb-4\">\r\n          <div className=\"font-medium text-27px leading-none mb-4 mr-4 text-white capitalize\">\r\n            {enitityPlural}\r\n          </div>\r\n          {!onAddEntity ? null : (\r\n            <Button\r\n              data-testid=\"add-collection-btn\"\r\n              onClick={onAddEntity}\r\n              className=\"bg-fireck-4 hover:bg-fireck-4-hover mb-4 min-w-unset\"\r\n            >\r\n              <div className=\"flex items-center pointer-events-none h-34px\">\r\n                <AddRounded className=\"mr-2 text-lg\" fontSize=\"inherit\"></AddRounded>\r\n                <span className=\"hidden md:block\">Add {entity}</span>\r\n                <span className=\"md:hidden\">Add</span>\r\n              </div>\r\n            </Button>\r\n          )}\r\n        </div>\r\n        {!entities.length ? (\r\n          <div></div>\r\n        ) : (\r\n          <div className=\"flex flex-wrap lg:flex-nowrap w-full flex-grow\">\r\n            <div>\r\n              <div className=\"relative mr-4 hidden lg:block\" style={{ width: 180 }}>\r\n                <SearchRounded\r\n                  fontSize=\"inherit\"\r\n                  className=\"absolute text-base left-1 top-1 text-gray-500 pointer-events-none\"\r\n                ></SearchRounded>\r\n                <input\r\n                  type=\"search\"\r\n                  spellCheck={false}\r\n                  placeholder=\"Search\"\r\n                  className=\"text-white placeholder-gray-500 pl-7 hover:bg-fireck-2 focus:bg-fireck-2 w-full text-sm mb-3 px-2 border-white rounded bg-transparent outline-none focus:outline-none\"\r\n                  value={search}\r\n                  onChange={(e) => setSearch(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <SimpleBar\r\n                style={{ maxHeight: 230 }}\r\n                className=\"max-w-192px w-full flex-shrink-0 mr-4 hidden lg:block scrollbar-dark pr-3\"\r\n                autoHide={false}\r\n              >\r\n                {entities\r\n                  .filter((x) => !search || x.name.toLowerCase().includes(search.toLowerCase()))\r\n                  .map((x) => (\r\n                    <div\r\n                      data-testid={`entity-name-${x.name}`}\r\n                      onClick={() => {\r\n                        onSelectEntity(x.docId);\r\n                      }}\r\n                      key={`entity-${x.docId}`}\r\n                      className={`mb-1 capitalize truncate select-none cursor-pointer ${\r\n                        selectedEntityId === x.docId\r\n                          ? \"bg-fireck-4\"\r\n                          : \"hover:bg-fireck-1-hover text-white\"\r\n                      } rounded h-28px leading-28px px-3`}\r\n                    >\r\n                      {x.name}\r\n                    </div>\r\n                  ))}\r\n              </SimpleBar>\r\n            </div>\r\n\r\n            <div className=\"lg:flex-grow w-full rounded-lg bg-fireck-3 p-7 flex flex-col\">\r\n              <div className=\"flex justify-between mb-3 flex-wrap\">\r\n                <div className=\"font-medium text-22px capitalize mb-3 mr-3 text-white\">\r\n                  <span className=\"hidden lg:inline-block\">\r\n                    {entities.find((x) => x.docId === selectedEntityId)?.name || \"\"}\r\n                  </span>\r\n                  <div className=\"lg:hidden inline-block text-black text-base\">\r\n                    <Select\r\n                      className=\"h-28px\"\r\n                      groundColor=\"black\"\r\n                      onChange={(e) => onSelectEntity(e.target.value)}\r\n                      value={selectedEntityId}\r\n                      options={entities.map((x) => ({ label: x.name, value: x.docId }))}\r\n                    ></Select>\r\n                  </div>\r\n                  {!onInvokeEntityEdit ? null : (\r\n                    <Edit\r\n                      data-testid=\"edit-collection-btn\"\r\n                      onClick={onInvokeEntityEdit}\r\n                      className=\"ml-3 text-lg cursor-pointer\"\r\n                      fontSize=\"inherit\"\r\n                    ></Edit>\r\n                  )}\r\n                </div>\r\n                {entityButtons}\r\n              </div>\r\n\r\n              <div className=\"flex-grow h-0\">{entityContent}</div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default SettingsPage;\r\n","export type IconButtonVariant = \"transparent\" | \"standard\";\r\n\r\nexport interface IconButtonProps {\r\n  className?: string;\r\n  variant?: IconButtonVariant;\r\n  [x: string]: any;\r\n}\r\n\r\nconst IconButton: React.FC<IconButtonProps> = ({\r\n  className = \"\",\r\n  variant = \"standard\",\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <div\r\n      {...rest}\r\n      className={\r\n        `bg-fireck-4 hover:bg-fireck-4-hover h-5 w-5 rounded flex items-center justify-center transition cursor-pointer ` +\r\n        className\r\n      }\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default IconButton;\r\n","var _path, _circle, _circle2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOneToOne(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 9,\n    viewBox: \"0 0 40 9\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.36621 4.67223H30.7241M30.7241 4.67223L28.3085 2.25659M30.7241 4.67223L28.3085 7.08786\",\n    stroke: \"currentColor\",\n    strokeWidth: 1.37296,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 4.69562,\n    cy: 4.49835,\n    r: 3.31773,\n    stroke: \"currentColor\",\n    strokeWidth: 1.37296\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 35.3948,\n    cy: 4.49835,\n    r: 3.31773,\n    stroke: \"currentColor\",\n    strokeWidth: 1.37296\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOneToOne);\nexport default __webpack_public_path__ + \"static/media/one-to-one.a9ab4eb3.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _circle, _circle2, _circle3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOneToMany(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 37,\n    viewBox: \"0 0 40 37\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5875 18.8431L30.4119 7.39751M30.4119 7.39751L26.8752 6.44984M30.4119 7.39751L29.4643 10.9342\",\n    stroke: \"currentColor\",\n    strokeWidth: 1.47153,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5873 18.8433L30.4117 30.2889M30.4117 30.2889L29.4641 26.7522M30.4117 30.2889L26.875 31.2366\",\n    stroke: \"currentColor\",\n    strokeWidth: 1.47153,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 5.00165,\n    cy: 18.7858,\n    r: 3.55593,\n    stroke: \"currentColor\",\n    strokeWidth: 1.47153\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 35.2653,\n    cy: 32.5311,\n    r: 3.55593,\n    stroke: \"currentColor\",\n    strokeWidth: 1.47153\n  })), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 35.2653,\n    cy: 5.15558,\n    r: 3.55593,\n    stroke: \"currentColor\",\n    strokeWidth: 1.47153\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOneToMany);\nexport default __webpack_public_path__ + \"static/media/one-to-many.c2288723.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst useDraggableInPortal = () => {\r\n  const self = useRef<any>({}).current;\r\n\r\n  useEffect(() => {\r\n    const div = document.createElement(\"div\");\r\n    div.style.position = \"absolute\";\r\n    div.style.pointerEvents = \"none\";\r\n    div.style.top = \"0\";\r\n    div.style.width = \"100%\";\r\n    div.style.height = \"100%\";\r\n    self.elt = div;\r\n    document.body.appendChild(div);\r\n    return () => {\r\n      document.body.removeChild(div);\r\n    };\r\n  }, [self]);\r\n\r\n  return (render: any) =>\r\n    (provided: any, ...args: any) => {\r\n      const element = render(provided, ...args);\r\n      if (provided.draggableProps.style.position === \"fixed\") {\r\n        return createPortal(element, self.elt);\r\n      }\r\n      return element;\r\n    };\r\n};\r\n\r\nexport default useDraggableInPortal;\r\n","import useDraggableInPortal from \"hooks/useDraggableInPortal\";\r\nimport { DragDropContext, Droppable, Draggable, DropResult } from \"react-beautiful-dnd\";\r\nimport { useRef } from \"react\";\r\n\r\ninterface DraggableListProps {\r\n  onDragEnd: (val: DropResult) => void;\r\n  Item: React.FC<any>;\r\n  items: any[];\r\n  containerClassName: string;\r\n}\r\n\r\nconst DraggableList: React.FC<DraggableListProps> = ({\r\n  onDragEnd,\r\n  Item,\r\n  items,\r\n  containerClassName,\r\n}) => {\r\n  const renderDraggable = useDraggableInPortal();\r\n  const uniqid = useRef<number>(Math.random());\r\n\r\n  const formatId = (keyword: string, index: number) => {\r\n    return `${keyword}-${index}-${uniqid.current}`;\r\n  };\r\n\r\n  return (\r\n    <DragDropContext onDragEnd={onDragEnd}>\r\n      <Droppable droppableId=\"droppable-sub\">\r\n        {(provided) => (\r\n          <div className={containerClassName} {...provided.droppableProps} ref={provided.innerRef}>\r\n            {items.map((x, i) => {\r\n              return (\r\n                <Draggable\r\n                  key={formatId(\"draggable\", i)}\r\n                  draggableId={formatId(\"draggable\", i)}\r\n                  index={i}\r\n                >\r\n                  {renderDraggable((provided: any) => (\r\n                    <div\r\n                      ref={provided.innerRef}\r\n                      {...provided.draggableProps}\r\n                      {...provided.dragHandleProps}\r\n                    >\r\n                      <Item {...x} index={i}></Item>\r\n                    </div>\r\n                  ))}\r\n                </Draggable>\r\n              );\r\n            })}\r\n            {provided.placeholder}\r\n          </div>\r\n        )}\r\n      </Droppable>\r\n    </DragDropContext>\r\n  );\r\n};\r\n\r\nexport default DraggableList;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z\"\n}), 'EditOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z\"\n}), 'DeleteOutlineOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zm0-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'ToggleOnOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V10h16v11zm0-13H4V5h16v3z\"\n}), 'CalendarTodayOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H3V6h18v12zm-6.5-7L11 15.51 8.5 12.5 5 17h14z\"\n}), 'PanoramaOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 18h12v-2H3v2zM3 6v2h18V6H3zm0 7h18v-2H3v2z\"\n}), 'Notes');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-8c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm4 4h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zm0 4h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zM7 8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1zm-3 5c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-8c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm4 4h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zm0 4h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zM7 8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1z\"\n}), 'ListRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.65 10C11.7 7.31 8.9 5.5 5.77 6.12c-2.29.46-4.15 2.29-4.63 4.58C.32 14.57 3.26 18 7 18c2.61 0 4.83-1.67 5.65-4H17v2c0 1.1.9 2 2 2s2-.9 2-2v-2c1.1 0 2-.9 2-2s-.9-2-2-2h-8.35zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z\"\n}), 'VpnKeyRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"\n}), 'Link');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 7c-.55 0-1 .45-1 1v3H8c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V8c0-.55-.45-1-1-1zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'AddCircleOutlineRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'DragIndicatorRounded');\n\nexports.default = _default;"],"sourceRoot":""}