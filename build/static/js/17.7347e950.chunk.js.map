{"version":3,"sources":["api/roles.ts","pages/Roles/RoleEditor.tsx","pages/Roles/RoleModal.tsx","pages/Roles/index.tsx","components/Select.tsx","../node_modules/@material-ui/icons/EditRounded.js","components/SettingsPage.tsx","../node_modules/@material-ui/icons/SearchRounded.js","../node_modules/@mui/icons-material/Star.js"],"names":["permissions","RoleEditor","roleCopy","collections","setRoleCopy","sorter","a","b","className","Checkbox","size","classes","checked","root","find","c","docId","length","onChange","e","perms","forEach","sort","prev","selectAll","target","map","p","i","includes","permission","existingKeys","Object","keys","push","filter","cp","selectColumn","isSystem","fontSize","name","colDocId","selectRow","pi","index","findIndex","perm","splice","RoleModal","open","onClose","editRole","onDelete","onSave","onCreate","useFormik","onSubmit","vals","enableReinitialize","initialValues","defaultPermissions","validate","errors","values","isSubmitting","submitCount","handleChange","setFieldValue","handleSubmit","Modal","hideBackdrop","style","maxWidth","onClick","Input","groundColor","disabled","value","error","FormControlLabel","label","control","toLowerCase","Button","Roles","React","useState","roleModalOpen","setRoleModalOpen","roles","setRoles","selectedRole","setSelectedRole","setEditRole","collectionTypes","useSelector","state","x","notify","useNotify","dispatch","useDispatch","isSaving","setIsSaving","role","hasBeenChanged","JSON","stringify","useEffect","parse","type","payload","getCollection","collectionId","res","console","log","undefined","onUpdate","newRole","updateDocument","variant","arr","addDocument","confirm","confirmation","deleteDocument","ind","SettingsPage","selectedEntityId","entity","enitityPlural","onAddEntity","entities","entityButtons","classNames","onSelectEntity","onInvokeEntityEdit","entityContent","WarningIcon","forwardRef","props","ref","Select","options","spellCheck","title","placement","_interopRequireDefault","require","_interopRequireWildcard","defineProperty","exports","default","_default","createElement","d","memo","search","setSearch","width","placeholder","maxHeight","autoHide","_createSvgIcon","_jsxRuntime","jsx"],"mappings":"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","file":"static/js/17.7347e950.chunk.js","sourcesContent":["export type RoleType = \"admin\" | \"user\";\r\nexport type CollectionPermission =\r\n  | \"find\"\r\n  | \"find one\"\r\n  | \"count\"\r\n  | \"create\"\r\n  | \"update\"\r\n  | \"delete\"\r\n  | \"type\";\r\n\r\nexport const permissions: CollectionPermission[] = [\r\n  \"find\",\r\n  \"find one\",\r\n  \"count\",\r\n  \"create\",\r\n  \"update\",\r\n  \"delete\",\r\n  \"type\",\r\n];\r\n\r\nexport type RoleDocument = {\r\n  docId: string;\r\n  name: string;\r\n  defaultPermissions: CollectionPermission[];\r\n  permissions: { [collectionName: string]: CollectionPermission[] };\r\n};\r\n","import React, { Dispatch, SetStateAction } from \"react\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport { permissions, RoleDocument, CollectionPermission } from \"api/roles\";\r\nimport { CollectionType } from \"api/collectionTypes\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport Star from \"@mui/icons-material/Star\";\r\n\r\nexport interface RoleEditorProps {\r\n  roleCopy: RoleDocument | undefined;\r\n  setRoleCopy: Dispatch<SetStateAction<RoleDocument | undefined>>;\r\n  collections: CollectionType[];\r\n}\r\n\r\nconst RoleEditor: React.FC<RoleEditorProps> = ({ roleCopy, collections, setRoleCopy }) => {\r\n  const sorter = (a: string, b: string) => (a > b ? 1 : a < b ? -1 : 0);\r\n  //sorter sorts permissions in arrays in order the comparison to work\r\n\r\n  const selectColumn = (checked: boolean, permission: CollectionPermission) => {\r\n    if (!roleCopy) return;\r\n    let perms = { ...roleCopy.permissions };\r\n    let existingKeys = Object.keys(perms);\r\n    collections.forEach((c) => {\r\n      if (checked) {\r\n        if (!existingKeys.includes(c.docId)) {\r\n          perms[c.docId] = [permission];\r\n        } else {\r\n          if (!perms[c.docId].includes(permission)) {\r\n            perms[c.docId].push(permission);\r\n            perms[c.docId].sort(sorter);\r\n          }\r\n        }\r\n      } else {\r\n        if (existingKeys.includes(c.docId) && perms[c.docId].includes(permission)) {\r\n          perms[c.docId] = perms[c.docId].filter((cp) => cp !== permission);\r\n        }\r\n      }\r\n    });\r\n    setRoleCopy((prev) => (!prev ? prev : { ...prev, permissions: perms }));\r\n  };\r\n\r\n  const selectRow = (checked: boolean, colDocId: string) => {\r\n    if (!roleCopy) return;\r\n    let perms = { ...roleCopy.permissions };\r\n    perms[colDocId] = checked ? permissions : [];\r\n    setRoleCopy((prev) => (!prev ? prev : { ...prev, permissions: perms }));\r\n  };\r\n\r\n  const selectAll = (checked: boolean) => {\r\n    if (!roleCopy) return;\r\n    let perms = { ...roleCopy.permissions };\r\n    if (checked) {\r\n      collections.forEach((c) => {\r\n        perms[c.docId] = permissions;\r\n        perms[c.docId].sort(sorter);\r\n      });\r\n    } else {\r\n      perms = {};\r\n    }\r\n    setRoleCopy((prev) => (!prev ? prev : { ...prev, permissions: perms }));\r\n  };\r\n\r\n  return roleCopy ? (\r\n    <div className=\"h-full bg-white rounded overflow-hidden\">\r\n      <SimpleBar className=\"pb-2 scrollbar-light h-full\">\r\n        <table className=\"w-full min-w-544px\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"text-center bg-gray-E1E1E1 sticky top-0 z-10\"></th>\r\n              <th className=\"text-center font-semibold bg-gray-E1E1E1 sticky top-0 z-10\">\r\n                <div className=\"opacity-0\">All</div>\r\n                <Checkbox\r\n                  size=\"small\"\r\n                  classes={{ checked: \"text-fireck-1\", root: \"p-0\" }}\r\n                  checked={\r\n                    !collections.find(\r\n                      (c) =>\r\n                        !roleCopy.permissions[c.docId] ||\r\n                        roleCopy.permissions[c.docId].length < permissions.length\r\n                    )\r\n                  }\r\n                  onChange={(e) => selectAll(e.target.checked)}\r\n                ></Checkbox>\r\n              </th>\r\n              {permissions.map((p, i) => (\r\n                <th className=\"font-semibold sticky top-0 bg-gray-E1E1E1 z-10\" key={p}>\r\n                  <div>{p}</div>\r\n                  <Checkbox\r\n                    size=\"small\"\r\n                    classes={{ checked: \"text-fireck-1\", root: \"p-0\" }}\r\n                    checked={!collections.find((c) => !roleCopy.permissions[c.docId]?.includes(p))}\r\n                    onChange={(e) => selectColumn(e.target.checked, p)}\r\n                  ></Checkbox>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {collections.map((c, i) => (\r\n              <tr key={c.docId} className=\"hover:bg-fireck-4\">\r\n                <td>\r\n                  <div className=\" max-w-160px truncate pl-2 capitalize flex items-center\">\r\n                    {!c.isSystem ? null : <Star fontSize=\"inherit\" className=\"text-sm mr-1\"></Star>}\r\n                    {c.name}\r\n                  </div>\r\n                </td>\r\n                <td className=\"text-center\">\r\n                  <Checkbox\r\n                    size=\"small\"\r\n                    classes={{ checked: \"text-fireck-1\", root: \"p-0\" }}\r\n                    checked={\r\n                      roleCopy.permissions[c.docId]\r\n                        ? roleCopy.permissions[c.docId].length === permissions.length\r\n                        : false\r\n                    }\r\n                    onChange={(e) => selectRow(e.target.checked, c.docId)}\r\n                  ></Checkbox>\r\n                </td>\r\n                {permissions.map((p, pi) => (\r\n                  <td key={p + c.docId} className=\"text-center\">\r\n                    <Checkbox\r\n                      size=\"small\"\r\n                      classes={{ checked: \"text-fireck-1\", root: \"p-0\" }}\r\n                      checked={\r\n                        roleCopy.permissions[c.docId]\r\n                          ? roleCopy.permissions[c.docId].includes(p)\r\n                          : false\r\n                      }\r\n                      onChange={(e) =>\r\n                        setRoleCopy((prev) => {\r\n                          if (prev == null) {\r\n                            return prev;\r\n                          }\r\n                          const checked = e.target.checked;\r\n                          let perms = { ...prev.permissions };\r\n                          if (checked) {\r\n                            if (c.docId in perms) {\r\n                              perms[c.docId].push(p);\r\n                              perms[c.docId].sort(sorter);\r\n                            } else {\r\n                              perms[c.docId] = [p];\r\n                            }\r\n                          } else {\r\n                            if (c.docId in perms) {\r\n                              let index = perms[c.docId].findIndex((perm) => perm === p);\r\n                              perms[c.docId].splice(index, 1);\r\n                              if (!perms[c.docId].length) {\r\n                                delete perms[c.docId];\r\n                              }\r\n                            }\r\n                          }\r\n\r\n                          return { ...prev, permissions: perms };\r\n                        })\r\n                      }\r\n                    ></Checkbox>\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </SimpleBar>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default RoleEditor;\r\n","import Modal from \"@mui/material/Modal\";\r\nimport Input from \"components/Input\";\r\nimport { RoleDocument, permissions } from \"api/roles\";\r\nimport React from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Button from \"components/Button\";\r\nimport CloseRounded from \"@mui/icons-material/CloseRounded\";\r\n\r\nexport interface RoleModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  editRole: RoleDocument | undefined;\r\n  onDelete: (docId: string) => void;\r\n  onSave: (r: RoleDocument, notify?: boolean) => void;\r\n  onCreate: (r: RoleDocument) => void;\r\n}\r\n\r\nconst RoleModal: React.FC<RoleModalProps> = ({\r\n  open,\r\n  onClose,\r\n  editRole,\r\n  onDelete,\r\n  onSave,\r\n  onCreate,\r\n}) => {\r\n  const { values, errors, isSubmitting, submitCount, handleChange, setFieldValue, handleSubmit } =\r\n    useFormik<RoleDocument>({\r\n      onSubmit: async (vals) => {\r\n        vals.docId ? await onSave(vals) : await onCreate(vals);\r\n      },\r\n      enableReinitialize: true,\r\n      initialValues: editRole\r\n        ? editRole\r\n        : {\r\n            name: \"\",\r\n            defaultPermissions: [],\r\n            permissions: {},\r\n            docId: \"\",\r\n          },\r\n      validate: (vals) => {\r\n        let errors: Partial<typeof vals> = {};\r\n        if (vals.name.length === 0) {\r\n          errors.name = \"required\";\r\n        }\r\n        return errors;\r\n      },\r\n    });\r\n\r\n  return !open ? null : (\r\n    <Modal open={open} hideBackdrop>\r\n      <div className=\"w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7\">\r\n        <div\r\n          style={{ maxWidth: 570 }}\r\n          className=\"m-auto rounded bg-white w-full p-7 animate-littlemoveup relative\"\r\n        >\r\n          <CloseRounded\r\n            className=\"absolute top-0 right-0 cursor-pointer\"\r\n            onClick={onClose}\r\n          ></CloseRounded>\r\n          <div className=\"mb-9 font-medium text-2xl\">\r\n            {values.docId ? \"Edit role\" : \"Create role\"}\r\n          </div>\r\n          <div className=\"mb-9\">\r\n            <div className=\"mb-2\">Role name</div>\r\n            <Input\r\n              className=\"h-34px\"\r\n              groundColor=\"white\"\r\n              disabled={[\"public\", \"authenticated\"].includes(values.name)}\r\n              onChange={handleChange}\r\n              name=\"name\"\r\n              value={values.name}\r\n              error={errors.name && submitCount > 0 ? errors.name : false}\r\n            ></Input>\r\n          </div>\r\n          <div className=\"mb-2\">Default permissions</div>\r\n          <div className=\"flex flex-wrap mb-9\">\r\n            {permissions.map((p, i) => (\r\n              <div key={p} className=\"sm:w-1/3 w-1/2 flex\">\r\n                <FormControlLabel\r\n                  classes={{ label: \"font-poppins line-clamp-1\" }}\r\n                  control={\r\n                    <Checkbox\r\n                      classes={{ checked: \"text-fireck-1\" }}\r\n                      className=\"mr-3\"\r\n                      checked={values.defaultPermissions.includes(p)}\r\n                      onChange={(e) => {\r\n                        let perms = [...values.defaultPermissions];\r\n                        if (e.target.checked) {\r\n                          perms.push(p);\r\n                        } else {\r\n                          const index = perms.findIndex((perm) => perm === p);\r\n                          perms.splice(index, 1);\r\n                        }\r\n                        setFieldValue(\"defaultPermissions\", perms);\r\n                      }}\r\n                    ></Checkbox>\r\n                  }\r\n                  label={p}\r\n                ></FormControlLabel>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          {!editRole || [\"public\", \"authenticated\"].includes(editRole.name.toLowerCase()) ? null : (\r\n            <Button\r\n              onClick={() => onDelete(editRole.docId)}\r\n              className=\"border-2 h-34px border-red-FF0000 text-red-FF0000 mb-10 hover:bg-red-FF0000 hover:text-white\"\r\n            >\r\n              Delete role\r\n            </Button>\r\n          )}\r\n          <div className=\"flex justify-between\">\r\n            <Button\r\n              onClick={() => onClose()}\r\n              className=\"bg-fireck-5 hover:bg-fireck-5-hover text-white h-34px\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={() => handleSubmit()}\r\n              className=\"bg-fireck-4 hover:bg-fireck-4-hover h-34px\"\r\n            >\r\n              {isSubmitting ? \"Loading...\" : \"Submit\"}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default RoleModal;\r\n","import SettingsPage from \"components/SettingsPage\";\r\nimport Button from \"components/Button\";\r\nimport React from \"react\";\r\nimport RoleEditor from \"./RoleEditor\";\r\nimport RoleModal from \"./RoleModal\";\r\nimport { getCollection, updateDocument, addDocument, deleteDocument } from \"api/collections\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport { RoleDocument } from \"api/roles\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface RolesProps {}\r\n\r\nconst Roles: React.FC<RolesProps> = () => {\r\n  const [roleModalOpen, setRoleModalOpen] = React.useState(false);\r\n  const [roles, setRoles] = React.useState<RoleDocument[]>([]);\r\n  const [selectedRole, setSelectedRole] = React.useState(\"\");\r\n  const [editRole, setEditRole] = React.useState<RoleDocument>();\r\n  const collectionTypes = useSelector((state: RootState) => [\r\n    ...state.collectionTypes.filter((x) => x.isSystem),\r\n    ...state.collectionTypes.filter((x) => !x.isSystem),\r\n  ]);\r\n  const notify = useNotify();\r\n  const dispatch = useDispatch();\r\n\r\n  const [roleCopy, setRoleCopy] = React.useState<RoleDocument>();\r\n  const [isSaving, setIsSaving] = React.useState(false);\r\n  const role = roles.find((x) => x.docId === selectedRole);\r\n\r\n  const hasBeenChanged = !(JSON.stringify(role) === JSON.stringify(roleCopy));\r\n\r\n  React.useEffect(() => {\r\n    if (role) {\r\n      setRoleCopy(JSON.parse(JSON.stringify(role)));\r\n    }\r\n  }, [role]);\r\n\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        if (dispatch) {\r\n          dispatch({ type: \"SET_LOADING\", payload: true });\r\n          const res = await getCollection({ collectionId: \"RolesReservedCollection\" });\r\n          if (!(\"error\" in res)) {\r\n            setRoles(res);\r\n            if (res.length) {\r\n              setSelectedRole(res[0].docId);\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        dispatch({ type: \"SET_LOADING\", payload: false });\r\n      }\r\n    })();\r\n  }, [dispatch]);\r\n\r\n  React.useEffect(() => {\r\n    if (editRole) {\r\n      setRoleModalOpen(true);\r\n    }\r\n  }, [editRole]);\r\n\r\n  const onClose = () => {\r\n    setRoleModalOpen(false);\r\n    setEditRole(undefined);\r\n  };\r\n\r\n  const onUpdate = async (newRole: RoleDocument) => {\r\n    const res = await updateDocument(\"RolesReservedCollection\", newRole.docId, newRole);\r\n    if (!(\"error\" in res)) {\r\n      setRoles((prev) => {\r\n        let arr = [...prev];\r\n        let index = arr.findIndex((x) => x.docId === selectedRole);\r\n        if (index === -1) return arr;\r\n        arr[index] = newRole;\r\n        return arr;\r\n      });\r\n      notify(\"Role updated!\", { variant: \"success\" });\r\n    } else {\r\n      notify(res.error, { variant: \"error\" });\r\n    }\r\n    onClose();\r\n  };\r\n\r\n  const onCreate = async (newRole: RoleDocument) => {\r\n    const res = await addDocument(\"RolesReservedCollection\", newRole);\r\n    if (!(\"error\" in res)) {\r\n      setRoles((prev) => [{ ...newRole, docId: res.docId }, ...prev]);\r\n      notify(\"Role created!\", { variant: \"success\" });\r\n    } else {\r\n      notify(res.error, { variant: \"error\" });\r\n    }\r\n    onClose();\r\n  };\r\n\r\n  const onDelete = async (docId: string) => {\r\n    if (\r\n      await confirm({\r\n        confirmation: \"Do you really want to delete this role\",\r\n      })\r\n    ) {\r\n      let res = await deleteDocument(\"RolesReservedCollection\", docId);\r\n      if (!res.error) {\r\n        setRoles((prev) => {\r\n          let arr = [...prev];\r\n          const ind = arr.findIndex((x) => x.docId === docId);\r\n          if (ind === -1) return prev;\r\n          arr.splice(ind, 1);\r\n          return arr;\r\n        });\r\n        notify(\"Role deleted!\", { variant: \"success\" });\r\n      } else {\r\n        notify(\"Role was not deleted\", { variant: \"error\" });\r\n      }\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  console.log(\"role updated\");\r\n\r\n  return (\r\n    <>\r\n      <RoleModal\r\n        onCreate={onCreate}\r\n        onDelete={onDelete}\r\n        editRole={editRole}\r\n        open={roleModalOpen}\r\n        onSave={onUpdate}\r\n        onClose={() => {\r\n          setRoleModalOpen(false);\r\n          setEditRole(undefined);\r\n        }}\r\n      ></RoleModal>\r\n      <SettingsPage\r\n        selectedEntityId={selectedRole}\r\n        entity=\"role\"\r\n        enitityPlural=\"roles\"\r\n        onAddEntity={() => setRoleModalOpen(true)}\r\n        entities={roles}\r\n        entityButtons={\r\n          <Button\r\n            onClick={async () => {\r\n              if (!roleCopy) return;\r\n              setIsSaving(true);\r\n              await onUpdate(roleCopy);\r\n              setIsSaving(false);\r\n            }}\r\n            disabled={!hasBeenChanged || isSaving}\r\n            className={classNames(\"mb-4 min-w-unset h-28px px-7\", {\r\n              \"bg-white cursor-default text-gray-500\": !hasBeenChanged && !isSaving,\r\n              \"bg-fireck-4 hover:bg-fireck-4-hover\": !(!hasBeenChanged && !isSaving),\r\n            })}\r\n          >\r\n            {isSaving ? \"Saving...\" : hasBeenChanged ? \"Save\" : \"Saved!\"}\r\n          </Button>\r\n        }\r\n        onSelectEntity={(docId) => {\r\n          setSelectedRole(docId);\r\n        }}\r\n        onInvokeEntityEdit={() => setEditRole(role)}\r\n        entityContent={\r\n          <RoleEditor\r\n            collections={collectionTypes}\r\n            roleCopy={roleCopy}\r\n            setRoleCopy={setRoleCopy}\r\n          ></RoleEditor>\r\n        }\r\n      ></SettingsPage>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Roles;\r\n","import { IoAlertCircleOutline } from \"react-icons/io5\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport React, { SelectHTMLAttributes } from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst WarningIcon = React.forwardRef(function MyComponent(props: any, ref: any) {\r\n  return (\r\n    <div {...props} ref={ref}>\r\n      <IoAlertCircleOutline className=\"text-red-FF0000\" size={20}></IoAlertCircleOutline>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\r\n  className?: string;\r\n  options: { label: string; value: string | number }[];\r\n  error?: string | boolean;\r\n  groundColor: \"white\" | \"black\";\r\n}\r\n\r\nconst Select: React.FC<SelectProps> = ({\r\n  className = \"\",\r\n  options,\r\n  error,\r\n  groundColor,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div className={`${className} relative flex items-center`}>\r\n      <select\r\n        className={classNames(\"px-3 h-full border-2 border-solid w-full rounded outline-none\", {\r\n          \"border-red-FF0000\": error,\r\n          \"focus:border-fireck-4\": !error,\r\n          \"border-gray-300 bg-gray-300\": groundColor === \"white\",\r\n          \"border-white bg-white\": groundColor === \"black\",\r\n        })}\r\n        {...props}\r\n        spellCheck={false}\r\n      >\r\n        {options.map((x, i) => (\r\n          <option data-testid={`select-option-${x.value}`} key={\"opt-\" + i} value={x.value}>\r\n            {x.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      {error ? (\r\n        <Tooltip title={error} placement=\"top\">\r\n          <WarningIcon className=\"absolute right-2 my-auto w-auto\"></WarningIcon>\r\n        </Tooltip>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'EditRounded');\n\nexports.default = _default;","import Button from \"components/Button\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport Edit from \"@material-ui/icons/EditRounded\";\r\nimport Select from \"components/Select\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport AddRounded from \"@material-ui/icons/AddRounded\";\r\nimport SearchRounded from \"@material-ui/icons/SearchRounded\";\r\n\r\nexport interface SettingsPageProps {\r\n  entity: string;\r\n  enitityPlural: string;\r\n  onAddEntity?: () => void;\r\n  entities: { name: string; docId: string }[];\r\n  onSelectEntity: (id: string) => void;\r\n  entityButtons: ReactElement;\r\n  onInvokeEntityEdit?: () => void;\r\n  entityContent: ReactElement;\r\n  selectedEntityId: string;\r\n}\r\n\r\nexport const reorder = (list: any[], startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n\r\n  return result;\r\n};\r\n\r\nconst SettingsPage: React.FC<SettingsPageProps> = React.memo(\r\n  ({\r\n    entity,\r\n    enitityPlural,\r\n    onAddEntity,\r\n    entities,\r\n    onSelectEntity,\r\n    entityButtons,\r\n    onInvokeEntityEdit,\r\n    entityContent,\r\n    selectedEntityId,\r\n  }) => {\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    return (\r\n      <div className=\"h-full flex flex-col\">\r\n        <div className=\"flex flex-wrap justify-between mb-4\">\r\n          <div className=\"font-medium text-27px leading-none mb-4 mr-4 text-white capitalize\">\r\n            {enitityPlural}\r\n          </div>\r\n          {!onAddEntity ? null : (\r\n            <Button\r\n              data-testid=\"add-collection-btn\"\r\n              onClick={onAddEntity}\r\n              className=\"bg-fireck-4 hover:bg-fireck-4-hover mb-4 min-w-unset\"\r\n            >\r\n              <div className=\"flex items-center pointer-events-none h-34px\">\r\n                <AddRounded className=\"mr-2 text-lg\" fontSize=\"inherit\"></AddRounded>\r\n                <span className=\"hidden md:block\">Add {entity}</span>\r\n                <span className=\"md:hidden\">Add</span>\r\n              </div>\r\n            </Button>\r\n          )}\r\n        </div>\r\n        {!entities.length ? (\r\n          <div></div>\r\n        ) : (\r\n          <div className=\"flex flex-wrap lg:flex-nowrap w-full flex-grow\">\r\n            <div>\r\n              <div className=\"relative mr-4 hidden lg:block\" style={{ width: 180 }}>\r\n                <SearchRounded\r\n                  fontSize=\"inherit\"\r\n                  className=\"absolute text-base left-1 top-1 text-gray-500 pointer-events-none\"\r\n                ></SearchRounded>\r\n                <input\r\n                  type=\"search\"\r\n                  spellCheck={false}\r\n                  placeholder=\"Search\"\r\n                  className=\"text-white placeholder-gray-500 pl-7 hover:bg-fireck-2 focus:bg-fireck-2 w-full text-sm mb-3 px-2 border-white rounded bg-transparent outline-none focus:outline-none\"\r\n                  value={search}\r\n                  onChange={(e) => setSearch(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <SimpleBar\r\n                style={{ maxHeight: 230 }}\r\n                className=\"max-w-192px w-full flex-shrink-0 mr-4 hidden lg:block scrollbar-dark pr-3\"\r\n                autoHide={false}\r\n              >\r\n                {entities\r\n                  .filter((x) => !search || x.name.toLowerCase().includes(search.toLowerCase()))\r\n                  .map((x) => (\r\n                    <div\r\n                      data-testid={`entity-name-${x.name}`}\r\n                      onClick={() => {\r\n                        onSelectEntity(x.docId);\r\n                      }}\r\n                      key={`entity-${x.docId}`}\r\n                      className={`mb-1 capitalize truncate select-none cursor-pointer ${\r\n                        selectedEntityId === x.docId\r\n                          ? \"bg-fireck-4\"\r\n                          : \"hover:bg-fireck-1-hover text-white\"\r\n                      } rounded h-28px leading-28px px-3`}\r\n                    >\r\n                      {x.name}\r\n                    </div>\r\n                  ))}\r\n              </SimpleBar>\r\n            </div>\r\n\r\n            <div className=\"lg:flex-grow w-full rounded-lg bg-fireck-3 p-7 flex flex-col\">\r\n              <div className=\"flex justify-between mb-3 flex-wrap\">\r\n                <div className=\"font-medium text-22px capitalize mb-3 mr-3 text-white\">\r\n                  <span className=\"hidden lg:inline-block\">\r\n                    {entities.find((x) => x.docId === selectedEntityId)?.name || \"\"}\r\n                  </span>\r\n                  <div className=\"lg:hidden inline-block text-black text-base\">\r\n                    <Select\r\n                      className=\"h-28px\"\r\n                      groundColor=\"black\"\r\n                      onChange={(e) => onSelectEntity(e.target.value)}\r\n                      value={selectedEntityId}\r\n                      options={entities.map((x) => ({ label: x.name, value: x.docId }))}\r\n                    ></Select>\r\n                  </div>\r\n                  {!onInvokeEntityEdit ? null : (\r\n                    <Edit\r\n                      data-testid=\"edit-collection-btn\"\r\n                      onClick={onInvokeEntityEdit}\r\n                      className=\"ml-3 text-lg cursor-pointer\"\r\n                      fontSize=\"inherit\"\r\n                    ></Edit>\r\n                  )}\r\n                </div>\r\n                {entityButtons}\r\n              </div>\r\n\r\n              <div className=\"flex-grow h-0\">{entityContent}</div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default SettingsPage;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'SearchRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n}), 'Star');\n\nexports.default = _default;"],"sourceRoot":""}