(this["webpackJsonpfirebase-cms1"]=this["webpackJsonpfirebase-cms1"]||[]).push([[10],{721:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(10),a=n(44),r=n.n(a),l=(n(0),n(28)),i=n(16),s=n(1);function o(e){var t=e.Component,n=e.props;return new Promise((function(e,a){var o,d=null===(o=document.getElementById("root"))||void 0===o?void 0:o.appendChild(document.createElement("div"));d&&r.a.render(Object(s.jsx)(l.a,{store:i.a,children:Object(s.jsx)(t,Object(c.a)(Object(c.a)({},n),{},{proceed:function(t){var n;r.a.unmountComponentAtNode(d),null===(n=d.parentNode)||void 0===n||n.removeChild(d),e(t)}}))}),d)}))}},722:function(e,t,n){"use strict";var c=n(10),a=n(140),r=n(710),l=n(1);t.a=function(e){var t=e.className,n=void 0===t?"":t,i=e.variant,s=void 0===i?"standard":i,o=Object(a.a)(e,["className","variant"]);return Object(l.jsx)(r.a,Object(c.a)(Object(c.a)({},o),{},{className:"outline-none h-26px w-26px rounded ".concat("standard"===s?"bg-orange-300 hover:bg-orange-301":"hover:bg-black hover:bg-opacity-5","  ")+n}))}},723:function(e,t,n){"use strict";var c=n(140),a=n(10),r=n(248),l=n(671),i=n(0),s=n.n(i),o=n(1),d=s.a.forwardRef((function(e,t){return Object(o.jsx)("div",Object(a.a)(Object(a.a)({},e),{},{ref:t,children:Object(o.jsx)(r.b,{className:"text-red-500",size:20})}))}));t.a=function(e){var t=e.className,n=void 0===t?"":t,r=e.options,i=e.error,s=Object(c.a)(e,["className","options","error"]);return Object(o.jsxs)("div",{className:"".concat(n," relative flex items-center"),children:[Object(o.jsx)("select",Object(a.a)(Object(a.a)({className:"px-3 h-34px border-2 border-solid w-full rounded outline-none ".concat(i?"border-red-400":"focus:border-blue-300  border-gray-300 bg-gray-300")},s),{},{spellCheck:!1,children:r.map((function(e,t){return Object(o.jsx)("option",{value:e.value,children:e.label},"opt-"+t)}))})),i?Object(o.jsx)(l.a,{title:i,placement:"top",children:Object(o.jsx)(d,{className:"absolute right-2 my-auto w-auto"})}):null]})}},724:function(e,t,n){"use strict";var c=n(69),a=n(70);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=(0,c(n(71)).default)(r.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");t.default=l},725:function(e,t,n){"use strict";var c=n(8),a=n.n(c),r=n(15),l=n(6),i=n(143),s=n(250),o=n(0),d=n.n(o),u=n(1);t.a=function(e){var t=e.fetcher,n=e.onValue,c=e.limit,o=e.onError,f=void 0===o?function(){}:o,j=d.a.useState(!1),b=Object(l.a)(j,2),h=b[0],m=b[1];return Object(u.jsx)(s.a,{className:"w-full",onChange:function(){var e=Object(r.a)(a.a.mark((function e(r){var l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||h){e.next=5;break}return e.next=3,t();case 3:"error"in(l=e.sent)?(f(l.error),m(!0)):(n(l),(!l.length||l.length<c)&&m(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:h?"":Object(u.jsx)("div",{className:"flex justify-center py-3",children:Object(u.jsx)(i.a,{size:"small"})})})}},726:function(e,t,n){"use strict";var c=n(69),a=n(70);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=(0,c(n(71)).default)(r.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.default=l},727:function(e,t,n){"use strict";var c=n(69),a=n(70);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=(0,c(n(71)).default)(r.createElement("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"}),"AddRounded");t.default=l},728:function(e,t,n){"use strict";var c=n(10),a=n(0),r=n.n(a),l=n(253),i=n.n(l),s=n(671),o=n(1),d=r.a.forwardRef((function(e,t){return Object(o.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{ref:t,children:Object(o.jsx)(i.a,{className:"text-red-500 text-xl",fontSize:"inherit"})}))}));t.a=function(e){var t=e.className,n=void 0===t?"":t,c=e.children,a=e.error;return Object(o.jsxs)("div",{className:"flex justify-between relative ".concat(n),children:[Object(o.jsx)("div",{children:c}),a?Object(o.jsx)(s.a,{title:a,placement:"top",children:Object(o.jsx)(d,{className:"absolute right-2 my-auto w-auto"})}):null]})}},729:function(e,t,n){"use strict";var c=n(69),a=n(70);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=(0,c(n(71)).default)(r.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");t.default=l},735:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o}));var c=n(16),a=function(){var e=c.a.getState().user;return"Bearer "+(e?e.token:null)},r=function(e){var t=e.collectionId,n=e.orderBy,c=e.startAt,r=e.startAfter,l=e.where,i=e.limit,s=void 0===i?10:i,o=e.populateRef,d=void 0===o||o,u="".concat(window.location.origin,"/api/").concat(t,"?limit=").concat(s,"&populateRef=").concat(d).concat(n?"&orderBy=".concat(n):"").concat(c?"&startAt=".concat(c):r?"&startAfter=".concat(r):"").concat(l?"&where=".concat(l):"");return fetch(u,{headers:{Authorization:a()}}).then((function(e){return e.json()}))},l=function(e,t){try{return fetch(window.location.origin+"/api/".concat(e),{method:"POST",headers:{Authorization:a()},body:JSON.stringify(t)}).then((function(e){return e.json()}))}catch(n){return{error:n}}},i=function(e,t){try{return fetch(window.location.origin+"/api/".concat(e,"/").concat(t),{method:"DELETE",headers:{Authorization:a()}}).then((function(e){return e.json()}))}catch(n){return{error:n}}},s=function(e,t){try{return fetch(window.location.origin+"/api/".concat(e).concat(t?"/".concat(t):"","?populateRef=false"),{headers:{Authorization:a()}}).then((function(e){return e.json()}))}catch(n){return{error:n}}},o=function(e,t,n){try{return fetch(window.location.origin+"/api/".concat(e,"/").concat(t),{method:"PUT",headers:{Authorization:a()},body:JSON.stringify(n)}).then((function(e){return e.json()}))}catch(c){return{error:c}}}},736:function(e,t,n){"use strict";var c=n(6),a=n(10),r=n(140),l=n(0),i=n.n(l),s=n(1),o=function(e){var t=e.url,n=e.className,c=void 0===n?"":n,l=Object(r.a)(e,["url","className"]);return Object(s.jsxs)("div",Object(a.a)(Object(a.a)({},l),{},{className:"bg-white rounded-full border-2 border-white box-content "+c,children:[Object(s.jsx)("div",{className:"w-full h-full rounded-full bg-center bg-cover",style:{backgroundImage:"url(".concat(t,")")}}),Object(s.jsx)("img",{src:t,alt:"",className:"hidden"})]}))};t.a=function(e){var t=e.files,n=e.file,a=i.a.useRef(Math.random()),r=i.a.useState(-1),l=Object(c.a)(r,2),d=l[0],u=l[1];return Object(s.jsxs)("div",{className:"flex justify-center",children:[(t||(n?[n]:[])).slice(0,4).map((function(e,t){return Object(s.jsxs)("div",{style:{marginLeft:0===t?0:"-10px"},className:"relative",children:[Object(s.jsx)(o,{className:"w-7 h-7",onMouseEnter:function(){return u(t)},onMouseLeave:function(){return u(-1)},url:e}),Object(s.jsx)("div",{className:"".concat(d===t?"":"hidden"," absolute bottom-full flex justify-center w-9"),children:Object(s.jsx)(o,{url:e,className:"w-16 h-16 flex-shrink-0 -translate-y-7"})})]},"".concat(a,"-file-").concat(t))})),t&&t.length>4?Object(s.jsx)("div",{style:{marginLeft:"-10px"},className:"relative",children:Object(s.jsxs)("div",{className:"w-7 h-7 rounded-full bg-blue-300 text-sm text-white flex items-center justify-center border-2 box-content border-white",children:[t.length-4,"+"]})}):null]})}},760:function(e,t,n){"use strict";var c=n(69),a=n(70);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=(0,c(n(71)).default)(r.createElement("path",{d:"M11 18h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1zm4 6h10c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1z"}),"FilterListRounded");t.default=l},761:function(e,t,n){"use strict";var c=n(69),a=n(70);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=(0,c(n(71)).default)(r.createElement("path",{d:"M15.88 9.29L12 13.17 8.12 9.29a.9959.9959 0 00-1.41 0c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.39-1.42 0z"}),"ExpandMoreRounded");t.default=l},762:function(e,t,n){"use strict";var c=n(69),a=n(70);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=(0,c(n(71)).default)(r.createElement("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"SettingsOutlined");t.default=l},777:function(e,t,n){"use strict";var c=n(10),a=n(20),r=n(6),l=n(8),i=n.n(l),s=n(15),o=n(249),d=n(735),u=n(736),f=n(722),j=n(726),b=n.n(j),h=n(724),m=n.n(h),x=n(725),p=n(762),O=n.n(p),v=n(920),g=n(0),N=n.n(g),y=n(761),w=n.n(y),k=n(23),I=n(141),C=n(16),z=n(709),S=n(88),M=n(723),T=n(57),D=n(760),E=n.n(D),_=n(142),P=n(728),A=n(1),L=function(e){var t=e.collectionType,n=e.onValue,c=N.a.useState(!1),l=Object(r.a)(c,2),o=l[0],d=l[1],u=Object(_.a)({onSubmit:function(){var e=Object(s.a)(i.a.mark((function e(t,c){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=c.resetForm,n(t),d(!1),a();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),initialValues:{value:"",operator:"",fieldId:""},validate:function(e){var t={};return Object.keys(e).forEach((function(n){e[n]||(t[n]="Required")})),t}}),f=u.values,j=u.errors,b=u.handleChange,h=u.submitCount,m=u.handleSubmit,x=u.isSubmitting;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(T.a,{noMinWidth:!0,onClick:function(){return d(!0)},className:"bg-gray-300 hover:bg-gray-301 flex items-center justify-center",children:[Object(A.jsx)(E.a,{className:"mr-3"}),Object(A.jsx)("div",{children:"Filters"})]}),Object(A.jsx)(z.a,{open:o,children:Object(A.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex",onMouseDown:function(){return d(!1)},children:Object(A.jsxs)("div",{onMouseDown:function(e){return e.stopPropagation()},className:"bg-white rounded p-7  m-auto",children:[Object(A.jsxs)("div",{className:"flex flex-wrap -mx-2 mb-4",children:[Object(A.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(A.jsx)(P.a,{className:"mb-2",error:h>0?j.fieldId:null,children:"Field"}),Object(A.jsx)(M.a,{name:"fieldId",onChange:b,value:f.fieldId,options:[{value:"",label:"Select"}].concat(Object(a.a)(t.fields.map((function(e){return{value:e.id,label:e.id}}))))})]}),Object(A.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(A.jsx)(P.a,{className:"mb-2",error:h>0?j.operator:null,children:"Operator"}),Object(A.jsx)(M.a,{name:"operator",onChange:b,value:f.operator,options:[{value:"",label:"Select"}].concat(Object(a.a)(["<","<=","==",">",">=","!=","array-contains","array-contains-any","in","not-in"].map((function(e){return{value:e,label:e}}))))})]}),Object(A.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(A.jsx)(P.a,{className:"mb-2",error:h>0?j.value:null,children:"Value"}),Object(A.jsx)(S.a,{placeholder:["in","not in","array-contains-any"].includes(f.operator)?"value, value, value":"value",className:"placeholder-black",value:f.value,onChange:b,name:"value"})]})]}),Object(A.jsx)("div",{className:"flex justify-end",children:Object(A.jsx)(T.a,{disabled:x,onClick:function(){return m()},noMinWidth:!0,className:"bg-orange-300 hover:bg-orange-301",children:"Add"})})]})})})]})},V=n(721),R=function(e){var t=e.proceed,n=e.url;return Object(A.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex bg-black bg-opacity-40",onMouseDown:function(){return t(!1)},children:Object(A.jsxs)("div",{onMouseDown:function(e){return e.stopPropagation()},className:"bg-white rounded p-7  m-auto",children:[Object(A.jsx)("div",{className:"mb-12",children:"This query requires creating an index."}),Object(A.jsxs)("div",{className:"flex justify-between",children:[Object(A.jsx)(T.a,{noMinWidth:!0,className:"bg-blue-300 hover:bg-blue-400 text-white",onClick:function(){return t(!1)},children:"Later"}),Object(A.jsx)(T.a,{noMinWidth:!0,className:"bg-orange-300 hover:bg-orange-301",onClick:function(){window.open(n,"_blank"),t(!1)},children:"Create"})]})]})})},B=n(78),H=n(919),F=function(e){var t=e.fields,n=e.displayDocIdOnTable,c=e.proceed,l=N.a.useState([]),i=Object(r.a)(l,2),s=i[0],o=i[1],d=N.a.useState(!1),u=Object(r.a)(d,2),f=u[0],j=u[1];return N.a.useEffect((function(){o(t),n&&j(n)}),[t,n]),Object(A.jsx)("div",{style:{zIndex:999999},className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40",onMouseDown:function(){return c({fields:s,displayDocIdOnTable:f})},children:Object(A.jsxs)("div",{className:"m-auto rounded bg-white max-w-sm w-full relative p-7",onMouseDown:function(e){return e.stopPropagation()},children:[Object(A.jsxs)("div",{className:"flex flex-wrap -mx-2 mb-7",children:[null==n?null:Object(A.jsx)("div",{className:"flex w-1/2 px-2 items-center",children:Object(A.jsx)(H.a,{classes:{label:"font-poppins line-clamp-1"},control:Object(A.jsx)(v.a,{classes:{root:"text-blue-300"},className:"mr-3",checked:f,onChange:function(e){return j(e.target.checked)}}),label:"docId"})}),s.map((function(e,t){return Object(A.jsx)("div",{className:"flex w-1/2 px-2 items-center",children:Object(A.jsx)(H.a,{classes:{label:"font-poppins line-clamp-1"},control:Object(A.jsx)(v.a,{classes:{root:"text-blue-300"},className:"mr-3",checked:e.displayOnTable,onChange:function(e){return o((function(n){var c=Object(a.a)(n);return c[t].displayOnTable=e.target.checked,c}))}}),label:e.id})},"fld-".concat(t))}))]}),Object(A.jsx)("div",{className:"flex justify-center",children:Object(A.jsx)(T.a,{onClick:function(){return c({fields:s,displayDocIdOnTable:f})},className:"bg-orange-300 hover:bg-orange-301",children:"Save"})})]})})},W=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,c,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fields,c=t.displayDocIdOnTable,a=t.callback,e.next=3,Object(V.a)({Component:F,props:{fields:n,displayDocIdOnTable:c}});case 3:r=e.sent,a(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a=function(e){var t=e.collectionType,n=e.onSelect,l=e.blackList,j=void 0===l?[]:l,h=e.singleSelect,p=void 0!==h&&h,g=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W({fields:t.fields,displayDocIdOnTable:t.displayDocIdOnTable,callback:ne});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=Object(k.k)(),z=Object(B.b)(),S=N.a.useState([]),M=Object(r.a)(S,2),D=M[0],E=M[1],_=N.a.useState([]),P=Object(r.a)(_,2),H=P[0],F=P[1],J=t.fields.filter((function(e){return e.displayOnTable})),q=N.a.useState([]),U=Object(r.a)(q,2),G=U[0],K=U[1],Q=N.a.useState(),X=Object(r.a)(Q,2),Y=X[0],Z=X[1];N.a.useEffect((function(){F([])}),[Y,D]);var $=function(e){y.push("/collections/".concat(t.id,"/edit/").concat(e.docId))},ee=function(){var e=Object(s.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)({confirmation:"Do you really want to delete the document?"});case 2:if(!e.sent){e.next=5;break}Object(d.b)(t.id,n.docId),F((function(e){var t=Object(a.a)(e),c=t.findIndex((function(e){return e.docId===n.docId}));return t.splice(c,1),t}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)({confirmation:"Do you really want to delete ".concat(G.length," documents?")});case 2:if(!e.sent){e.next=6;break}G.forEach((function(e){Object(d.b)(t.id,H[e].docId)})),F((function(e){return e.filter((function(e,t){return!G.includes(t)}))})),K([]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e){var n=e.fields,a=e.displayDocIdOnTable,r=null==a||a;Object(o.d)(t.docId,Object(c.a)(Object(c.a)({},t),{},{fields:n,displayDocIdOnTable:r})),C.a.dispatch({type:"UPDATE_COLLECTION",docId:t.docId,payload:{fields:n,displayDocIdOnTable:r}})},ce=function(e){return(null===Y||void 0===Y?void 0:Y.fieldId)!==e.id?function(){Z({fieldId:e.id,direction:"asc"})}:"asc"!==(null===Y||void 0===Y?void 0:Y.direction)?function(){return Z(void 0)}:function(){return Z({fieldId:e.id,direction:"desc"})}};return Object(A.jsxs)("div",{className:"overflow-auto",children:[Object(A.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(A.jsx)(L,{collectionType:t,onValue:function(e){return E((function(t){return[e].concat(Object(a.a)(t))}))}}),n?Object(A.jsx)(T.a,{onClick:function(){return n(G.map((function(e){return H[e]})))},className:"".concat(0===G.length?"bg-gray-300 text-gray-500 cursor-default":"bg-blue-300 hover:bg-blue-400 text-white"," "),children:"Select"}):Object(A.jsx)(T.a,{onClick:te,disabled:0===G.length,className:"".concat(0===G.length?"bg-gray-300 text-gray-500 cursor-default":"bg-blue-300 hover:bg-blue-400 text-white"," "),children:"Delete"})]}),Object(A.jsx)("div",{className:"flex flex-wrap text-sm",children:D.map((function(e,t){return Object(A.jsxs)("div",{className:"text-blue-400 rounded h-34px leading-34px pl-5 pr-3 flex mr-3 mb-3 relative",children:[Object(A.jsx)("div",{className:"absolute left-0 top-0 w-full h-full bg-blue-400 opacity-10 rounded pointer-events-none"}),e.fieldId," ",e.operator," ",e.value," ",Object(A.jsx)("span",{onClick:function(){return E((function(e){var n=Object(a.a)(e);return n.splice(t,1),n}))},className:"text-xs leading-34px ml-3 cursor-pointer",children:"\u2715"})]},"f-".concat(t))}))}),Object(A.jsxs)("table",{className:"w-full text-center",style:{minWidth:142*(J.length+2)},children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{className:"bg-gray-300 h-48px rounded",children:[Object(A.jsx)("th",{className:"w-14",children:p?null:Object(A.jsx)(v.a,{size:"small",classes:{checked:"text-blue-400"},checked:G.length===H.length,onChange:function(e){return K(e.target.checked?H.map((function(e,t){return t})):[])}})}),t.displayDocIdOnTable?Object(A.jsx)("th",{className:"font-medium",children:"docId"}):null,J.map((function(e,t){return Object(A.jsx)("th",{className:"font-medium",children:Object(A.jsxs)("div",{className:"flex items-center justify-center",children:[Object(A.jsx)("div",{className:"w-5"}),Object(A.jsx)("div",{className:"cursor-pointer select-none",onClick:ce(e),children:e.id}),Object(A.jsx)("div",{className:"w-5",children:(null===Y||void 0===Y?void 0:Y.fieldId)===e.id?Object(A.jsx)(w.a,{fontSize:"small",className:"".concat("desc"===(null===Y||void 0===Y?void 0:Y.direction)?"transform rotate-180":"")}):null})]})},"th-".concat(t))})),Object(A.jsx)("th",{className:"w-20",children:Object(A.jsx)("div",{className:"flex justify-end px-2",children:Object(A.jsx)(f.a,{variant:"transparent",onClick:function(){return g()},className:"cursor-pointer",children:Object(A.jsx)(O.a,{fontSize:"small"})})})})]})}),Object(A.jsxs)("tbody",{children:[H.map((function(e,c){return j.includes(e.docId)?null:Object(A.jsxs)("tr",{onClick:function(){return $(e)},className:"h-48px hover:bg-gray-300 cursor-pointer",children:[Object(A.jsx)("td",{className:"w-14",children:Object(A.jsx)(v.a,{size:"small",classes:{checked:"text-blue-400"},checked:G.includes(c),onClick:function(e){return e.stopPropagation()},onChange:function(e){K(p?[c]:function(t){if(e.target.checked)return[].concat(Object(a.a)(t),[c]);var n=Object(a.a)(t),r=n.findIndex((function(e){return e===c}));return n.splice(r,1),n})}})}),t.displayDocIdOnTable?Object(A.jsx)("td",{children:e.docId}):null,J.map((function(t,n){return Object(A.jsx)("td",{className:"px-2",children:e[t.id]?"media"===t.type?t.mediaSingle?Object(A.jsx)(u.a,{file:e[t.id]}):Object(A.jsx)(u.a,{files:e[t.id]}):Object(A.jsx)("div",{className:"line-clamp-1",children:e[t.id].toString().substring(0,40)}):null},"row-".concat(c,"-col-").concat(n))})),Object(A.jsx)("td",{className:"w-20",children:null==n?Object(A.jsxs)("div",{className:"flex justify-end px-2",children:[Object(A.jsx)(f.a,{variant:"transparent",onClick:function(t){t.stopPropagation(),$(e)},className:"cursor-pointer",children:Object(A.jsx)(b.a,{fontSize:"small"})}),Object(A.jsx)(f.a,{variant:"transparent",className:"cursor-pointer",onClick:function(t){t.stopPropagation(),ee(e)},children:Object(A.jsx)(m.a,{fontSize:"small"})})]}):null})]},"row-".concat(c))})),Object(A.jsx)("tr",{children:Object(A.jsx)("td",{colSpan:100,children:Object(A.jsx)(x.a,{limit:10,onValue:function(e){return F((function(t){return[].concat(Object(a.a)(t),Object(a.a)(e))}))},onError:function(e){var t;e.includes("FAILED_PRECONDITION")?(t=e.split("it here:")[1],Object(V.a)({Component:R,props:{url:t}})):z(e,{variant:"error"})},fetcher:function(){var e={collectionId:t.id,where:"",orderBy:""};return D.forEach((function(t,n){e.where+=(n>0?";":"")+t.fieldId+","+t.operator+","+t.value,Y&&Y.fieldId!==t.fieldId&&(e.orderBy+=(e.orderBy?";":"")+t.fieldId)})),Y&&(e.orderBy+=(e.orderBy?";":"")+"".concat(Y.fieldId,",").concat(Y.direction)),Y||D.length||(e.orderBy="created_at,asc"),H.length&&(e.startAfter=H[H.length-1][Y?Y.fieldId:"docId"]),e.populateRef=!1,Object(d.c)(e)}},(Y?Y.fieldId+Y.direction:"no-order")+D.length)})})]}),H.length<8?null:Object(A.jsx)("tfoot",{children:Object(A.jsxs)("tr",{className:"bg-gray-300 h-48px rounded",children:[Object(A.jsx)("th",{className:"w-14",children:p?null:Object(A.jsx)(v.a,{size:"small",classes:{checked:"text-blue-400"},checked:G.length===H.length,onChange:function(e){return K(e.target.checked?H.map((function(e,t){return t})):[])}})}),t.displayDocIdOnTable?Object(A.jsx)("th",{className:"font-medium",children:"docId"}):null,J.map((function(e,t){return Object(A.jsx)("th",{className:"font-medium",children:Object(A.jsxs)("div",{className:"flex items-center justify-center",children:[Object(A.jsx)("div",{className:"w-5"}),Object(A.jsx)("div",{className:"cursor-pointer select-none",onClick:ce(e),children:e.id}),Object(A.jsx)("div",{className:"w-5",children:(null===Y||void 0===Y?void 0:Y.fieldId)===e.id?Object(A.jsx)(w.a,{fontSize:"small",className:"".concat("desc"===(null===Y||void 0===Y?void 0:Y.direction)?"transform rotate-180":"")}):null})]})},"th-".concat(t))})),Object(A.jsx)("th",{className:"w-20",children:Object(A.jsx)("div",{className:"flex justify-end px-2",children:Object(A.jsx)(f.a,{variant:"transparent",onClick:function(){return g()},className:"cursor-pointer",children:Object(A.jsx)(O.a,{fontSize:"small"})})})})]})})]})]})}},913:function(e,t,n){"use strict";n.r(t);n(0);var c=n(28),a=n(57),r=n(727),l=n.n(r),i=n(23),s=n(777),o=n(729),d=n.n(o),u=n(1);t.default=function(e){var t=e.match.params.id,n=Object(c.d)((function(e){return{collectionType:e.collectionTypes.find((function(e){return e.id===t}))}})).collectionType,r=Object(i.k)();return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"flex flex-wrap justify-between mb-7",children:[Object(u.jsx)("div",{className:"mr-3 mb-3 text-36px font-medium capitalize leading-none",children:n?Object(u.jsxs)(u.Fragment,{children:[n.name,Object(u.jsx)("div",{onClick:function(){return window.open(window.location.origin+"/api/".concat(n.id),"_blank")},className:"hover:bg-gray-301 rounded h-8 w-8 ml-3 inline-flex cursor-pointer",children:Object(u.jsx)(d.a,{className:"m-auto"})})]}):null}),Object(u.jsx)(a.a,{onClick:function(){return r.push("/collections/".concat(t,"/add"))},className:"bg-orange-300 hover:bg-orange-301 mb-3",children:Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)(l.a,{fontSize:"inherit",className:"text-lg mr-3"}),"Add new ",Object(u.jsx)("span",{className:"lowercase ml-1",children:null===n||void 0===n?void 0:n.name})]})})]}),n?Object(u.jsx)(s.a,{collectionType:n},n.id):null]})}}}]);
//# sourceMappingURL=10.9837cc9b.chunk.js.map