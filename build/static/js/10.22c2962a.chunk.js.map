{"version":3,"sources":["api/callComponent.tsx","components/Select.tsx","components/IconButton.tsx","../node_modules/@material-ui/icons/AddRounded.js","../node_modules/@material-ui/icons/DeleteOutlineOutlined.js","components/InViewFetcher.tsx","../node_modules/@material-ui/icons/EditOutlined.js","api/collections.ts","components/Label.tsx","../node_modules/@material-ui/icons/OpenInNew.js","components/TableElements/FilesCell.tsx","../node_modules/@material-ui/icons/FilterListRounded.js","../node_modules/@material-ui/icons/SettingsOutlined.js","../node_modules/@material-ui/icons/ExpandMoreRounded.js","components/TableElements/AddFilter.tsx","components/TableElements/CreateIndex.tsx","components/TableViewConfig.tsx","components/TableElements/SelectBar.tsx","components/TableElements/ActionsBar.tsx","components/TableElements/CollectionTable.tsx","pages/Collection.tsx"],"names":["callComponent","Component","props","Promise","resolve","reject","wrapper","document","getElementById","appendChild","createElement","ReactDOM","render","store","proceed","val","unmountComponentAtNode","parentNode","removeChild","WarningIcon","React","forwardRef","ref","className","size","Select","options","error","white","classNames","spellCheck","map","x","i","value","label","title","placement","IconButton","variant","rest","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","default","_default","d","InViewFetcher","fetcher","onValue","limit","onError","useState","endReached","setEndReached","onChange","inView","a","res","console","log","length","getAuthHeader","user","getState","token","getCollection","collectionId","orderBy","startAt","startAfter","where","populateRef","url","window","location","origin","fetch","headers","Authorization","then","json","addDocument","collectionType","doc","method","body","JSON","stringify","deleteDocument","docId","getDocument","updateDocument","fontSize","Label","children","Image","style","backgroundImage","src","alt","Files","files","file","id","useRef","Math","random","active","setActive","slice","f","marginLeft","onMouseEnter","onMouseLeave","AddFilterModal","open","setOpen","useFormik","onSubmit","vals","resetForm","initialValues","operator","fieldId","validate","errors","keys","forEach","values","handleChange","submitCount","handleSubmit","isSubmitting","Button","noMinWidth","onClick","Modal","onMouseDown","e","stopPropagation","name","fields","placeholder","includes","disabled","CreateIndexModal","TableViewConfig","flds","setFields","useEffect","zIndex","FormControlLabel","classes","control","Checkbox","root","checked","displayOnTable","prev","arr","target","configureView","callback","SelectBar","docs","onSelect","selected","selectAll","hoveredRow","ActionsBar","onlySelect","onEdit","onDelete","Table","blackList","_configureView","singleSelect","onConfigureView","history","useHistory","notify","useNotify","filters","setFilters","setDocs","filter","field","setSelected","setOrderBy","setHoveredRow","push","confirm","confirmation","index","findIndex","splice","onDeleteSelected","displayDocIdOnTable","display","updateCollectionType","dispatch","type","payload","onOrder","direction","undefined","AddFilter","select","autoHide","minWidth","j","mediaSingle","FilesCell","toString","substring","message","split","Collection","match","params","useSelector","state","collectionTypes","find"],"mappings":"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","file":"static/js/10.22c2962a.chunk.js","sourcesContent":["import ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"store\";\r\n\r\nexport interface CallableComponent<T> {\r\n  proceed: (v: T) => void;\r\n}\r\n\r\ninterface callComponentArgs<T> {\r\n  Component: React.FC<any>;\r\n  props: Omit<T, \"proceed\">;\r\n}\r\n\r\nexport function callComponent<T, RT>({ Component, props }: callComponentArgs<T>): Promise<RT> {\r\n  return new Promise((resolve, reject) => {\r\n    const wrapper = document.getElementById(\"root\")?.appendChild(document.createElement(\"div\"));\r\n    if (wrapper) {\r\n      ReactDOM.render(\r\n        <Provider store={store}>\r\n          <Component\r\n            {...props}\r\n            proceed={(val: RT) => {\r\n              ReactDOM.unmountComponentAtNode(wrapper);\r\n              wrapper.parentNode?.removeChild(wrapper);\r\n              resolve(val);\r\n            }}\r\n          />\r\n        </Provider>,\r\n        wrapper\r\n      );\r\n    }\r\n  });\r\n}\r\n","import { IoAlertCircleOutline } from \"react-icons/io5\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport React, { SelectHTMLAttributes } from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst WarningIcon = React.forwardRef(function MyComponent(props: any, ref: any) {\r\n  return (\r\n    <div {...props} ref={ref}>\r\n      <IoAlertCircleOutline className=\"text-red-500\" size={20}></IoAlertCircleOutline>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\r\n  className?: string;\r\n  options: { label: string; value: string | number }[];\r\n  error?: string | boolean;\r\n  white?: boolean;\r\n}\r\n\r\nconst Select: React.FC<SelectProps> = ({\r\n  className = \"\",\r\n  options,\r\n  error,\r\n  white = false,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div className={`${className} relative flex items-center`}>\r\n      <select\r\n        className={classNames(\"px-3 h-34px border-2 border-solid w-full rounded outline-none\", {\r\n          \"border-red-400\": error,\r\n          \"focus:border-blue-300\": !error,\r\n          \"border-gray-300 bg-gray-300\": !white,\r\n          \"border-white bg-white\": white,\r\n        })}\r\n        {...props}\r\n        spellCheck={false}\r\n      >\r\n        {options.map((x, i) => (\r\n          <option key={\"opt-\" + i} value={x.value}>\r\n            {x.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      {error ? (\r\n        <Tooltip title={error} placement=\"top\">\r\n          <WarningIcon className=\"absolute right-2 my-auto w-auto\"></WarningIcon>\r\n        </Tooltip>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import ButtonBase from \"@material-ui/core/ButtonBase\";\r\n\r\nexport type IconButtonVariant = \"transparent\" | \"standard\";\r\n\r\nexport interface IconButtonProps {\r\n  className?: string;\r\n  variant?: IconButtonVariant;\r\n  [x: string]: any;\r\n}\r\n\r\nconst IconButton: React.FC<IconButtonProps> = ({\r\n  className = \"\",\r\n  variant = \"standard\",\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <ButtonBase\r\n      {...rest}\r\n      className={\r\n        `outline-none h-26px w-26px rounded ${\r\n          variant === \"standard\"\r\n            ? \"bg-orange-300 hover:bg-orange-301\"\r\n            : \"hover:bg-black hover:bg-opacity-5\"\r\n        }  ` + className\r\n      }\r\n    ></ButtonBase>\r\n  );\r\n};\r\n\r\nexport default IconButton;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z\"\n}), 'AddRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z\"\n}), 'DeleteOutlineOutlined');\n\nexports.default = _default;","import Loader from \"components/Loader\";\r\nimport { InView } from \"react-intersection-observer\";\r\nimport React from \"react\";\r\n\r\nexport interface InViewFetcherProps {\r\n  fetcher: () => Promise<Array<any> | { error: any }>;\r\n  onValue: (a: Array<any>) => void;\r\n  onError?: (val: string) => void;\r\n  limit: number;\r\n}\r\n\r\nconst InViewFetcher: React.FC<InViewFetcherProps> = ({\r\n  fetcher,\r\n  onValue,\r\n  limit,\r\n  onError = () => {},\r\n}) => {\r\n  const [endReached, setEndReached] = React.useState(false);\r\n  return (\r\n    <InView\r\n      className=\"w-full\"\r\n      onChange={async (inView) => {\r\n        if (inView && !endReached) {\r\n          let res = await fetcher();\r\n          console.log(\"fetch response\", res);\r\n          if (!(\"error\" in res)) {\r\n            onValue(res);\r\n            if (!res.length || res.length < limit) {\r\n              setEndReached(true);\r\n            }\r\n          } else {\r\n            onError(res.error);\r\n            setEndReached(true);\r\n          }\r\n        }\r\n      }}\r\n    >\r\n      {!endReached ? (\r\n        <div className=\"flex justify-center py-3\">\r\n          <Loader size=\"small\"></Loader>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </InView>\r\n  );\r\n};\r\n\r\nexport default InViewFetcher;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z\"\n}), 'EditOutlined');\n\nexports.default = _default;","import store from \"store\";\r\n\r\nconst getAuthHeader = () => {\r\n  const user = store.getState().user;\r\n  const token = user ? user.token : null;\r\n  return \"Bearer \" + token;\r\n};\r\n\r\nexport interface Document {\r\n  docId: string;\r\n  created_at: string;\r\n  [index: string]: any;\r\n}\r\n\r\nexport interface GetCollectionOptions {\r\n  collectionId: string;\r\n  orderBy?: string;\r\n  startAt?: number | string;\r\n  startAfter?: number | string;\r\n  where?: string;\r\n  limit?: number;\r\n  populateRef?: boolean;\r\n}\r\n\r\nexport const getCollection = ({\r\n  collectionId,\r\n  orderBy,\r\n  startAt,\r\n  startAfter,\r\n  where,\r\n  limit = 10,\r\n  populateRef = true,\r\n}: GetCollectionOptions) => {\r\n  const url = `${\r\n    window.location.origin\r\n  }/api/${collectionId}?limit=${limit}&populateRef=${populateRef}${\r\n    orderBy ? `&orderBy=${orderBy}` : \"\"\r\n  }${startAt ? `&startAt=${startAt}` : startAfter ? `&startAfter=${startAfter}` : \"\"}${\r\n    where ? `&where=${where}` : \"\"\r\n  }`;\r\n  return fetch(url, { headers: { Authorization: getAuthHeader() } }).then((x) => x.json());\r\n};\r\n\r\nexport const addDocument = (collectionType: string, doc: { [index: string]: any }) => {\r\n  try {\r\n    return fetch(window.location.origin + `/api/${collectionType}`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getAuthHeader() },\r\n      body: JSON.stringify(doc),\r\n    }).then((x) => x.json());\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n};\r\n\r\nexport const deleteDocument = (collectionType: string, docId: string) => {\r\n  try {\r\n    return fetch(window.location.origin + `/api/${collectionType}/${docId}`, {\r\n      method: \"DELETE\",\r\n      headers: { Authorization: getAuthHeader() },\r\n    }).then((x) => x.json());\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n};\r\n\r\nexport const getDocument = (collectionId: string, docId: string) => {\r\n  try {\r\n    return fetch(\r\n      window.location.origin + `/api/${collectionId}${docId ? `/${docId}` : \"\"}?populateRef=false`,\r\n      {\r\n        headers: { Authorization: getAuthHeader() },\r\n      }\r\n    ).then((x) => x.json());\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n};\r\n\r\nexport const updateDocument = (\r\n  collectionType: string,\r\n  docId: string,\r\n  doc: { [index: string]: any }\r\n) => {\r\n  try {\r\n    return fetch(window.location.origin + `/api/${collectionType}/${docId}`, {\r\n      method: \"PUT\",\r\n      headers: { Authorization: getAuthHeader() },\r\n      body: JSON.stringify(doc),\r\n    }).then((x) => x.json());\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ErrorRounded from \"@material-ui/icons/ErrorRounded\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nexport interface LabelProps {\r\n  error?: string | undefined | null;\r\n  className?: string;\r\n  children: any;\r\n}\r\n\r\nconst WarningIcon = React.forwardRef(function MyComponent(props: any, ref: any) {\r\n  return (\r\n    <div {...props} ref={ref}>\r\n      <ErrorRounded className=\"text-red-500 text-xl\" fontSize=\"inherit\"></ErrorRounded>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst Label: React.FC<LabelProps> = ({ className = \"\", children, error }) => {\r\n  return (\r\n    <div className={`flex justify-between relative ${className}`}>\r\n      <div>{children}</div>\r\n      {error ? (\r\n        <Tooltip title={error} placement=\"top\">\r\n          <WarningIcon className=\"absolute right-2 my-auto w-auto\"></WarningIcon>\r\n        </Tooltip>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Label;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'OpenInNew');\n\nexports.default = _default;","import React from \"react\";\r\n\r\nconst Image = ({ url, className = \"\", ...rest }: { url: string; [index: string]: any }) => {\r\n  return (\r\n    <div\r\n      {...rest}\r\n      className={\"bg-white rounded-full border-2 border-white box-content \" + className}\r\n    >\r\n      <div\r\n        className={\"w-full h-full rounded-full bg-center bg-cover\"}\r\n        style={{ backgroundImage: `url(${url})` }}\r\n      ></div>\r\n      <img src={url} alt=\"\" className=\"hidden\"></img>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport interface FilesProps {\r\n  files?: string[];\r\n  file?: string;\r\n}\r\n\r\nconst Files: React.FC<FilesProps> = ({ files, file }) => {\r\n  const id = React.useRef<number>(Math.random());\r\n  const [active, setActive] = React.useState(-1);\r\n\r\n  return (\r\n    <div className=\"flex justify-center\">\r\n      {(files ? files : file ? [file] : []).slice(0, 4).map((f, i) => (\r\n        <div\r\n          key={`${id}-file-${i}`}\r\n          style={{ marginLeft: i === 0 ? 0 : \"-10px\" }}\r\n          className=\"relative\"\r\n        >\r\n          <Image\r\n            className=\"w-7 h-7\"\r\n            onMouseEnter={() => setActive(i)}\r\n            onMouseLeave={() => setActive(-1)}\r\n            url={f}\r\n          ></Image>\r\n          <div\r\n            className={`${\r\n              active === i ? \"\" : \"hidden\"\r\n            } absolute bottom-full flex justify-center w-9`}\r\n          >\r\n            <Image url={f} className=\"w-16 h-16 flex-shrink-0 -translate-y-7\"></Image>\r\n          </div>\r\n        </div>\r\n      ))}\r\n      {files && files.length > 4 ? (\r\n        <div style={{ marginLeft: \"-10px\" }} className=\"relative\">\r\n          <div className=\"w-7 h-7 rounded-full bg-blue-300 text-sm text-white flex items-center justify-center border-2 box-content border-white\">\r\n            {files.length - 4}+\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Files;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 18h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1zm4 6h10c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1z\"\n}), 'FilterListRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z\"\n}), 'SettingsOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.88 9.29L12 13.17 8.12 9.29a.9959.9959 0 00-1.41 0c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.39-1.42 0z\"\n}), 'ExpandMoreRounded');\n\nexports.default = _default;","import Modal from \"@material-ui/core/Modal\";\r\nimport Input from \"components/GrayInput\";\r\nimport Select from \"components/Select\";\r\nimport Button from \"components/Button\";\r\nimport { CollectionType } from \"api/collectionTypes\";\r\nimport React from \"react\";\r\nimport FilterListRounded from \"@material-ui/icons/FilterListRounded\";\r\nimport { useFormik } from \"formik\";\r\nimport Label from \"components/Label\";\r\n\r\nexport interface AddFilterModalProps {\r\n  collectionType: CollectionType;\r\n  onValue: Function;\r\n}\r\n\r\nconst AddFilterModal: React.FC<AddFilterModalProps> = ({ collectionType, onValue }) => {\r\n  const operators = [\r\n    \"<\",\r\n    \"<=\",\r\n    \"==\",\r\n    \">\",\r\n    \">=\",\r\n    \"!=\",\r\n    \"array-contains\",\r\n    \"array-contains-any\",\r\n    \"in\",\r\n    \"not-in\",\r\n  ];\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const { values, errors, handleChange, submitCount, handleSubmit, isSubmitting } = useFormik({\r\n    onSubmit: async (vals, { resetForm }) => {\r\n      onValue(vals);\r\n      setOpen(false);\r\n      resetForm();\r\n    },\r\n    initialValues: {\r\n      value: \"\",\r\n      operator: \"\",\r\n      fieldId: \"\",\r\n    },\r\n    validate: (vals: any) => {\r\n      let errors: any = {};\r\n      Object.keys(vals).forEach((x) => {\r\n        if (!vals[x]) {\r\n          errors[x] = \"Required\";\r\n        }\r\n      });\r\n      return errors;\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        noMinWidth\r\n        onClick={() => setOpen(true)}\r\n        className=\"bg-gray-301 hover:bg-gray-302 flex items-center justify-center\"\r\n      >\r\n        <FilterListRounded className=\"mr-3\"></FilterListRounded>\r\n        <div>Filters</div>\r\n      </Button>\r\n      <Modal open={open}>\r\n        <div className=\"fixed left-0 top-0 w-full h-full flex\" onMouseDown={() => setOpen(false)}>\r\n          <div onMouseDown={(e) => e.stopPropagation()} className=\"bg-white rounded p-7  m-auto\">\r\n            <div className=\"flex flex-wrap -mx-2 mb-4\">\r\n              <div className=\"sm:w-1/3 w-full mb-3 px-2\">\r\n                <Label className=\"mb-2\" error={submitCount > 0 ? errors.fieldId : null}>\r\n                  Field\r\n                </Label>\r\n                <Select\r\n                  name=\"fieldId\"\r\n                  onChange={handleChange}\r\n                  value={values.fieldId}\r\n                  options={[\r\n                    { value: \"\", label: \"Select\" },\r\n                    ...collectionType.fields.map((x) => ({ value: x.id, label: x.id })),\r\n                  ]}\r\n                ></Select>\r\n              </div>\r\n              <div className=\"sm:w-1/3 w-full mb-3 px-2\">\r\n                <Label className=\"mb-2\" error={submitCount > 0 ? errors.operator : null}>\r\n                  Operator\r\n                </Label>\r\n                <Select\r\n                  name=\"operator\"\r\n                  onChange={handleChange}\r\n                  value={values.operator}\r\n                  options={[\r\n                    { value: \"\", label: \"Select\" },\r\n                    ...operators.map((x) => ({ value: x, label: x })),\r\n                  ]}\r\n                ></Select>\r\n              </div>\r\n              <div className=\"sm:w-1/3 w-full mb-3 px-2\">\r\n                <Label className=\"mb-2\" error={submitCount > 0 ? errors.value : null}>\r\n                  Value\r\n                </Label>\r\n                <Input\r\n                  placeholder={\r\n                    [\"in\", \"not in\", \"array-contains-any\"].includes(values.operator)\r\n                      ? \"value, value, value\"\r\n                      : \"value\"\r\n                  }\r\n                  className=\"placeholder-black\"\r\n                  value={values.value}\r\n                  onChange={handleChange}\r\n                  name=\"value\"\r\n                ></Input>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end\">\r\n              <Button\r\n                disabled={isSubmitting}\r\n                onClick={() => handleSubmit()}\r\n                noMinWidth\r\n                className=\"bg-orange-300 hover:bg-orange-301\"\r\n              >\r\n                Add\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddFilterModal;\r\n","import { callComponent } from \"api/callComponent\";\r\nimport Button from \"components/Button\";\r\n\r\nexport interface CreateIndexModalProps {\r\n  proceed: Function;\r\n  url: string;\r\n}\r\n\r\nconst CreateIndexModal: React.FC<CreateIndexModalProps> = ({ proceed, url }) => {\r\n  return (\r\n    <div\r\n      className=\"fixed left-0 top-0 w-full h-full flex bg-black bg-opacity-40\"\r\n      onMouseDown={() => proceed(false)}\r\n    >\r\n      <div onMouseDown={(e) => e.stopPropagation()} className=\"bg-white rounded p-7  m-auto\">\r\n        <div className=\"mb-12\">This query requires creating an index.</div>\r\n        <div className=\"flex justify-between\">\r\n          <Button\r\n            noMinWidth\r\n            className=\"bg-blue-300 hover:bg-blue-400 text-white\"\r\n            onClick={() => proceed(false)}\r\n          >\r\n            Later\r\n          </Button>\r\n          <Button\r\n            noMinWidth\r\n            className=\"bg-orange-300 hover:bg-orange-301\"\r\n            onClick={() => {\r\n              window.open(url, \"_blank\");\r\n              proceed(false);\r\n            }}\r\n          >\r\n            Create\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateIndexModal;\r\n\r\nexport const createIndex = (url: string) => {\r\n  callComponent<CreateIndexModalProps, boolean>({ Component: CreateIndexModal, props: { url } });\r\n};\r\n","import { FieldType } from \"api/collectionTypes\";\r\nimport Button from \"components/Button\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport React from \"react\";\r\nimport { CallableComponent, callComponent } from \"api/callComponent\";\r\n\r\nexport interface TableViewConfigProps extends CallableComponent<{ fields: FieldType[] }> {\r\n  fields: FieldType[];\r\n}\r\n\r\nconst TableViewConfig: React.FC<TableViewConfigProps> = ({ fields, proceed }) => {\r\n  const [flds, setFields] = React.useState<FieldType[]>([]);\r\n\r\n  React.useEffect(() => {\r\n    setFields(fields);\r\n  }, [fields]);\r\n  return (\r\n    <div\r\n      style={{ zIndex: 999999 }}\r\n      className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40\"\r\n      onMouseDown={() => proceed({ fields: flds })}\r\n    >\r\n      <div\r\n        className=\"m-auto rounded bg-white max-w-sm w-full relative p-7\"\r\n        onMouseDown={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"flex flex-wrap -mx-2 mb-7\">\r\n          {flds.map((x, i) => (\r\n            <div className=\"flex w-1/2 px-2 items-center\" key={`fld-${i}`}>\r\n              <FormControlLabel\r\n                classes={{ label: \"font-poppins line-clamp-1\" }}\r\n                control={\r\n                  <Checkbox\r\n                    classes={{ root: \"text-blue-300\" }}\r\n                    className=\"mr-3\"\r\n                    checked={x.displayOnTable}\r\n                    onChange={(e) =>\r\n                      setFields((prev) => {\r\n                        let arr = [...prev];\r\n                        arr[i].displayOnTable = e.target.checked;\r\n                        return arr;\r\n                      })\r\n                    }\r\n                  ></Checkbox>\r\n                }\r\n                label={x.id}\r\n              ></FormControlLabel>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"flex justify-center\">\r\n          <Button\r\n            onClick={() => proceed({ fields: flds })}\r\n            className=\"bg-orange-300 hover:bg-orange-301\"\r\n          >\r\n            Save\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableViewConfig;\r\n\r\nexport const configureView = async ({\r\n  fields,\r\n  callback,\r\n}: {\r\n  fields: FieldType[];\r\n  callback: (a: { fields: FieldType[] }) => void;\r\n}) => {\r\n  const res = await callComponent<TableViewConfigProps, { fields: FieldType[] }>({\r\n    Component: TableViewConfig,\r\n    props: {\r\n      fields,\r\n    },\r\n  });\r\n  callback(res);\r\n};\r\n","import Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { Document } from \"api/collections\";\r\nimport classNames from \"classnames\";\r\n\r\nexport interface SelectBarProps {\r\n  docs: Document[];\r\n  onSelect: (docId: string, checked: boolean) => void;\r\n  selected: string[];\r\n  selectAll: (select: boolean) => void;\r\n  hoveredRow: number;\r\n}\r\n\r\nconst SelectBar: React.FC<SelectBarProps> = ({\r\n  docs,\r\n  onSelect,\r\n  selected,\r\n  selectAll,\r\n  hoveredRow,\r\n}) => {\r\n  return (\r\n    <div className=\"absolute left-0 top-0 z-10\">\r\n      <div className=\"h-48px bg-gray-301 flex items-center w-12 justify-center\">\r\n        <Checkbox\r\n          size=\"small\"\r\n          classes={{ checked: \"text-blue-400\" }}\r\n          checked={selected.length === docs.length}\r\n          onChange={(e) => selectAll(e.target.checked)}\r\n        ></Checkbox>\r\n      </div>\r\n      {docs.map((x, i) => (\r\n        <div\r\n          className={classNames(\"h-48px flex items-center w-12 justify-center\", {\r\n            \"bg-gray-301\": hoveredRow === i,\r\n            \"bg-white\": hoveredRow !== i,\r\n          })}\r\n          key={`checkbox-${x.docId}`}\r\n        >\r\n          <Checkbox\r\n            size=\"small\"\r\n            classes={{ checked: \"text-blue-400\" }}\r\n            checked={selected.includes(x.docId)}\r\n            onClick={(e) => e.stopPropagation()}\r\n            onChange={(e) => onSelect(x.docId, e.target.checked)}\r\n          ></Checkbox>\r\n        </div>\r\n      ))}\r\n      {/* {docs.length <= 8 ? null : (\r\n        <div className=\"h-48px bg-gray-301 flex items-center w-12 justify-center\">\r\n          <Checkbox\r\n            size=\"small\"\r\n            classes={{ checked: \"text-blue-400\" }}\r\n            checked={selected.length === docs.length}\r\n            onChange={(e) => selectAll(e.target.checked)}\r\n          ></Checkbox>\r\n        </div>\r\n      )} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectBar;\r\n","import { Document } from \"api/collections\";\r\nimport SettingsRounded from \"@material-ui/icons/SettingsOutlined\";\r\nimport IconButton from \"components/IconButton\";\r\nimport EditRounded from \"@material-ui/icons/EditOutlined\";\r\nimport DeleteRounded from \"@material-ui/icons/DeleteOutlineOutlined\";\r\nimport classNames from \"classnames\";\r\n\r\nexport interface ActionsBarProps {\r\n  configureView: () => void;\r\n  docs: Document[];\r\n  onlySelect?: boolean;\r\n  onEdit: (doc: Document) => void;\r\n  onDelete: (doc: Document) => void;\r\n  hoveredRow: number;\r\n}\r\n\r\nconst ActionsBar: React.FC<ActionsBarProps> = ({\r\n  configureView,\r\n  docs,\r\n  onlySelect = false,\r\n  onEdit,\r\n  onDelete,\r\n  hoveredRow,\r\n}) => {\r\n  return (\r\n    <div className=\"absolute top-0 right-3 z-10\">\r\n      <div className=\"h-48px bg-gray-301\">\r\n        <div className=\"flex justify-end px-2 items-center h-full\">\r\n          <IconButton\r\n            variant=\"transparent\"\r\n            onClick={() => configureView()}\r\n            className=\"cursor-pointer\"\r\n          >\r\n            <SettingsRounded fontSize=\"small\"></SettingsRounded>\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n      {docs.map((x, i) => (\r\n        <div\r\n          className={classNames(\r\n            \"h-48px bg-white\",\r\n            { \"bg-gray-301\": hoveredRow === i },\r\n            { \"bg-white\": hoveredRow !== i }\r\n          )}\r\n        >\r\n          {!onlySelect ? (\r\n            <div className=\"flex justify-end px-2 items-center h-full\">\r\n              <IconButton\r\n                variant=\"transparent\"\r\n                onClick={(e: MouseEvent) => {\r\n                  e.stopPropagation();\r\n                  onEdit(x);\r\n                }}\r\n                className=\"cursor-pointer\"\r\n              >\r\n                <EditRounded fontSize=\"small\"></EditRounded>\r\n              </IconButton>\r\n              <IconButton\r\n                variant=\"transparent\"\r\n                className=\"cursor-pointer\"\r\n                onClick={(e: MouseEvent) => {\r\n                  e.stopPropagation();\r\n                  onDelete(x);\r\n                }}\r\n              >\r\n                <DeleteRounded fontSize=\"small\"></DeleteRounded>\r\n              </IconButton>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      ))}\r\n      {/* {docs.length <= 8 ? null : (\r\n        <div className=\"h-48px bg-gray-301\">\r\n          <div className=\"flex justify-end px-2 items-center h-full\">\r\n            <IconButton\r\n              variant=\"transparent\"\r\n              onClick={() => configureView()}\r\n              className=\"cursor-pointer\"\r\n            >\r\n              <SettingsRounded fontSize=\"small\"></SettingsRounded>\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n      )} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActionsBar;\r\n","import { Document } from \"api/collections\";\r\nimport { CollectionType, FieldType, updateCollectionType } from \"api/collectionTypes\";\r\nimport { getCollection, GetCollectionOptions, deleteDocument } from \"api/collections\";\r\nimport FilesCell from \"./FilesCell\";\r\nimport InViewFetcher from \"components/InViewFetcher\";\r\nimport React from \"react\";\r\nimport ExpandMoreRounded from \"@material-ui/icons/ExpandMoreRounded\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport store from \"store\";\r\nimport AddFilter from \"./AddFilter\";\r\nimport { createIndex } from \"./CreateIndex\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport Button from \"components/Button\";\r\nimport { configureView } from \"components/TableViewConfig\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport SelectBar from \"./SelectBar\";\r\nimport ActionsBar from \"./ActionsBar\";\r\nimport classNames from \"classnames\";\r\n\r\nexport interface TableProps {\r\n  collectionType: CollectionType;\r\n  onSelect?: (a: Document[]) => void;\r\n  blackList?: string[];\r\n  singleSelect?: boolean;\r\n}\r\n\r\nconst Table: React.FC<TableProps> = ({\r\n  collectionType,\r\n  onSelect,\r\n  blackList = [],\r\n  singleSelect = false,\r\n}) => {\r\n  const _configureView = async () => {\r\n    configureView({\r\n      fields: collectionType.fields,\r\n      callback: onConfigureView,\r\n    });\r\n  };\r\n\r\n  const history = useHistory();\r\n  const notify = useNotify();\r\n  type filterType = { fieldId: string; operator: string; value: string };\r\n  const [filters, setFilters] = React.useState<filterType[]>([]);\r\n\r\n  const [docs, setDocs] = React.useState<Document[]>([]);\r\n\r\n  const fields = collectionType.fields.filter((field) => field.displayOnTable);\r\n  const [selected, setSelected] = React.useState<string[]>([]);\r\n  const [orderBy, setOrderBy] = React.useState<{ fieldId: string; direction: \"asc\" | \"desc\" }>();\r\n  const [hoveredRow, setHoveredRow] = React.useState(-1);\r\n\r\n  React.useEffect(() => {\r\n    setDocs([]);\r\n  }, [orderBy, filters]);\r\n\r\n  const onEdit = (doc: Document) => {\r\n    history.push(`/collections/${collectionType.id}/edit/${doc.docId}`);\r\n  };\r\n\r\n  const onDelete = async (doc: Document) => {\r\n    if (await confirm({ confirmation: \"Do you really want to delete the document?\" })) {\r\n      deleteDocument(collectionType.id, doc.docId);\r\n      setDocs((prev) => {\r\n        let arr = [...prev];\r\n        const index = arr.findIndex((x) => x.docId === doc.docId);\r\n        arr.splice(index, 1);\r\n        return arr;\r\n      });\r\n    }\r\n  };\r\n\r\n  const onDeleteSelected = async () => {\r\n    if (\r\n      await confirm({ confirmation: `Do you really want to delete ${selected.length} documents?` })\r\n    ) {\r\n      selected.forEach((x) => {\r\n        deleteDocument(collectionType.id, x);\r\n      });\r\n      setDocs((prev) => prev.filter((x) => !selected.includes(x.docId)));\r\n      setSelected([]);\r\n    }\r\n  };\r\n\r\n  const onConfigureView = ({\r\n    fields,\r\n    displayDocIdOnTable,\r\n  }: {\r\n    fields: FieldType[];\r\n    displayDocIdOnTable?: boolean;\r\n  }) => {\r\n    const display = displayDocIdOnTable != null ? displayDocIdOnTable : true;\r\n    updateCollectionType(collectionType.docId, {\r\n      ...collectionType,\r\n      fields,\r\n    });\r\n\r\n    store.dispatch({\r\n      type: \"UPDATE_COLLECTION\",\r\n      docId: collectionType.docId,\r\n      payload: { fields, displayDocIdOnTable: display },\r\n    });\r\n  };\r\n\r\n  const onOrder = (field: FieldType) =>\r\n    orderBy?.fieldId !== field.id\r\n      ? () => {\r\n          setOrderBy({ fieldId: field.id, direction: \"asc\" });\r\n        }\r\n      : orderBy?.direction !== \"asc\"\r\n      ? () => setOrderBy(undefined)\r\n      : () => setOrderBy({ fieldId: field.id, direction: \"desc\" });\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between mb-3\">\r\n        <AddFilter\r\n          collectionType={collectionType}\r\n          onValue={(val: filterType) => setFilters((prev) => [val, ...prev])}\r\n        ></AddFilter>\r\n        {!onSelect ? (\r\n          <Button\r\n            noMinWidth\r\n            onClick={onDeleteSelected}\r\n            disabled={selected.length === 0}\r\n            className={`px-10 ${\r\n              selected.length === 0\r\n                ? \"bg-gray-301 text-gray-500 cursor-default\"\r\n                : \"bg-blue-300 hover:bg-blue-400 text-white\"\r\n            } `}\r\n          >\r\n            Delete\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            onClick={() => onSelect(docs.filter((x) => selected.includes(x.docId)))}\r\n            className={`${\r\n              selected.length === 0\r\n                ? \"bg-gray-301 text-gray-500 cursor-default\"\r\n                : \"bg-blue-300 hover:bg-blue-400 text-white\"\r\n            } `}\r\n          >\r\n            Select\r\n          </Button>\r\n        )}\r\n      </div>\r\n      <div className=\"flex flex-wrap text-sm\">\r\n        {filters.map((f, i) => (\r\n          <div\r\n            key={`f-${i}`}\r\n            className=\"text-blue-400 rounded h-34px leading-34px pl-5 pr-3 flex mr-3 mb-3 relative\"\r\n          >\r\n            <div className=\"absolute left-0 top-0 w-full h-full bg-blue-400 opacity-10 rounded pointer-events-none\"></div>\r\n            {f.fieldId} {f.operator} {f.value}{\" \"}\r\n            <span\r\n              onClick={() =>\r\n                setFilters((prev) => {\r\n                  let arr = [...prev];\r\n                  arr.splice(i, 1);\r\n                  return arr;\r\n                })\r\n              }\r\n              className=\"text-xs leading-34px ml-3 cursor-pointer\"\r\n            >\r\n              \r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <SimpleBar className=\"relative scrollbar-dark md:max-h-40vw max-h-96 -mr-3\">\r\n        <SelectBar\r\n          hoveredRow={hoveredRow}\r\n          docs={docs}\r\n          onSelect={(docId, checked) => {\r\n            if (checked) {\r\n              setSelected((prev) => [...prev, docId]);\r\n              return;\r\n            }\r\n            setSelected((prev) => {\r\n              let arr = [...prev];\r\n              let index = arr.findIndex((x) => x === docId);\r\n              if (index != null) {\r\n                arr.splice(index, 1);\r\n              }\r\n              return arr;\r\n            });\r\n          }}\r\n          selectAll={(select) => setSelected(select ? docs.map((x) => x.docId) : [])}\r\n          selected={selected}\r\n        ></SelectBar>\r\n        <ActionsBar\r\n          hoveredRow={hoveredRow}\r\n          docs={docs}\r\n          onEdit={onEdit}\r\n          onDelete={onDelete}\r\n          onlySelect={onSelect != null}\r\n          configureView={_configureView}\r\n        ></ActionsBar>\r\n\r\n        <SimpleBar className=\"overflow-auto fireck-table pb-3 mr-3\" autoHide={false}>\r\n          <table className=\"w-full text-center\" style={{ minWidth: (fields.length + 2) * 142 }}>\r\n            <thead>\r\n              <tr className=\"bg-gray-301 h-48px rounded\">\r\n                <th className=\"w-12\">\r\n                  <div className=\"w-12\"></div>\r\n                </th>\r\n                {fields.map((field, i) => (\r\n                  <th className=\"font-medium\" key={`th-${i}`}>\r\n                    <div className=\"flex items-center justify-center\">\r\n                      <div className=\"w-5\"></div>\r\n                      <div className=\"cursor-pointer select-none\" onClick={onOrder(field)}>\r\n                        {field.id}\r\n                      </div>\r\n                      <div className=\"w-5\">\r\n                        {orderBy?.fieldId === field.id ? (\r\n                          <ExpandMoreRounded\r\n                            fontSize=\"small\"\r\n                            className={`${\r\n                              orderBy?.direction === \"desc\" ? \"transform rotate-180\" : \"\"\r\n                            }`}\r\n                          ></ExpandMoreRounded>\r\n                        ) : null}\r\n                      </div>\r\n                    </div>\r\n                  </th>\r\n                ))}\r\n                <th className=\"w-20\">\r\n                  <div className=\"w-20\"></div>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {docs.map((doc, i) =>\r\n                blackList.includes(doc.docId) ? null : (\r\n                  <tr\r\n                    onMouseEnter={() => setHoveredRow(i)}\r\n                    onMouseLeave={() => setHoveredRow(-1)}\r\n                    onClick={() => onEdit(doc)}\r\n                    key={`row-${i}`}\r\n                    className={classNames(\"h-48px cursor-pointer\", {\r\n                      \"bg-gray-301\": hoveredRow === i,\r\n                    })}\r\n                  >\r\n                    <td className=\"w-12\">\r\n                      <div className=\"w-12\"></div>\r\n                    </td>\r\n\r\n                    {fields.map((field, j) => (\r\n                      <td key={`row-${i}-col-${j}`} className=\"px-2\">\r\n                        {doc[field.id] ? (\r\n                          field.type === \"media\" ? (\r\n                            field.mediaSingle ? (\r\n                              <FilesCell file={doc[field.id]}></FilesCell>\r\n                            ) : (\r\n                              <FilesCell files={doc[field.id]} />\r\n                            )\r\n                          ) : (\r\n                            <div className=\"whitespace-nowrap\">\r\n                              {doc[field.id].toString().substring(0, 40)}\r\n                            </div>\r\n                          )\r\n                        ) : null}\r\n                      </td>\r\n                    ))}\r\n                    <td className=\"w-20\">\r\n                      <div className=\"w-20\"></div>\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              )}\r\n            </tbody>\r\n          </table>\r\n          <InViewFetcher\r\n            key={(orderBy ? orderBy.fieldId + orderBy.direction : \"no-order\") + filters.length}\r\n            limit={10}\r\n            onValue={(vals) => setDocs((prev) => [...prev, ...vals])}\r\n            onError={(message: string) => {\r\n              if (message.includes(\"FAILED_PRECONDITION\")) {\r\n                createIndex(message.split(\"it here:\")[1]);\r\n              } else {\r\n                notify(message, { variant: \"error\" });\r\n              }\r\n            }}\r\n            fetcher={() => {\r\n              let options: GetCollectionOptions = { collectionId: collectionType.id };\r\n\r\n              options.where = \"\";\r\n              options.orderBy = \"\";\r\n\r\n              filters.forEach((f, i) => {\r\n                options.where += (i > 0 ? \";\" : \"\") + f.fieldId + \",\" + f.operator + \",\" + f.value;\r\n                if (orderBy && orderBy.fieldId !== f.fieldId) {\r\n                  options.orderBy += (options.orderBy ? \";\" : \"\") + f.fieldId;\r\n                }\r\n              });\r\n\r\n              if (orderBy) {\r\n                options.orderBy +=\r\n                  (options.orderBy ? \";\" : \"\") + `${orderBy.fieldId},${orderBy.direction}`;\r\n              }\r\n              if (!orderBy && !filters.length) {\r\n                options.orderBy = \"createdAt,asc\";\r\n              }\r\n\r\n              if (docs.length) {\r\n                options.startAfter = docs[docs.length - 1][orderBy ? orderBy.fieldId : \"createdAt\"];\r\n              }\r\n              options.populateRef = false;\r\n              return getCollection(options);\r\n            }}\r\n          ></InViewFetcher>\r\n        </SimpleBar>\r\n        <div></div>\r\n      </SimpleBar>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport Button from \"components/Button\";\r\nimport AddRounded from \"@material-ui/icons/AddRounded\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Table from \"components/TableElements/CollectionTable\";\r\nimport OpenInNew from \"@material-ui/icons/OpenInNew\";\r\n\r\ntype CollectionParams = { id: string };\r\nexport interface CollectionProps extends RouteComponentProps<CollectionParams> {}\r\n\r\nconst Collection: React.FC<CollectionProps> = ({ match }) => {\r\n  const id = match.params.id;\r\n  const { collectionType } = useSelector((state: RootState) => {\r\n    return {\r\n      collectionType: state.collectionTypes.find((x) => x.id === id),\r\n    };\r\n  });\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-wrap justify-between mb-7\">\r\n        <div className=\"mr-3 mb-3 text-36px font-medium capitalize leading-none\">\r\n          {!collectionType ? null : (\r\n            <>\r\n              {collectionType.name}\r\n              <div\r\n                onClick={() =>\r\n                  window.open(window.location.origin + `/api/${collectionType.id}`, \"_blank\")\r\n                }\r\n                className=\"hover:bg-gray-301 rounded h-8 w-8 ml-3 inline-flex cursor-pointer\"\r\n              >\r\n                <OpenInNew className=\"m-auto\"></OpenInNew>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n        <Button\r\n          onClick={() => history.push(`/collections/${id}/add`)}\r\n          className=\"bg-orange-300 hover:bg-orange-301 mb-3\"\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <AddRounded fontSize=\"inherit\" className=\"text-lg mr-3\"></AddRounded>\r\n            Add new <span className=\"lowercase ml-1\">{collectionType?.name}</span>\r\n          </div>\r\n        </Button>\r\n      </div>\r\n\r\n      {collectionType ? (\r\n        <Table key={collectionType.id} collectionType={collectionType}></Table>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Collection;\r\n"],"sourceRoot":""}