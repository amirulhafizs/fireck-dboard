(this["webpackJsonpfirebase-cms1"]=this["webpackJsonpfirebase-cms1"]||[]).push([[12],{719:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(10),a=n(45),c=n.n(a),i=(n(0),n(31)),l=n(16),o=n(1);function s(e){var t=e.Component,n=e.props;return new Promise((function(e,a){var s,d=null===(s=document.getElementById("root"))||void 0===s?void 0:s.appendChild(document.createElement("div"));d&&c.a.render(Object(o.jsx)(i.a,{store:l.a,children:Object(o.jsx)(t,Object(r.a)(Object(r.a)({},n),{},{proceed:function(t){var n;c.a.unmountComponentAtNode(d),null===(n=d.parentNode)||void 0===n||n.removeChild(d),e(t)}}))}),d)}))}},721:function(e,t,n){"use strict";var r=n(10),a=n(140),c=n(709),i=n(1);t.a=function(e){var t=e.className,n=void 0===t?"":t,l=e.variant,o=void 0===l?"standard":l,s=Object(a.a)(e,["className","variant"]);return Object(i.jsx)(c.a,Object(r.a)(Object(r.a)({},s),{},{className:"outline-none h-26px w-26px rounded ".concat("standard"===o?"bg-orange-300 hover:bg-orange-301":"hover:bg-black hover:bg-opacity-5","  ")+n}))}},722:function(e,t,n){"use strict";var r=n(140),a=n(10),c=n(248),i=n(669),l=n(0),o=n.n(l),s=n(1),d=o.a.forwardRef((function(e,t){return Object(s.jsx)("div",Object(a.a)(Object(a.a)({},e),{},{ref:t,children:Object(s.jsx)(c.b,{className:"text-red-500",size:20})}))}));t.a=function(e){var t=e.className,n=void 0===t?"":t,c=e.options,l=e.error,o=Object(r.a)(e,["className","options","error"]);return Object(s.jsxs)("div",{className:"".concat(n," relative flex items-center"),children:[Object(s.jsx)("select",Object(a.a)(Object(a.a)({className:"px-3 h-34px border-2 border-solid w-full rounded outline-none ".concat(l?"border-red-400":"focus:border-blue-300  border-gray-300 bg-gray-300")},o),{},{spellCheck:!1,children:c.map((function(e,t){return Object(s.jsx)("option",{value:e.value,children:e.label},"opt-"+t)}))})),l?Object(s.jsx)(i.a,{title:l,placement:"top",children:Object(s.jsx)(d,{className:"absolute right-2 my-auto w-auto"})}):null]})}},727:function(e,t,n){"use strict";var r=n(10),a=n(0),c=n.n(a),i=n(253),l=n.n(i),o=n(669),s=n(1),d=c.a.forwardRef((function(e,t){return Object(s.jsx)("div",Object(r.a)(Object(r.a)({},e),{},{ref:t,children:Object(s.jsx)(l.a,{className:"text-red-500 text-xl",fontSize:"inherit"})}))}));t.a=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,a=e.error;return Object(s.jsxs)("div",{className:"flex justify-between relative ".concat(n),children:[Object(s.jsx)("div",{children:r}),a?Object(s.jsx)(o.a,{title:a,placement:"top",children:Object(s.jsx)(d,{className:"absolute right-2 my-auto w-auto"})}):null]})}},741:function(e,t,n){"use strict";var r=n(906),a=n(713),c=n(1),i=Object(a.a)({switchBase:{"&$checked":{color:getComputedStyle(document.documentElement).getPropertyValue("--primary-darker")},"&$checked + $track":{backgroundColor:getComputedStyle(document.documentElement).getPropertyValue("--primary-darker")}},checked:{},track:{}})(r.a);t.a=function(e){var t=e.value,n=e.onChange;return Object(c.jsx)(i,{checked:t,onChange:function(e){return n(e.target.checked)}})}},743:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,a,c,i=n(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){var n=e.title,s=e.titleId,d=o(e,["title","titleId"]);return i.createElement("svg",l({width:40,height:9,viewBox:"0 0 40 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},d),n?i.createElement("title",{id:s},n):null,r||(r=i.createElement("path",{d:"M9.36621 4.67223H30.7241M30.7241 4.67223L28.3085 2.25659M30.7241 4.67223L28.3085 7.08786",stroke:"black",strokeWidth:1.37296,strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=i.createElement("circle",{cx:4.69562,cy:4.49835,r:3.31773,stroke:"black",strokeWidth:1.37296})),c||(c=i.createElement("circle",{cx:35.3948,cy:4.49835,r:3.31773,stroke:"black",strokeWidth:1.37296})))}var d=i.forwardRef(s);n.p},744:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,a,c,i,l,o=n(0);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){var n=e.title,u=e.titleId,b=d(e,["title","titleId"]);return o.createElement("svg",s({width:40,height:37,viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":u},b),n?o.createElement("title",{id:u},n):null,r||(r=o.createElement("path",{d:"M10.5875 18.8431L30.4119 7.39751M30.4119 7.39751L26.8752 6.44984M30.4119 7.39751L29.4643 10.9342",stroke:"black",strokeWidth:1.47153,strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=o.createElement("path",{d:"M10.5873 18.8433L30.4117 30.2889M30.4117 30.2889L29.4641 26.7522M30.4117 30.2889L26.875 31.2366",stroke:"black",strokeWidth:1.47153,strokeLinecap:"round",strokeLinejoin:"round"})),c||(c=o.createElement("circle",{cx:5.00165,cy:18.7858,r:3.55593,stroke:"black",strokeWidth:1.47153})),i||(i=o.createElement("circle",{cx:35.2653,cy:32.5311,r:3.55593,stroke:"black",strokeWidth:1.47153})),l||(l=o.createElement("circle",{cx:35.2653,cy:5.15558,r:3.55593,stroke:"black",strokeWidth:1.47153})))}var b=o.forwardRef(u);n.p},751:function(e,t,n){"use strict";var r=n(6),a=n(2),c=n(4),i=n(0),l=(n(3),n(12)),o=n(702),s=n(14),d=n(146),u=n(777),b=n(13),j=n(24),p=n(47),f=n(709),m=n(19),x=n(666),O=n(703);function h(e){return Object(x.a)("MuiIconButton",e)}var v=Object(O.a)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","label"]),g=n(1),y=Object(s.a)(f.a,{},{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.styleProps;return Object(a.a)({},t.root,"default"!==n.color&&t["color".concat(Object(m.a)(n.color))],n.edge&&t["edge".concat(Object(m.a)(n.edge))],t["size".concat(Object(m.a)(n.size))])}})((function(e){var t=e.theme,n=e.styleProps;return Object(a.a)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(p.a)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.styleProps;return Object(a.a)({},"inherit"===n.color&&{color:"inherit"},"primary"===n.color&&{color:t.palette.primary.main,"&:hover":{backgroundColor:Object(p.a)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"secondary"===n.color&&{color:t.palette.secondary.main,"&:hover":{backgroundColor:Object(p.a)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"small"===n.size&&{padding:3,fontSize:t.typography.pxToRem(18)},Object(b.a)({},"&.".concat(v.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),w=Object(s.a)("span",{},{name:"MuiIconButton",slot:"Label",overridesResolver:function(e,t){return t.label}})({width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}),N=i.forwardRef((function(e,t){var n=Object(j.a)({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,s=n.children,d=n.className,u=n.color,b=void 0===u?"default":u,p=n.disabled,f=void 0!==p&&p,x=n.disableFocusRipple,O=void 0!==x&&x,v=n.size,N=void 0===v?"medium":v,k=Object(c.a)(n,["edge","children","className","color","disabled","disableFocusRipple","size"]),C=Object(a.a)({},n,{edge:i,color:b,disabled:f,disableFocusRipple:O,size:N}),I=function(e){var t=e.classes,n=e.disabled,r=e.color,a=e.edge,c=e.size,i={root:["root",n&&"disabled","default"!==r&&"color".concat(Object(m.a)(r)),a&&"edge".concat(Object(m.a)(a)),"size".concat(Object(m.a)(c))],label:["label"]};return Object(o.a)(i,h,t)}(C);return Object(g.jsx)(y,Object(a.a)({className:Object(l.a)(I.root,d),centerRipple:!0,focusRipple:!O,disabled:f,ref:t,styleProps:C},k,{children:Object(g.jsx)(w,{className:I.label,styleProps:C,children:s})}))}));function k(e){return Object(x.a)("PrivateSwitchBase",e)}Object(O.a)("PrivateSwitchBase",["root","checked","disabled","input"]);var C=Object(s.a)(N)({padding:9}),I=Object(s.a)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),S=i.forwardRef((function(e,t){var n=e.autoFocus,i=e.checked,s=e.checkedIcon,b=e.className,j=e.defaultChecked,p=e.disabled,f=e.icon,m=e.id,x=e.inputProps,O=e.inputRef,h=e.name,v=e.onBlur,y=e.onChange,w=e.onFocus,N=e.readOnly,S=e.required,F=e.tabIndex,E=e.type,z=e.value,B=Object(c.a)(e,["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),L=Object(d.a)({controlled:i,default:Boolean(j),name:"SwitchBase",state:"checked"}),P=Object(r.a)(L,2),T=P[0],R=P[1],D=Object(u.a)(),V=p;D&&"undefined"===typeof V&&(V=D.disabled);var M="checkbox"===E||"radio"===E,H=Object(a.a)({},e,{checked:T,disabled:V}),A=function(e){var t=e.classes,n={root:["root",e.checked&&"checked",e.disabled&&"disabled"],input:["input"]};return Object(o.a)(n,k,t)}(H);return Object(g.jsxs)(C,Object(a.a)({component:"span",className:Object(l.a)(A.root,b),disabled:V,tabIndex:null,role:void 0,onFocus:function(e){w&&w(e),D&&D.onFocus&&D.onFocus(e)},onBlur:function(e){v&&v(e),D&&D.onBlur&&D.onBlur(e)},styleProps:H,ref:t},B,{children:[Object(g.jsx)(I,Object(a.a)({autoFocus:n,checked:i,defaultChecked:j,className:A.input,disabled:V,id:M&&m,name:h,onChange:function(e){e.nativeEvent.defaultPrevented||(R(e.target.checked),y&&y(e))},readOnly:N,ref:O,required:S,styleProps:H,tabIndex:F,type:E,value:z},x)),T?s:f]}))}));t.a=S},777:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=r.createContext();var c=a;function i(){return r.useContext(c)}},789:function(e,t,n){"use strict";n.r(t),n.d(t,"reorder",(function(){return Ee}));var r=n(20),a=n(10),c=n(7),i=n.n(c),l=n(15),o=n(6),s=n(69),d=n(248),u=n(0),b=n.n(u),j=n(249),p=n(31),f=n(733),m=n.n(f),x=n(725),O=n.n(x),h=n(723),v=n.n(h),g=n(708),y=n(86),w=n(741),N=n(96),k=n(247),C=n(141),I=n(140),S=n(1),F=function(e){var t=e.className,n=void 0===t?"":t,r=e.options,c=e.value,i=e.setValue,l=e.disabled,o=Object(I.a)(e,["className","options","value","setValue","disabled"]);return Object(S.jsx)("div",Object(a.a)(Object(a.a)({className:"flex -mx-2 flex-wrap sm:flex-nowrap mb-10 "+n},o),{},{children:r.map((function(e,t){return Object(S.jsx)("div",{onClick:function(){return i(e.value)},className:"sm:w-1/2 w-full mx-2 mb-3 sm:mb-0 py-7 select-none ".concat(l?"cursor-default":"cursor-pointer"," flex items-center justify-center rounded ").concat(c===e.value?"border-4 border-orange-300":"bg-gray-300 ".concat(l?"":"hover:bg-gray-301")),children:Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)("div",{className:e.icon?"mr-7":"",children:e.label}),e.icon?Object(S.jsx)(e.icon,{}):null]})},e.value)}))}))};var E,z=function(e){for(var t,n,r="",a=0;a<e.length;a++)" "===e[a]?r+="-":a>0&&e[a-1].toLowerCase()===e[a-1]&&" "!==e[a-1]&&e[a].toUpperCase()===e[a]&&!((n=e[a])>="0"&&n<="9")&&(1===(t=e[a]).length&&t.match(/[a-z]/i))?r+="-"+e[a].toLowerCase():r+=e[a].toLowerCase();return r},B=function(e){var t=e.open,n=e.onClose,r=e.collections,c=e.editingCollectionIndex,o=Object(N.b)(),d=c>=0?r[c]:{name:"",id:"",single:!1,draftable:!0,fields:[],size:0,lastIndex:0,docId:"",displayDocIdOnTable:!0},u=Object(C.a)({enableReinitialize:!0,onSubmit:function(){var e=Object(l.a)(i.a.mark((function e(t,r){var l,s,d,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.resetForm,s=z(t.name),!(c>-1)){e.next=8;break}return e.next=5,Object(j.d)(b.docId,Object(a.a)(Object(a.a)({},b),{},{id:s}));case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Object(j.a)(Object(a.a)(Object(a.a)({},b),{},{id:s}));case 10:e.t0=e.sent;case 11:d=e.t0,u=c>-1?"updated":"created",d.error?o("Collection type was not "+u,{variant:"error"}):(l(),n(),o("Collection type "+u+"!",{variant:"success"}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),initialValues:d,validate:function(e){var t={};if(e.name){var n=z(e.name),a=r.findIndex((function(e){return e.id===n}));-1!==a&&a!==c&&(t.name="There is collection with the same name")}else t.name="Collection name is required";return t}}),b=u.values,p=u.errors,f=u.handleSubmit,m=u.handleChange,x=u.setFieldValue,O=u.isSubmitting,h=u.submitCount;return Object(S.jsx)(g.a,{open:t,hideBackdrop:!0,children:Object(S.jsx)("div",{className:"w-full h-full flex overflow-auto bg-black bg-opacity-40",children:Object(S.jsxs)("div",{className:"m-auto rounded bg-white max-w-644px w-full p-9",children:[Object(S.jsxs)("div",{className:"text-22px font-medium mb-12",children:[c>-1?"Edit":"Create"," collection type"]}),Object(S.jsxs)("div",{className:"flex flex-wrap mb-7",children:[Object(S.jsxs)("div",{className:"mb-3 sm:w-1/2 w-full sm:pr-2",children:[Object(S.jsx)("div",{className:"mb-2",children:"Collection name"}),Object(S.jsx)(y.a,{error:!!(h>0&&p.name)&&p.name,value:b.name,name:"name",onChange:m})]}),Object(S.jsxs)("div",{className:"mb-3 sm:w-1/2 w-full sm:pl-2",children:[Object(S.jsx)("div",{className:"mb-2",children:"UID"}),Object(S.jsx)(y.a,{disabled:!0,value:z(b.name),name:"id"})]})]}),Object(S.jsx)(F,{disabled:-1!==c,value:b.single,options:[{value:!1,label:"Multiple elements"},{value:!0,label:"Single element"}],setValue:function(e){return-1===c?x("single",e):{}}}),Object(S.jsxs)("div",{className:"mb-10",children:[Object(S.jsx)("div",{className:"mb-2",children:"Draft-publish system"}),Object(S.jsx)(w.a,{value:b.draftable,onChange:function(e){return x("draftable",e)}})]}),c>-1?Object(S.jsx)(s.a,{onClick:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)({confirmation:"Do you really want to delete collection type?"});case 2:if(!e.sent){e.next=8;break}return e.next=5,Object(j.b)(r[c].docId);case 5:e.sent.error?o("Collection type was not deleted",{variant:"error"}):o("Collection type deleted!",{variant:"success"}),n();case 8:case"end":return e.stop()}}),e)}))),className:"border-2 border-red-500 text-red-500 mb-10 hover:bg-red-500 hover:text-white",children:"Delete collection"}):null,Object(S.jsxs)("div",{className:"flex justify-between",children:[Object(S.jsx)(s.a,{onClick:function(){return n()},className:"bg-blue-300 hover:bg-blue-400 text-white",children:"Cancel"}),Object(S.jsx)(s.a,{disabled:O,onClick:function(){return f()},className:"bg-orange-300 hover:bg-orange-301",children:O?"Loading...":"Submit"})]})]})})})},L=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium",children:"Ab"})},P=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium",children:"123"})},T=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium",children:"{ }"})},R=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium",children:"[ ]"})},D=n(753),V=n.n(D),M=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium",children:Object(S.jsx)(V.a,{fontSize:"inherit",className:"text-lg"})})},H=n(754),A=n.n(H),_=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-orange-300 text-center leading-28px text-xs font-medium",children:Object(S.jsx)(A.a,{fontSize:"inherit",className:"text-base"})})},W=n(755),J=n.n(W),q=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-blue-300 text-white text-center leading-28px text-xs font-medium",children:Object(S.jsx)(J.a,{fontSize:"inherit",className:"text-base"})})},U=n(756),Z=n.n(U),$=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-blue-300 text-white text-center leading-28px text-xs font-medium",children:Object(S.jsx)(Z.a,{fontSize:"inherit",className:"text-base"})})},Y=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-blue-300 text-center text-white leading-28px text-xs font-medium",children:"JSON"})},G=n(757),K=n.n(G),Q=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-blue-300 text-center text-white leading-28px text-xs font-medium",children:Object(S.jsx)(K.a,{fontSize:"inherit",className:"text-xl"})})},X=n(257),ee=n.n(X),te=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-blue-300 text-white text-center leading-28px text-xs font-medium",children:Object(S.jsx)(ee.a,{fontSize:"inherit",className:"text-base"})})},ne=n(742),re=n.n(ne),ae=function(){return Object(S.jsx)("div",{className:"w-42px rounded h-28px bg-blue-300 text-white text-center leading-28px text-xs font-medium",children:Object(S.jsx)(re.a,{fontSize:"inherit",className:"text-xl"})})};function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function le(e,t){var n=e.title,r=e.titleId,a=ie(e,["title","titleId"]);return u.createElement("svg",ce({width:16,height:16,viewBox:"0 0 19 19",fill:"white",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?u.createElement("title",{id:r},n):null,E||(E=u.createElement("path",{d:"M0.570312 0.778809H6.57031V4.77881H0.570312V0.778809ZM12.5703 7.77881H18.5703V11.7788H12.5703V7.77881ZM12.5703 14.7788H18.5703V18.7788H12.5703V14.7788ZM10.5703 10.7788H4.57031V15.7788H10.5703V17.7788H4.57031H2.57031V6.77881H4.57031V8.77881H10.5703V10.7788Z",fill:"white"})))}var oe=u.forwardRef(le),se=(n.p,[{type:"string",Badge:L},{type:"number",Badge:P},{type:"map",Badge:T},{type:"array",Badge:R},{type:"boolean",Badge:M},{type:"date",Badge:_},{type:"media",Badge:q},{type:"rich-text",Badge:$},{type:"json",Badge:Y},{type:"enum",Badge:Q},{type:"password",Badge:te},{type:"relation",Badge:ae},{type:"collection",Badge:function(){return Object(S.jsx)("div",{className:"flex-shrink-0 flex w-42px rounded h-28px bg-blue-300 text-white text-center leading-28px text-xs font-medium",children:Object(S.jsx)(oe,{className:"m-auto"})})}}]),de=n(722),ue=n(743),be=n(744),je=n(727),pe=n(745),fe=n.n(pe),me=n(721),xe=n(719),Oe=function(e){var t=e.proceed,n=b.a.useState("string"),r=Object(o.a)(n,2),a=r[0],c=r[1];return Object(S.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40",children:Object(S.jsxs)("div",{className:"m-auto rounded bg-white p-9 max-w-600px w-full",children:[Object(S.jsx)("div",{className:"text-22px font-medium mb-9",children:"Select field type"}),Object(S.jsx)("div",{className:"mb-12",children:Object(S.jsx)("div",{className:"flex flex-wrap",children:se.map((function(e,t){return Object(S.jsxs)("div",{onClick:function(){return c(e.type)},className:"flex md:w-1/3 sm:w-1/2 w-full select-none p-4 border-4 border-solid border-white items-center cursor-pointer rounded  ".concat(a===e.type?"border-orange-300":"hover:border-gray-300 hover:bg-gray-300"),children:[Object(S.jsx)(e.Badge,{}),Object(S.jsx)("span",{className:"capitalize ml-2 line-clamp-1",children:e.type.replace("-"," ")})]},"field-type-".concat(t))}))})}),Object(S.jsxs)("div",{className:"flex justify-between",children:[Object(S.jsx)(s.a,{onClick:function(){t(!1)},className:"bg-blue-300 hover:bg-blue-400 text-white",children:"Cancel"}),Object(S.jsx)(s.a,{onClick:function(){t(a)},className:"bg-orange-300 hover:bg-orange-301",children:"Submit"})]})]})})},he=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,c,l,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.editableField,r=t.existingFieldNames,!n){e.next=5;break}e.t0=n.type,e.next=8;break;case 5:return e.next=7,Object(xe.a)({Component:Oe,props:{}});case 7:e.t0=e.sent;case 8:if("boolean"!==typeof(c=e.t0)){e.next=11;break}return e.abrupt("return",null);case 11:return l=c,e.next=14,Object(xe.a)({Component:ge,props:{fieldType:l,editableField:n,existingFieldNames:r}});case 14:if("boolean"!==typeof(o=e.sent)){e.next=17;break}return e.abrupt("return",null);case 17:return e.abrupt("return",Object(a.a)(Object(a.a)({},o),{},{type:c}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=n(731),ge=function(e){var t,n=e.editableField,c=e.existingFieldNames,d=e.proceed,u=e.fieldType,j={id:"",mediaSingle:!1,enumOptions:[],relatedCollectionTypeDocId:"",relationOneToOne:!0,displayOnTable:!0,stringLong:!1,collectionFields:[]},f=Object(C.a)({onSubmit:function(e){d(e)},initialValues:n?Object(a.a)(Object(a.a)({},j),n):j,validate:function(e){var t={};return e.id?c&&c.findIndex((function(t){return t===e.id}))>-1&&(t.id="There is field with the same name"):t.id="Field name is required","enum"===u&&e.enumOptions.length<2&&(t.enumOptions="Enum requires at least two options"),"relation"===u&&""===e.relatedCollectionTypeDocId&&(t.relatedCollectionTypeDocId="Select related collection"),t}}),m=f.values,x=f.errors,h=f.handleChange,g=f.handleSubmit,w=f.setFieldValue,N=f.submitCount,I=b.a.useState(""),E=Object(o.a)(I,2),z=E[0],B=E[1],L=se.find((function(e){return e.type===u})),P=Object(p.d)((function(e){return e.collectionTypes})),T=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:n=Ee(m.collectionFields,t.source.index,t.destination.index),w("collectionFields",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40",children:Object(S.jsxs)("div",{className:"m-auto rounded bg-white p-9 max-w-600px w-full",children:[Object(S.jsxs)("div",{className:"text-22px font-medium mb-9 flex items-center",children:[L?Object(S.jsx)(L.Badge,{}):null,Object(S.jsxs)("span",{className:"ml-3",children:[n?"Edit":"Add"," ",L?L.type:""," field"]})]}),Object(S.jsxs)("div",{className:"mb-9",children:[Object(S.jsx)("div",{className:"mb-2",children:"Field name"}),Object(S.jsx)(y.a,{error:N>0?x.id:"",value:m.id,name:"id",onChange:h})]}),"media"===u?Object(S.jsx)(F,{options:[{value:!1,label:"Multiple media"},{value:!0,label:"Single media"}],value:m.mediaSingle,setValue:function(e){return w("mediaSingle",e)}}):"enum"===u?Object(S.jsxs)("div",{className:"mb-10",children:[Object(S.jsx)("div",{className:"mb-2",children:"Options"}),Object(S.jsx)("div",{className:"flex flex-wrap",children:m.enumOptions.map((function(e,t){return Object(S.jsxs)("div",{className:"bg-gray-300 rounded flex items-center px-3 h-34px mr-3 mb-3",children:[Object(S.jsx)("div",{className:"mr-4",children:e}),Object(S.jsx)("div",{className:"cursor-pointer text-xs",onClick:function(){var e=Object(r.a)(m.enumOptions);e.splice(t,1),w("enumOptions",e)},children:"\u2715"})]},"enum-option-".concat(t))}))}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)(y.a,{className:"mr-3",error:N>0?null===(t=x.enumOptions)||void 0===t?void 0:t.toString():"",type:"text",value:z,onChange:function(e){return B(e.target.value)}}),Object(S.jsx)(s.a,{onClick:function(){if(z){var e=Object(r.a)(m.enumOptions);e.push(z),w("enumOptions",e),B("")}},className:"bg-orange-300 hover:bg-orange-301",children:"Add option"})]})]}):"relation"===u?Object(S.jsxs)("div",{className:"mb-10",children:[Object(S.jsxs)("div",{className:"mb-9",children:[Object(S.jsx)(je.a,{error:N>0?x.relatedCollectionTypeDocId:"",className:"mb-2",children:"Related collection"}),Object(S.jsx)(de.a,{options:[{value:"",label:"Select"}].concat(Object(r.a)(P.map((function(e){return{label:e.id,value:e.docId}})))),value:m.relatedCollectionTypeDocId,onChange:function(e){return w("relatedCollectionTypeDocId",e.target.value)}})]}),Object(S.jsx)("div",{className:"mb-2",children:"Relation type"}),Object(S.jsx)(F,{value:m.relationOneToOne,setValue:function(e){return w("relationOneToOne",e)},options:[{value:!0,label:"One to one",icon:ue.a},{value:!1,label:"One to many",icon:be.a}]})]}):"string"===u?Object(S.jsx)(F,{value:m.stringLong,setValue:function(e){return w("stringLong",e)},options:[{label:"Short text",value:!1},{label:"Long text",value:!0}]}):"collection"===u?Object(S.jsxs)("div",{className:"mb-9",children:[Object(S.jsxs)("div",{className:"flex mb-2",children:[Object(S.jsx)("div",{className:"mr-2",children:"Fields"}),Object(S.jsx)(fe.a,{className:"cursor-pointer",onClick:Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he({existingFieldNames:m.collectionFields.map((function(e){return e.id}))});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:n=[].concat(Object(r.a)(m.collectionFields),[t]),w("collectionFields",n);case 7:case"end":return e.stop()}}),e)})))})]}),Object(S.jsx)(ve.a,{onDragEnd:T,children:Object(S.jsx)(ve.c,{droppableId:"droppable-sub",children:function(e,t){return Object(S.jsxs)("div",Object(a.a)(Object(a.a)({className:" max-h-247px overflow-auto"},e.droppableProps),{},{ref:e.innerRef,children:[m.collectionFields.map((function(e,t){var n,c=null===(n=se.find((function(t){return t.type===e.type})))||void 0===n?void 0:n.Badge;return Object(S.jsx)(ve.b,{draggableId:e.id+1,index:t,children:function(n,o){return Object(S.jsxs)("div",Object(a.a)(Object(a.a)(Object(a.a)({className:"rounded bg-gray-300 px-3 py-2 flex mb-2 items-center",ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:[Object(S.jsx)("div",{className:"line-clamp-1 w-5/12 px-3",children:e.id}),Object(S.jsxs)("div",{className:"flex w-4/12 flex-shrink-0",children:[c?Object(S.jsx)(c,{}):null,Object(S.jsx)("span",{className:"ml-3 hidden sm:block line-clamp-1",children:e.type})]}),Object(S.jsxs)("div",{className:"flex items-center flex-grow justify-end",children:[Object(S.jsx)(me.a,{variant:"transparent",onClick:Object(l.a)(i.a.mark((function n(){var c,l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,he({editableField:e,existingFieldNames:m.collectionFields.map((function(e){return e.id})).filter((function(t){return t!==e.id}))});case 2:if(c=n.sent){n.next=5;break}return n.abrupt("return");case 5:(l=Object(r.a)(m.collectionFields))[t]=Object(a.a)(Object(a.a)({},e),c),w("collectionFields",l);case 8:case"end":return n.stop()}}),n)}))),children:Object(S.jsx)(O.a,{fontSize:"small"})}),Object(S.jsx)(me.a,{variant:"transparent",onClick:Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)({confirmation:"Do you really want to delete the field?"});case 2:e.sent&&((n=Object(r.a)(m.collectionFields)).splice(t,1),w("collectionFields",n));case 4:case"end":return e.stop()}}),e)}))),children:Object(S.jsx)(v.a,{fontSize:"small"})})]})]}),"field-".concat(t))}},e.id)})),e.placeholder]}))}})})]}):null,Object(S.jsxs)("div",{className:"flex justify-between",children:[Object(S.jsx)(s.a,{onClick:function(){d(!1)},className:"bg-blue-300 hover:bg-blue-400 text-white",children:"Cancel"}),Object(S.jsx)(s.a,{type:"submit",onClick:function(){return g()},className:"bg-orange-300 hover:bg-orange-301",children:"Submit"})]})]})})},ye=n(746),we=n.n(ye),Ne=n(758),ke=n.n(Ne),Ce=function(e){return new Array(e).fill(0).reduce((function(e,t){return e+" "}),"")},Ie=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.length?"{\n".concat(t.reduce((function(t,a){return t+"".concat(Ce(n)).concat(a.id.includes(" ")?'"'.concat(a.id,'"'):a.id,": ").concat(e(a,n+r),";\n")}),"")).concat(Ce(n-r)).concat(a?"}[]":"}"):a?"any[]":"null"},c={password:function(){return"string"},string:function(){return"string"},"rich-text":function(){return"string"},json:function(){return"object"},map:function(){return"object"},array:function(){return"any[]"},media:function(e){return e.mediaSingle?"string":"string[]"},date:function(){return"string"},enum:function(){return"string[]"},number:function(){return"number"},boolean:function(){return"boolean"},relation:function(e){return e.relationOneToOne?"string":"string[]"},collection:function(e){return a(e.collectionFields,!0)},document:function(e){return a(e.documentFields)},script:function(){return"object"},"script-V2":function(){return"object"}};return"".concat(c[t.type](t))},Se=function(e){var t={type:"document",documentFields:e.fields};return"interface Document ".concat(Ie(t,3))},Fe=function(e){var t=e.open,n=e.collectionType,r=e.onClose;return n?Object(S.jsx)(g.a,{open:t,hideBackdrop:!0,children:Object(S.jsx)("div",{className:"fixed left-0 top-0 w-full h-full overflow-auto flex bg-black bg-opacity-40",onClick:r,children:Object(S.jsxs)("div",{className:"bg-white p-7 m-auto rounded-md md:max-w-lg max-w-sm w-full",onClick:function(e){return e.stopPropagation()},children:[Object(S.jsxs)("div",{className:"mb-7 text-22px capitalize font-medium",children:[n.name," interface"]}),Object(S.jsx)("div",{className:"rounded bg-gray-300 p-7 overflow-auto",children:Object(S.jsx)("pre",{children:Se(n)})})]})})}):null},Ee=function(e,t,n){var r=Array.from(e),a=r.splice(t,1),c=Object(o.a)(a,1)[0];return r.splice(n,0,c),r};t.default=function(){var e=b.a.useState(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],u=Object(p.c)(),f=Object(N.b)(),x=b.a.useState(-1),h=Object(o.a)(x,2),g=h[0],y=h[1],w=b.a.useState(0),C=Object(o.a)(w,2),I=C[0],F=C[1],E=b.a.useState(),z=Object(o.a)(E,2),L=z[0],P=z[1],T=Object(p.d)((function(e){return{user:e.user,collections:e.collectionTypes}})),R=T.user,D=T.collections,V=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.c)(R.token);case 3:(t=e.sent).error||(t.length!==D.length&&F(0),u({type:"SET_COLLECTION_TYPES",payload:t})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();b.a.useEffect((function(){V()}),[R,n]);var M=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D[I],e.next=3,Object(xe.a)({Component:ge,props:{fieldType:t,editableField:r.fields[n]}});case 3:if("boolean"===typeof(c=e.sent)){e.next=13;break}return(l=JSON.parse(JSON.stringify(r.fields)))[n]=Object(a.a)({},c),u({type:"UPDATE_COLLECTION_FIELDS",payload:l,docId:r.docId}),e.next=10,Object(j.d)(r.docId,Object(a.a)(Object(a.a)({},r),{},{fields:l}));case 10:if(e.sent.error){e.next=13;break}return e.abrupt("return",{success:!0});case 13:return e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,c,l,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D[I],e.next=3,Object(xe.a)({Component:Oe,props:{}});case 3:if("boolean"===typeof(n=e.sent)){e.next=22;break}return c=n,e.next=8,Object(xe.a)({Component:ge,props:{fieldType:c,existingFieldNames:t.fields.map((function(e){return e.id}))}});case 8:if(l=e.sent,console.log("res1",l),"boolean"===typeof l){e.next=22;break}return o=[].concat(Object(r.a)(t.fields),[Object(a.a)({type:c},l)]),u({type:"UPDATE_COLLECTION_FIELDS",payload:o,docId:t.docId}),e.next=15,Object(j.d)(t.docId,Object(a.a)(Object(a.a)({},t),{},{fields:o}));case 15:if(e.sent.error){e.next=21;break}return f("Field added!",{variant:"success"}),e.abrupt("return",{success:!0});case 21:f("Field was not added",{variant:"error"});case 22:return e.abrupt("return",{success:!1});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:n=Ee(D[I].fields,t.source.index,t.destination.index),r=D[I],u({type:"UPDATE_COLLECTION_FIELDS",payload:n,docId:r.docId}),Object(j.d)(r.docId,Object(a.a)(Object(a.a)({},r),{},{fields:n}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"flex flex-wrap justify-between mb-6",children:[Object(S.jsx)("div",{className:"font-medium text-36px leading-none mb-4 mr-4",children:"Collections"}),Object(S.jsx)(s.a,{onClick:function(){return c(!0)},className:"bg-orange-300 hover:bg-orange-301 mb-4",children:Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)(d.a,{className:"mr-3",size:18}),Object(S.jsx)("span",{children:"Add new collection"})]})})]}),Object(S.jsxs)("div",{className:"flex flex-wrap lg:flex-nowrap",children:[Object(S.jsx)("div",{className:"max-w-192px mb-3 mr-4 block lg:hidden w-full",children:Object(S.jsx)(de.a,{onChange:function(e){return F(parseInt(e.target.value))},value:I,options:D.map((function(e,t){return{label:e.name,value:t}}))})}),Object(S.jsx)("div",{className:"min-w-192px flex-shrink-0 mr-4 hidden lg:block",children:D.map((function(e,t){return Object(S.jsx)("div",{onClick:function(){return F(t)},className:"mb-1 capitalize cursor-pointer ".concat(I===t?"bg-orange-300":"hover:bg-gray-300"," rounded h-34px leading-34px px-3"),children:e.name},"collection-".concat(t))}))}),D.length?Object(S.jsxs)("div",{className:"lg:flex-grow w-full rounded bg-gray-300 p-7",children:[Object(S.jsxs)("div",{className:"flex justify-between mb-3 flex-wrap",children:[Object(S.jsxs)("div",{className:"font-medium text-22px capitalize mb-3 mr-3",children:[I<D.length?D[I].name:"",Object(S.jsx)(m.a,{onClick:function(){y(I),c(!0)},className:"ml-3 text-lg cursor-pointer",fontSize:"inherit"})]}),Object(S.jsxs)("div",{className:"flex flex-wrap",children:[Object(S.jsx)(s.a,{onClick:function(){return P(D[I])},noMinWidth:!0,className:"bg-blue-300 hover:bg-blue-400 text-white mr-3 mb-3",children:Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)(ke.a,{className:"mr-3"}),"Interface"]})}),Object(S.jsx)(s.a,{onClick:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H();case 1:case"end":return e.stop()}}),e)}))),className:" bg-blue-300 hover:bg-blue-400 text-white mb-3",children:Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)(d.a,{className:"mr-3",size:18}),Object(S.jsx)("span",{children:"Add new field"})]})})]})]}),Object(S.jsx)(ve.a,{onDragEnd:A,children:Object(S.jsx)(ve.c,{droppableId:"droppable",children:function(e,t){return Object(S.jsx)("div",Object(a.a)(Object(a.a)({className:"overflow-auto w-full"},e.droppableProps),{},{ref:e.innerRef,children:Object(S.jsxs)("div",{className:"min-w-430px",children:[I<D.length?D[I].fields.map((function(e,t){var n,r=null===(n=se.find((function(t){return t.type===e.type})))||void 0===n?void 0:n.Badge;return Object(S.jsx)(ve.b,{draggableId:e.id,index:t,children:function(n,c){return Object(S.jsxs)("div",Object(a.a)(Object(a.a)(Object(a.a)({className:"rounded bg-white px-3 py-2 flex mb-2 items-center",ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:[Object(S.jsx)(we.a,{className:"text-gray-400"}),Object(S.jsx)("div",{className:"line-clamp-1 w-5/12 px-3",children:e.id}),Object(S.jsxs)("div",{className:"flex w-4/12 flex-shrink-0",children:[r?Object(S.jsx)(r,{}):null,Object(S.jsx)("span",{className:"ml-3 hidden sm:block line-clamp-1",children:e.type})]}),Object(S.jsxs)("div",{className:"flex items-center flex-grow justify-end",children:[Object(S.jsx)(me.a,{variant:"transparent",onClick:function(){M(e.type,t)},children:Object(S.jsx)(O.a,{fontSize:"small"})}),Object(S.jsx)(me.a,{variant:"transparent",onClick:Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)({confirmation:"Do you really want to delete the field?"});case 2:e.sent&&((n=JSON.parse(JSON.stringify(D[I]))).fields.splice(t,1),u({type:"UPDATE_COLLECTION_FIELDS",payload:n.fields,docId:n.docId}),Object(j.d)(D[I].docId,n));case 4:case"end":return e.stop()}}),e)}))),children:Object(S.jsx)(v.a,{fontSize:"small"})})]})]}),"field-".concat(t))}},e.id)})):null,e.placeholder]})}))}})})]}):null]}),Object(S.jsx)(B,{editingCollectionIndex:g,collections:D,open:n,onClose:function(){c(!1),y(-1)}}),Object(S.jsx)(Fe,{onClose:function(){return P(void 0)},open:!!L,collectionType:L})]})}}}]);
//# sourceMappingURL=12.d9ed73c2.chunk.js.map